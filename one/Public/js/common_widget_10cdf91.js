define("common:widget/oui/lib/jquery/1.9.1/jquery",function(e,t,n){function r(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Ct[e]={};return lt.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function o(e,t,n,r){if(lt.acceptData(e)){var i,o,a=lt.expando,s="string"==typeof t,u=e.nodeType,l=u?lt.cache:e,c=u?e[a]:e[a]&&a;if(c&&l[c]&&(r||l[c].data)||!s||void 0!==n)return c||(u?e[a]=c=et.pop()||lt.guid++:c=a),l[c]||(l[c]={},u||(l[c].toJSON=lt.noop)),("object"==typeof t||"function"==typeof t)&&(r?l[c]=lt.extend(l[c],t):l[c].data=lt.extend(l[c].data,t)),i=l[c],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[lt.camelCase(t)]=n),s?(o=i[t],null==o&&(o=i[lt.camelCase(t)])):o=i,o}}function a(e,t,n){if(lt.acceptData(e)){var r,i,o,a=e.nodeType,s=a?lt.cache:e,l=a?e[lt.expando]:lt.expando;if(s[l]){if(t&&(o=n?s[l]:s[l].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?u:lt.isEmptyObject)(o))return}(n||(delete s[l].data,u(s[l])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Et,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?lt.parseJSON(n):n}catch(i){}lt.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function f(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=lt.grep(e,function(e){return 1===e.nodeType});if(zt.test(t))return lt.filter(t,r,!n);t=lt.filter(t,r)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function p(e){var t=Vt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function g(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=an.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,r=0;null!=(n=e[r]);r++)lt._data(n,"globalEval",!t||lt._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,r,i,o=lt._data(e),a=lt._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)lt.event.add(t,n,s[n][r])}a.data&&(a.data=lt.extend({},a.data))}}function b(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){i=lt._data(t);for(r in i.events)lt.removeEvent(t,r,i.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&nn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||lt.nodeName(r,t)?o.push(r):lt.merge(o,x(r,t));return void 0===t||t&&lt.nodeName(e,t)?lt.merge([e],o):o}function w(e){nn.test(e.type)&&(e.defaultChecked=e.checked)}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=En.length;i--;)if(t=En[i]+n,t in e)return t;return r}function N(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function C(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=lt._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&N(r)&&(o[a]=lt._data(r,"olddisplay",A(r.nodeName)))):o[a]||(i=N(r),(n&&"none"!==n||!i)&&lt._data(r,"olddisplay",i?n:lt.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var r=bn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=lt.css(e,n+kn[o],!0,i)),r?("content"===n&&(a-=lt.css(e,"padding"+kn[o],!0,i)),"margin"!==n&&(a-=lt.css(e,"border"+kn[o]+"Width",!0,i))):(a+=lt.css(e,"padding"+kn[o],!0,i),"padding"!==n&&(a+=lt.css(e,"border"+kn[o]+"Width",!0,i)));return a}function S(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=fn(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=pn(e,t,o),(0>i||null==i)&&(i=e.style[t]),xn.test(i))return i;r=a&&(lt.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+E(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e){var t=J,n=Tn[e];return n||(n=j(e,t),"none"!==n&&n||(dn=(dn||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(dn[0].contentWindow||dn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=j(e,t),dn.detach()),Tn[e]=n),n}function j(e,t){var n=lt(t.createElement(e)).appendTo(t.body),r=lt.css(n[0],"display");return n.remove(),r}function D(e,t,n,r){var i;if(lt.isArray(t))lt.each(t,function(t,i){n||An.test(e)?r(e,i):D(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==lt.type(t))r(e,t);else for(i in t)D(e+"["+i+"]",t[i],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(dt)||[];if(lt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,t,n,r){function i(s){var u;return o[s]=!0,lt.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Xn;return i(t.dataTypes[0])||!o["*"]&&i("*")}function q(e,t){var n,r,i=lt.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&lt.extend(!0,e,n),e}function M(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes,l=e.responseFields;for(a in l)a in n&&(t[l[a]]=n[a]);for(;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function _(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}function F(){try{return new window.XMLHttpRequest}catch(e){}}function O(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function B(){return setTimeout(function(){er=void 0}),er=lt.now()}function P(e,t){lt.each(t,function(t,n){for(var r=(ar[t]||[]).concat(ar["*"]),i=0,o=r.length;o>i;i++)if(r[i].call(e,t,n))return})}function R(e,t,n){var r,i,o=0,a=or.length,s=lt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=er||B(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:er||B(),duration:n.duration,tweens:[],createTween:function(t,n){var r=lt.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(W(c,l.opts.specialEasing);a>o;o++)if(r=or[o].call(l,e,c,l.opts))return r;return P(l,c),lt.isFunction(l.opts.start)&&l.opts.start.call(e,l),lt.fx.timer(lt.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e,t){var n,r,i,o,a;for(i in e)if(r=lt.camelCase(i),o=t[r],n=e[i],lt.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=lt.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}function $(e,t,n){var r,i,o,a,s,u,l,c,d,f=this,p=e.style,h={},g=[],m=e.nodeType&&N(e);n.queue||(c=lt._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,lt.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],nr.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?lt(e).show():f.done(function(){lt(e).hide()}),f.done(function(){var t;lt._removeData(e,"fxshow");for(t in h)lt.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||lt.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function z(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=kn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function X(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,V,Y="undefined",J=window.document,G=window.location,Q=window.jQuery,K=window.$,Z={},et=[],tt="1.9.1",nt=et.concat,rt=et.push,it=et.slice,ot=et.indexOf,at=Z.toString,st=Z.hasOwnProperty,ut=tt.trim,lt=function(e,t){return new lt.fn.init(e,t,V)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bt=/^-ms-/,xt=/-([\da-z])/gi,wt=function(e,t){return t.toUpperCase()},Tt=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(Nt(),lt.ready())},Nt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Tt,!1),window.removeEventListener("load",Tt,!1)):(J.detachEvent("onreadystatechange",Tt),window.detachEvent("onload",Tt))};lt.fn=lt.prototype={jquery:tt,constructor:lt,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pt.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof lt?t[0]:t,lt.merge(this,lt.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ht.test(r[1])&&lt.isPlainObject(t))for(r in t)lt.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(i=J.getElementById(r[2]),i&&i.parentNode){if(i.id!==r[2])return n.find(e);this.length=1,this[0]=i}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?n.ready(e):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},s=2),"object"==typeof a||lt.isFunction(a)||(a={}),u===s&&(a=this,--s);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(lt.isPlainObject(n)||(t=lt.isArray(n)))?(t?(t=!1,o=e&&lt.isArray(e)?e:[]):o=e&&lt.isPlainObject(e)?e:{},a[r]=lt.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},lt.extend({noConflict:function(e){return window.$===lt&&(window.$=K),e&&window.jQuery===lt&&(window.jQuery=Q),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!J.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(U.resolveWith(J,[lt]),lt.fn.trigger&&lt(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Z[at.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!st.call(e,"constructor")&&!st.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n;for(n in e);return void 0===n||st.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ht.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=lt.buildFragment([e],t,i),i&&lt(i).remove(),lt.merge([],r.childNodes))},parseJSON:function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e):null===e?e:"string"==typeof e&&(e=lt.trim(e),e&&gt.test(e.replace(yt,"@").replace(vt,"]").replace(mt,"")))?new Function("return "+e)():void lt.error("Invalid JSON: "+e)},parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(r){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&lt.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(bt,"ms-").replace(xt,wt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,o=0,a=e.length,s=r(e);if(n){if(s)for(;a>o&&(i=t.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],n),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:ut&&!ut.call("﻿ ")?function(e){return null==e?"":ut.call(e)}:function(e){return null==e?"":(e+"").replace(ft,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?lt.merge(n,"string"==typeof e?[e]:e):rt.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(ot)return ot.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,a=e.length,s=r(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,n),null!=i&&(u[u.length]=i);else for(o in e)i=t(e[o],o,n),null!=i&&(u[u.length]=i);return nt.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),lt.isFunction(e)?(n=it.call(arguments,2),r=function(){return e.apply(t||this,n.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):void 0},access:function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===lt.type(n)){i=!0;for(s in n)lt.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,lt.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(lt(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(e){if(!U)if(U=lt.Deferred(),"complete"===J.readyState)setTimeout(lt.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Tt,!1),window.addEventListener("load",Tt,!1);else{J.attachEvent("onreadystatechange",Tt),window.attachEvent("onload",Tt);var t=!1;try{t=null==window.frameElement&&J.documentElement}catch(n){}t&&t.doScroll&&!function r(){if(!lt.isReady){try{t.doScroll("left")}catch(e){return setTimeout(r,50)}Nt(),lt.ready()}}()}return U.promise(e)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()}),V=lt(J);var Ct={};lt.Callbacks=function(e){e="string"==typeof e?Ct[e]||i(e):lt.extend({},e);var t,n,r,o,a,s,u=[],l=!e.once&&[],c=function(i){for(n=e.memory&&i,r=!0,a=s||0,s=0,o=u.length,t=!0;u&&o>a;a++)if(u[a].apply(i[0],i[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),t?o=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&lt.each(arguments,function(e,n){for(var r;(r=lt.inArray(n,u,r))>-1;)u.splice(r,1),t&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?lt.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return n=n||[],n=[e,n.slice?n.slice():n],!u||r&&!l||(t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,o){var a=o[0],s=lt.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,r):r}},i={};return r.pipe=r.then,lt.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=it.call(arguments),a=o.length,s=1!==a||e&&lt.isFunction(e.promise)?a:0,u=1===s?e:lt.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?it.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&lt.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),lt.support=function(){var e,t,n,r,i,o,a,s,u,l,c=J.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=c.getElementsByTagName("*"),n=c.getElementsByTagName("a")[0],!t||!n||!t.length)return{};i=J.createElement("select"),a=i.appendChild(J.createElement("option")),r=c.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==c.className,leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!r.value,optSelected:a.selected,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,e.noCloneChecked=r.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!a.disabled;try{delete c.test}catch(d){e.deleteExpando=!1}r=J.createElement("input"),r.setAttribute("value",""),e.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),e.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),o=J.createDocumentFragment(),o.appendChild(r),e.appendChecked=r.checked,e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,c.attachEvent&&(c.attachEvent("onclick",function(){e.noCloneEvent=!1}),c.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})c.setAttribute(s="on"+l,"t"),e[l+"Bubbles"]=s in window||c.attributes[s].expando===!1;return c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===c.style.backgroundClip,lt(function(){var t,n,r,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=J.getElementsByTagName("body")[0];o&&(t=J.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(t).appendChild(c),c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=c.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=u&&0===r[0].offsetHeight,c.innerHTML="",c.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===c.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,window.getComputedStyle&&(e.pixelPosition="1%"!==(window.getComputedStyle(c,null)||{}).top,e.boxSizingReliable="4px"===(window.getComputedStyle(c,null)||{width:"4px"}).width,n=c.appendChild(J.createElement("div")),n.style.cssText=c.style.cssText=i,n.style.marginRight=n.style.width="0",c.style.width="1px",e.reliableMarginRight=!parseFloat((window.getComputedStyle(n,null)||{}).marginRight)),typeof c.style.zoom!==Y&&(c.innerHTML="",c.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===c.offsetWidth,c.style.display="block",c.innerHTML="<div></div>",c.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==c.offsetWidth,e.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(t),t=c=r=n=null)}),t=i=o=a=n=r=null,e}();var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(tt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!u(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,a=null;if(void 0===e){if(this.length&&(a=lt.data(i),1===i.nodeType&&!lt._data(i,"parsedAttrs"))){for(n=i.attributes;o<n.length;o++)r=n[o].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),s(i,r,a[r]));lt._data(i,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(t){return void 0===t?i?s(i,e,lt.data(i,e)):null:void this.each(function(){lt.data(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=lt._data(e,t),n&&(!r||lt.isArray(n)?r=lt._data(e,t,lt.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),r=n.length,i=n.shift(),o=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?lt.queue(this[0],e):void 0===t?this:this.each(function(){var n=lt.queue(this,e,t);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=lt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=lt._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var St,At,jt=/[\t\r\n]/g,Dt=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i,qt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Mt=/^(?:checked|selected)$/i,_t=lt.support.getSetAttribute,Ft=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=lt.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(dt)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?lt.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return this.each(lt.isFunction(e)?function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,o=0,a=lt(this),s=t,u=e.match(dt)||[];i=u[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else(n===Y||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(t){var i,o=lt(this);1===this.nodeType&&(i=r?e.call(this,t,o.val()):e,null==i?i="":"number"==typeof i?i+="":lt.isArray(i)&&(i=lt.map(i,function(e){return null==e?"":e+""})),n=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,i,"value")||(this.value=i))});if(i)return n=lt.valHooks[i.type]||lt.valHooks[i.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(t=n.get(i,"value"))?t:(t=i.value,"string"==typeof t?t.replace(Dt,""):null==t?"":t)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Y?lt.prop(e,t,n):(i=1!==a||!lt.isXMLDoc(e),i&&(t=t.toLowerCase(),r=lt.attrHooks[t]||(qt.test(t)?At:St)),void 0===n?r&&i&&"get"in r&&null!==(o=r.get(e,t))?o:(typeof e.getAttribute!==Y&&(o=e.getAttribute(t)),null==o?void 0:o):null!==n?r&&i&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):void lt.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[i++];)r=lt.propFix[n]||n,qt.test(n)?!_t&&Mt.test(n)?e[lt.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:lt.attr(e,n,""),e.removeAttribute(_t?n:r)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!lt.isXMLDoc(e),o&&(t=lt.propFix[t]||t,i=lt.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");
return t&&t.specified?parseInt(t.value,10):Lt.test(e.nodeName)||Ht.test(e.nodeName)&&e.href?0:void 0}}}}),At={get:function(e,t){var n=lt.prop(e,t),r="boolean"==typeof n&&e.getAttribute(t),i="boolean"==typeof n?Ft&&_t?null!=r:Mt.test(t)?e[lt.camelCase("default-"+t)]:!!r:e.getAttributeNode(t);return i&&i.value!==!1?t.toLowerCase():void 0},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Ft&&_t||!Mt.test(n)?e.setAttribute(!_t&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Ft&&_t||(lt.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return lt.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:void 0},set:function(e,t,n){return lt.nodeName(e,"input")?void(e.defaultValue=t):St&&St.set(e,t,n)}}),_t||(St=lt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:void 0},set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},lt.attrHooks.contenteditable={get:St.get,set:function(e,t,n){St.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?void 0:n}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Ot=/^(?:input|select|textarea)$/i,Bt=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Wt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=lt._data(e);if(m){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=lt.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||(c=m.handle=function(e){return typeof lt===Y||e&&lt.event.triggered===e.type?void 0:lt.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(dt)||[""],s=t.length;s--;)o=Wt.exec(t[s])||[],p=g=o[1],h=(o[2]||"").split(".").sort(),l=lt.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=lt.event.special[p]||{},d=lt.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&lt.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),lt.event.global[p]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=lt.hasData(e)&&lt._data(e);if(m&&(c=m.events)){for(t=(t||"").match(dt)||[""],l=t.length;l--;)if(s=Wt.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(d=lt.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,m.handle)!==!1||lt.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)lt.event.remove(e,p+t[l],n,r,!0);lt.isEmptyObject(c)&&(delete m.handle,lt._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,u,l,c,d=[n||J],f=st.call(e,"type")?e.type:e,p=st.call(e,"namespace")?e.namespace.split("."):[];if(a=l=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,e=e[lt.expando]?e:new lt.Event(f,"object"==typeof e&&e),e.isTrigger=!0,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:lt.makeArray(t,[e]),u=lt.event.special[f]||{},r||!u.trigger||u.trigger.apply(n,t)!==!1)){if(!r&&!u.noBubble&&!lt.isWindow(n)){for(s=u.delegateType||f,Rt.test(s+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(n.ownerDocument||J)&&d.push(l.defaultView||l.parentWindow||window)}for(c=0;(a=d[c++])&&!e.isPropagationStopped();)e.type=c>1?s:u.bindType||f,i=(lt._data(a,"events")||{})[e.type]&&lt._data(a,"handle"),i&&i.apply(a,t),i=o&&a[o],i&&lt.acceptData(a)&&i.apply&&i.apply(a,t)===!1&&e.preventDefault();if(e.type=f,!(r||e.isDefaultPrevented()||u._default&&u._default.apply(n.ownerDocument,t)!==!1||"click"===f&&lt.nodeName(n,"a")||!lt.acceptData(n)||!o||!n[f]||lt.isWindow(n))){l=n[o],l&&(n[o]=null),lt.event.triggered=f;try{n[f]()}catch(h){}lt.event.triggered=void 0,l&&(n[o]=l)}return e.result}},dispatch:function(e){e=lt.event.fix(e);var t,n,r,i,o,a=[],s=it.call(arguments),u=(lt._data(this,"events")||{})[e.type]||[],l=lt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=lt.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((lt.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?lt(n,this).index(u)>=0:lt.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[lt.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Pt.test(i)?this.mouseHooks:Bt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new lt.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||J,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==J.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===J.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?lt.event.trigger(i,null,t):lt.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Y&&(e[r]=null),e.detachEvent(r,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),void(this[lt.expando]=!0)):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!lt.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:void lt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=lt.nodeName(t,"input")||lt.nodeName(t,"button")?t.form:void 0;n&&!lt._data(n,"submitBubbles")&&(lt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:void lt.event.remove(this,"._submit")}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Ot.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):void lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ot.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,r,!0)},teardown:function(){0===--n&&J.removeEventListener(e,r,!0)}}}),lt.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(a=r,r=function(e){return lt().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){lt.event.remove(this,e,n,t)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),function(e,t){function n(e){return ht.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=r}}function i(e){return e[P]=!0,e}function o(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,r){var i,o,a,s,u,l,c,p,h,g;if((t?t.ownerDocument||t:R)!==L&&D(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!q&&!r){if(i=gt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&O(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,K.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&W.getByClassName&&t.getElementsByClassName)return Q.apply(n,K.call(t.getElementsByClassName(a),0)),n}if(W.qsa&&!M.test(e)){if(c=!0,p=P,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=d(e),(c=t.getAttribute("id"))?p=c.replace(vt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=pt.test(e)&&t.parentNode||t,g=l.join(",")}if(g)try{return Q.apply(n,K.call(h.querySelectorAll(g),0)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return x(e.replace(at,"$1"),t,n,r)}function s(e,t){var n=t&&e,r=n&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function d(e,t){var n,r,i,o,s,u,l,c=X[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){(!n||(r=st.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=ut.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(at," ")}),s=s.slice(n.length));for(o in C.filter)!(r=ft[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):X(e,u).slice(0)}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=$+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(l=t[P]||(t[P]={}),(u=l[r])&&u[0]===c){if((s=u[1])===!0||s===N)return s===!0}else if(u=l[r]=[c],u[1]=e(t,n,a)||N,u[1]===!0)return!0}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function m(e,t,n,r,o,a){return r&&!r[P]&&(r=m(r)),o&&!o[P]&&(o=m(o,a)),i(function(i,a,s,u){var l,c,d,f=[],p=[],h=a.length,m=i||b(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?m:g(m,f,e,s,u),v=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r)for(l=g(v,p),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(v[p[c]]=!(y[p[c]]=d));if(i){if(o||e){if(o){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(y[c]=d);o(null,v=[],l,u)}for(c=v.length;c--;)(d=v[c])&&(l=o?Z.call(i,d):f[c])>-1&&(i[l]=!(a[l]=d))}}else v=g(v===a?v.splice(h,v.length):v),o?o(null,a,v,u):Q.apply(a,v)})}function y(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return Z.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r))}];i>s;s++)if(n=C.relative[e[s].type])c=[p(h(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!C.relative[e[r].type];r++);return m(s>1&&h(c),s>1&&f(e.slice(0,s-1)).replace(at,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function v(e,t){var n=0,r=t.length>0,o=e.length>0,s=function(i,s,u,l,c){var d,f,p,h=[],m=0,y="0",v=i&&[],b=null!=c,x=j,w=i||o&&C.find.TAG("*",c&&s.parentNode||s),T=$+=null==x?1:Math.random()||.1;for(b&&(j=s!==L&&s,N=n);null!=(d=w[y]);y++){if(o&&d){for(f=0;p=e[f++];)if(p(d,s,u)){l.push(d);break}b&&($=T,N=++n)}r&&((d=!p&&d)&&m--,i&&v.push(d))}if(m+=y,r&&y!==m){for(f=0;p=t[f++];)p(v,h,s,u);if(i){if(m>0)for(;y--;)v[y]||h[y]||(h[y]=G.call(l));h=g(h)}Q.apply(l,h),b&&!i&&h.length>0&&m+t.length>1&&a.uniqueSort(l)}return b&&($=T,j=x),v};return r?i(s):s}function b(e,t,n){for(var r=0,i=t.length;i>r;r++)a(e,t[r],n);return n}function x(e,t,n,r){var i,o,a,s,u,l=d(e);if(!r&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!q&&C.relative[o[1].type]){if(t=C.find.ID(a.matches[0].replace(xt,wt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(i=ft.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(xt,wt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Q.apply(n,K.call(r,0)),n;break}}return S(e,l)(r,t,q,n,pt.test(e)),n}function w(){}var T,N,C,k,E,S,A,j,D,L,H,q,M,_,F,O,B,P="sizzle"+-new Date,R=e.document,W={},$=0,I=0,z=r(),X=r(),U=r(),V=typeof t,Y=1<<31,J=[],G=J.pop,Q=J.push,K=J.slice,Z=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),rt="([*^$|!~]?=)",it="\\["+et+"*("+tt+")"+et+"*(?:"+rt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+it.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),ut=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ct=new RegExp(ot),dt=new RegExp("^"+nt+"$"),ft={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ht=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,vt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{K.call(R.documentElement.childNodes,0)[0].nodeType}catch(Tt){K=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}E=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},D=a.setDocument=function(e){var r=e?e.ownerDocument||e:R;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,H=r.documentElement,q=E(r),W.tagNameNoComments=o(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),W.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),W.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),W.getByName=o(function(e){e.id=P+0,e.innerHTML="<a name='"+P+"'></a><div name='"+P+"'></div>",H.insertBefore(e,H.firstChild);var t=r.getElementsByName&&r.getElementsByName(P).length===2+r.getElementsByName(P+0).length;return W.getIdNotName=!r.getElementById(P),H.removeChild(e),t}),C.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==V&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},W.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==V&&!q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==V&&!q){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==V&&r.getAttributeNode("id").value===e?[r]:t:[]}},C.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=W.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.NAME=W.getByName&&function(e,t){return typeof t.getElementsByName!==V?t.getElementsByName(name):void 0},C.find.CLASS=W.getByClassName&&function(e,t){return typeof t.getElementsByClassName===V||q?void 0:t.getElementsByClassName(e)},_=[],M=[":focus"],(W.qsa=n(r.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||M.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&M.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(W.matchesSelector=n(F=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&o(function(e){W.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),_.push("!=",ot)}),M=new RegExp(M.join("|")),_=new RegExp(_.join("|")),O=n(H.contains)||H.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=H.compareDocumentPosition?function(e,t){var n;return e===t?(A=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===r||O(R,e)?-1:t===r||O(R,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(e===t)return A=!0,0;if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},A=!1,[0,0].sort(B),W.detectDuplicates=A,L):L},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&D(e),t=t.replace(bt,"='$1']"),!(!W.matchesSelector||q||_&&_.test(t)||M.test(t)))try{var n=F.call(e,t);if(n||W.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return a(t,L,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==L&&D(e),O(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==L&&D(e),q||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):q||W.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],r=1,i=0;if(A=!W.detectDuplicates,e.sort(B),A){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},k=a.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=k(t);return n},C=a.selectors={cacheLength:50,createPseudo:i,match:ft,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ft.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ct.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&z(e,function(e){return t.test(e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=a.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(c=m[P]||(m[P]={}),l=c[e]||[],p=l[0]===$&&l[1],f=l[0]===$&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[$,p,f];break}}else if(v&&(l=(t[P]||(t[P]={}))[e])&&l[0]===$)f=l[1];else for(;(d=++p&&d&&d[g]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++f||(v&&((d[P]||(d[P]={}))[e]=[$,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,t){var n,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return r[P]?r(t):r.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=Z.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(at,"$1"));return r[P]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return a(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return dt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=q?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[T]=u(T);for(T in{submit:!0,reset:!0})C.pseudos[T]=l(T);S=a.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=U(e,v(i,r))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=w.prototype=C.pseudos,C.setFilters=new w,D(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(window);var $t=/Until$/,It=/^(?:parents|prev(?:Until|All))/,zt=/^.[^:#\[\.,]*$/,Xt=lt.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(lt(e).filter(function(){for(t=0;i>t;t++)if(lt.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)lt.find(e,this[t],n);return n=this.pushStack(i>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e,!1))},filter:function(e){return this.pushStack(f(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Xt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=Xt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),r=lt.merge(this.get(),n);
return this.pushStack(lt.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,r){var i=lt.map(this,t,n);return $t.test(e)||(r=n),r&&"string"==typeof r&&(i=lt.filter(r,i)),i=this.length>1&&!Ut[e]?lt.unique(i):i,this.length>1&&It.test(e)&&(i=i.reverse()),this.pushStack(i)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!lt(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Jt=new RegExp("<(?:"+Vt+")[\\s/>]","i"),Gt=/^\s+/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Zt=/<tbody/i,en=/<|&#?\w+;/,tn=/<(?:script|style|link)/i,nn=/^(?:checkbox|radio)$/i,rn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^$|\/(?:java|ecma)script/i,an=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,un={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(J),cn=ln.appendChild(J.createElement("div"));un.optgroup=un.option,un.tbody=un.tfoot=un.colgroup=un.caption=un.thead,un.th=un.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return void 0===e?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(lt.isFunction(e)?function(t){lt(this).wrapInner(e.call(this,t))}:function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(x(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&y(x(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(x(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Yt,""):void 0;if(!("string"!=typeof e||tn.test(e)||!lt.support.htmlSerialize&&Jt.test(e)||!lt.support.leadingWhitespace&&Gt.test(e)||un[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(lt.cleanData(x(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=nt.apply([],e);var r,i,o,a,s,u,l=0,c=this.length,d=this,f=c-1,p=e[0],y=lt.isFunction(p);if(y||!(1>=c||"string"!=typeof p||lt.support.checkClone)&&rn.test(p))return this.each(function(r){var i=d.eq(r);y&&(e[0]=p.call(this,r,t?i.html():void 0)),i.domManip(e,t,n)});if(c&&(u=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=u.firstChild,1===u.childNodes.length&&(u=r),r)){for(t=t&&lt.nodeName(r,"tr"),a=lt.map(x(u,"script"),g),o=a.length;c>l;l++)i=u,l!==f&&(i=lt.clone(i,!0,!0),o&&lt.merge(a,x(i,"script"))),n.call(t&&lt.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],i,l);if(o)for(s=a[a.length-1].ownerDocument,lt.map(a,m),l=0;o>l;l++)i=a[l],on.test(i.type||"")&&!lt._data(i,"globalEval")&&lt.contains(s,i)&&(i.src?lt.ajax({url:i.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(sn,"")));u=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,r=0,i=[],o=lt(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),lt(o[r])[t](n),rt.apply(i,n.get());return this.pushStack(i)}}),lt.extend({clone:function(e,t,n){var r,i,o,a,s,u=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(r=x(o),s=x(e),a=0;null!=(i=s[a]);++a)r[a]&&b(i,r[a]);if(t)if(n)for(s=s||x(e),r=r||x(o),a=0;null!=(i=s[a]);a++)v(i,r[a]);else v(e,o);return r=x(o,"script"),r.length>0&&y(r,!u&&x(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=p(t),h=[],g=0;d>g;g++)if(o=e[g],o||0===o)if("object"===lt.type(o))lt.merge(h,o.nodeType?[o]:o);else if(en.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Kt.exec(o)||["",""])[1].toLowerCase(),c=un[u]||un._default,s.innerHTML=c[1]+o.replace(Qt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Gt.test(o)&&h.push(t.createTextNode(Gt.exec(o)[0])),!lt.support.tbody)for(o="table"!==u||Zt.test(o)?"<table>"!==c[1]||Zt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)lt.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(lt.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else h.push(t.createTextNode(o));for(s&&f.removeChild(s),lt.support.appendChecked||lt.grep(x(h,"input"),w),g=0;o=h[g++];)if((!r||-1===lt.inArray(o,r))&&(a=lt.contains(o.ownerDocument,o),s=x(f.appendChild(o),"script"),a&&y(s),n))for(i=0;o=s[i++];)on.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=lt.expando,u=lt.cache,l=lt.support.deleteExpando,c=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?lt.event.remove(n,r):lt.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Y?n.removeAttribute(s):n[s]=null,et.push(i))}}});var dn,fn,pn,hn=/alpha\([^)]*\)/i,gn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,yn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,bn=new RegExp("^("+ct+")(.*)$","i"),xn=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+ct+")","i"),Tn={BODY:"block"},Nn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],En=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,t){return lt.access(this,function(e,t,n){var r,i,o={},a=0;if(lt.isArray(t)){for(i=fn(e),r=t.length;r>a;a++)o[t[a]]=lt.css(e,t[a],!1,i);return o}return void 0!==n?lt.style(e,t,n):lt.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:N(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=lt.camelCase(t),u=e.style;if(t=lt.cssProps[s]||(lt.cssProps[s]=T(u,s)),a=lt.cssHooks[t]||lt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=wn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(lt.css(e,t)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||lt.cssNumber[s]||(n+="px"),lt.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=lt.camelCase(t);return t=lt.cssProps[s]||(lt.cssProps[s]=T(e.style,s)),a=lt.cssHooks[t]||lt.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=pn(e,t,r)),"normal"===o&&t in Cn&&(o=Cn[t]),""===n||n?(i=parseFloat(o),n===!0||lt.isNumeric(i)?i||0:o):o},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),window.getComputedStyle?(fn=function(e){return window.getComputedStyle(e,null)},pn=function(e,t,n){var r,i,o,a=n||fn(e),s=a?a.getPropertyValue(t)||a[t]:void 0,u=e.style;return a&&(""!==s||lt.contains(e.ownerDocument,e)||(s=lt.style(e,t)),xn.test(s)&&vn.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=s,s=a.width,u.width=r,u.minWidth=i,u.maxWidth=o)),s}):J.documentElement.currentStyle&&(fn=function(e){return e.currentStyle},pn=function(e,t,n){var r,i,o,a=n||fn(e),s=a?a[t]:void 0,u=e.style;return null==s&&u&&u[t]&&(s=u[t]),xn.test(s)&&!mn.test(t)&&(r=u.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":s,s=u.pixelLeft+"px",u.left=r,o&&(i.left=o)),""===s?"auto":s}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&yn.test(lt.css(e,"display"))?lt.swap(e,Nn,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){var i=r&&fn(e);return k(e,n,r?E(e,t,r,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,i),i):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return gn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=hn.test(o)?o.replace(hn,i):o+" "+i)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=pn(e,t),xn.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+kn[r]+t]=o[r]||o[r-2]||o[0];return i}},vn.test(e)||(lt.cssHooks[e+t].set=k)});var Sn=/%20/g,An=/\[\]$/,jn=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,Ln=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Ln.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!nn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(jn,"\r\n")}}):{name:t.name,value:n.replace(jn,"\r\n")}}).get()}}),lt.param=function(e,t){var n,r=[],i=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){i(this.name,this.value)});else for(n in e)D(n,e[n],t,i);return r.join("&").replace(Sn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Hn,qn,Mn=lt.now(),_n=/\?/,Fn=/#.*$/,On=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Wn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,In=lt.fn.load,zn={},Xn={},Un="*/".concat("*");try{qn=G.href}catch(Vn){qn=J.createElement("a"),qn.href="",qn=qn.href}Hn=$n.exec(qn.toLowerCase())||[],lt.fn.load=function(e,t,n){if("string"!=typeof e&&In)return In.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=e.slice(s,e.length),e=e.slice(0,s)),lt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&lt.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,t){lt[t]=function(e,n,r,i){return lt.isFunction(n)&&(i=i||r,r=n,n=void 0),lt.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qn,type:"GET",isLocal:Pn.test(Hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,lt.ajaxSettings),t):q(lt.ajaxSettings,e)},ajaxPrefilter:L(zn),ajaxTransport:L(Xn),ajax:function(e,t){function n(e,t,n,r){var i,c,y,v,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,n&&(v=M(d,w,n)),e>=200&&300>e||304===e?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(lt.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(lt.etag[o]=x)),204===e?(i=!0,T="nocontent"):304===e?(i=!0,T="notmodified"):(i=_(d,v),T=i.state,c=i.data,y=i.error,i=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,y]),w.statusCode(m),m=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:y]),g.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=lt.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?lt(f):lt.event,h=lt.Deferred(),g=lt.Callbacks("once memory"),m=d.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Bn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||qn)+"").replace(Fn,"").replace(Wn,Hn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(dt)||[""],null==d.crossDomain&&(r=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Hn[1]&&r[2]===Hn[2]&&(r[3]||("http:"===r[1]?80:443))==(Hn[3]||("http:"===Hn[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),H(zn,d,t,w),2===b)return w;u=d.global,u&&0===lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(_n.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=On.test(o)?o.replace(On,"$1_="+Mn++):o+(_n.test(o)?"&":"?")+"_="+Mn++)),d.ifModified&&(lt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",lt.lastModified[o]),lt.etag[o]&&w.setRequestHeader("If-None-Match",lt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Un+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=H(Xn,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(y,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getScript:function(e,t){return lt.get(e,void 0,t,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=J.head||lt("head")[0]||J.documentElement;return{send:function(r,i){t=J.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Yn=[],Jn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yn.pop()||lt.expando+"_"+Mn++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=e.jsonp!==!1&&(Jn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=lt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Jn,"$1"+r):e.jsonp!==!1&&(e.url+=(_n.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||lt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){o=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yn.push(r)),o&&lt.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0});var Gn,Qn,Kn=0,Zn=window.ActiveXObject&&function(){var e;for(e in Gn)Gn[e](void 0,!0)};lt.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&F()||O()}:F,Qn=lt.ajaxSettings.xhr(),lt.support.cors=!!Qn&&"withCredentials"in Qn,Qn=lt.support.ajax=!!Qn,Qn&&lt.ajaxTransport(function(e){if(!e.crossDomain||lt.support.cors){var t;return{send:function(n,r){var i,o,a=e.xhr();if(e.username?a.open(e.type,e.url,e.async,e.username,e.password):a.open(e.type,e.url,e.async),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(o in n)a.setRequestHeader(o,n[o])}catch(s){}a.send(e.hasContent&&e.data||null),t=function(n,o){var s,u,l,c;try{if(t&&(o||4===a.readyState))if(t=void 0,i&&(a.onreadystatechange=lt.noop,Zn&&delete Gn[i]),o)4!==a.readyState&&a.abort();else{c={},s=a.status,u=a.getAllResponseHeaders(),"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(f){o||r(-1,f)}c&&r(s,l,c,u)},e.async?4===a.readyState?setTimeout(t):(i=++Kn,Zn&&(Gn||(Gn={},lt(window).unload(Zn)),Gn[i]=t),a.onreadystatechange=t):t()},abort:function(){t&&t(void 0,!0)}}}});var er,tr,nr=/^(?:toggle|show|hide)$/,rr=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ir=/queueHooks$/,or=[$],ar={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=rr.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==r&&s){s=lt.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,lt.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};lt.Animation=lt.extend(R,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],ar[n]=ar[n]||[],ar[n].unshift(t)},prefilter:function(e,t){t?or.unshift(e):or.push(e)}}),lt.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(lt.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,r,i)}}),lt.fn.extend({fadeTo:function(e,t,n,r){return this.filter(N).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=lt.isEmptyObject(e),o=lt.speed(t,n,r),a=function(){var t=R(this,lt.extend({},e),o);a.finish=function(){t.stop(!0)},(i||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=lt.timers,a=lt._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ir.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=lt.timers,a=r?r.length:0;for(n.finish=!0,lt.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),lt.speed=function(e,t,n){var r=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return r.duration=lt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in lt.fx.speeds?lt.fx.speeds[r.duration]:lt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){lt.isFunction(r.old)&&r.old.call(this),r.queue&&lt.dequeue(this,r.queue)},r},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=I.prototype.init,lt.fx.tick=function(){var e,t=lt.timers,n=0;for(er=lt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||lt.fx.stop(),er=void 0},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){tr||(tr=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(tr),tr=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return void 0===e?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,lt.contains(t,i)?(typeof i.getBoundingClientRect!==Y&&(r=i.getBoundingClientRect()),n=X(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},lt.offset={setOffset:function(e,t,n){var r=lt.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=lt(e),s=a.offset(),u=lt.css(e,"top"),l=lt.css(e,"left"),c=("absolute"===r||"fixed"===r)&&lt.inArray("auto",[u,l])>-1,d={},f={};c?(f=a.position(),i=f.top,o=f.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===lt.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(r,"marginTop",!0),left:t.left-n.left-lt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||J.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);lt.fn[e]=function(r){return lt.access(this,function(e,r,i){var o=X(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?lt(o).scrollLeft():i,n?i:lt(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,t){lt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){lt.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return lt.access(this,function(t,n,r){var i;return lt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?lt.css(t,n,a):lt.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),window.jQuery=window.$=lt,n.exports=lt});
;define("common:widget/oui/arale/position/1.0.1/position",["require","exports","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,t){function o(e){e=u(e)||{},e.nodeType&&(e={element:e});var t=u(e.element)||d;if(1!==t.nodeType)throw new Error("posObject.element is invalid.");var o={element:t,x:e.x||0,y:e.y||0},n=t===d||"VIEWPORT"===t._id;return o.offset=function(){return p?{left:0,top:0}:n?{left:s(document).scrollLeft(),top:s(document).scrollTop()}:l(s(t)[0])},o.size=function(){var e=s(n?window:t);return{width:e.outerWidth(),height:e.outerHeight()}},o}function n(e){e.x=i(e.x,e,"width"),e.y=i(e.y,e,"height")}function i(e,t,o){if(e+="",e=e.replace(/px/gi,""),/\D/.test(e)&&(e=e.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==e.indexOf("%")&&(e=e.replace(/(\d+(?:\.\d+)?)%/gi,function(e,n){return t.size()[o]*(n/100)})),/[+\-*\/]/.test(e))try{e=new Function("return "+e)()}catch(n){throw new Error("Invalid position value: "+e)}return c(e)}function r(e){var t=e.offsetParent();t[0]===document.documentElement&&(t=s(document.body)),m&&t.css("zoom",1);var o;return o=t[0]===document.body&&"static"===t.css("position")?{top:0,left:0}:l(t[0]),o.top+=c(t.css("border-top-width")),o.left+=c(t.css("border-left-width")),o}function c(e){return parseFloat(e,10)||0}function u(e){return s(e)[0]}function l(e){var t=e.getBoundingClientRect(),o=document.documentElement;return{left:t.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var f=t,d={_id:"VIEWPORT",nodeType:1},s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),p=!1,a=(window.navigator.userAgent||"").toLowerCase(),m=-1!==a.indexOf("msie 6");f.pin=function(e,t){e=o(e),t=o(t);var i=s(e.element);"fixed"!==i.css("position")||m?(i.css("position","absolute"),p=!1):p=!0,n(e),n(t);var c=r(i),u=t.offset(),l=u.top+t.y-e.y-c.top,f=u.left+t.x-e.x-c.left;i.css({left:f,top:l})},f.center=function(e,t){f.pin({element:e,x:"50%",y:"50%"},{element:t,x:"50%",y:"50%"})},f.VIEWPORT=d});
;define("common:widget/oui/arale/shim/1.0.2/iframe-shim",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/position/1.0.1/position"],function(e,i,t){function o(e){this.target=s(e).eq(0)}function r(){}function n(e){var i={display:"none",border:"none",opacity:0,position:"absolute"},t=e.css("zIndex");return t&&t>0&&(i.zIndex=t-1),s("<iframe>",{src:"javascript:''",frameborder:0,css:i}).insertBefore(e)}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/arale/position/1.0.1/position"),u=-1!==(window.navigator.userAgent||"").toLowerCase().indexOf("msie 6");o.prototype.sync=function(){var e=this.target,i=this.iframe;if(!e.length)return this;var t=e.outerHeight(),o=e.outerWidth();return t&&o&&!e.is(":hidden")?(i||(i=this.iframe=n(e)),i.css({height:t,width:o}),a.pin(i[0],e[0]),i.show()):i&&i.hide(),this},o.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),delete this.iframe),delete this.target},u?t.exports=o:(r.prototype.sync=function(){return this},r.prototype.destroy=r,t.exports=r)});
;define("common:widget/oui/arale/class/1.1.0/class",function(t,n,r){function o(t){return this instanceof o||!f(t)?void 0:i(t)}function e(t){var n,r;for(n in t)r=t[n],o.Mutators.hasOwnProperty(n)?o.Mutators[n].call(this,r):this.prototype[n]=r}function i(t){return t.extend=o.extend,t.implement=e,t}function s(){}function c(t,n,r){for(var o in n)if(n.hasOwnProperty(o)){if(r&&-1===l(r,o))continue;"prototype"!==o&&(t[o]=n[o])}}r.exports=o,o.create=function(t,n){function r(){t.apply(this,arguments),this.constructor===r&&this.initialize&&this.initialize.apply(this,arguments)}return f(t)||(n=t,t=null),n||(n={}),t||(t=n.Extends||o),n.Extends=t,t!==o&&c(r,t,t.StaticsWhiteList),e.call(r,n),i(r)},o.extend=function(t){return t||(t={}),t.Extends=this,o.create(t)},o.Mutators={Extends:function(t){var n=this.prototype,r=u(t.prototype);c(r,n),r.constructor=this,this.prototype=r,this.superclass=t.prototype},Implements:function(t){p(t)||(t=[t]);for(var n,r=this.prototype;n=t.shift();)c(r,n.prototype||n)},Statics:function(t){c(this,t)}};var u=Object.__proto__?function(t){return{__proto__:t}}:function(t){return s.prototype=t,new s},a=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===a.call(t)},f=function(t){return"[object Function]"===a.call(t)},l=Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var r=0,o=t.length;o>r;r++)if(t[r]===n)return r;return-1}});
;define("common:widget/oui/arale/events/1.1.0/events",function(){function t(){}function e(t,e,r,s){var n;if(t)for(var i=0,o=t.length;o>i;i+=2)n=t[i].apply(t[i+1]||r,e),n===!1&&s.status&&(s.status=!1)}var r=/\s+/;t.prototype.on=function(t,e,s){var n,i,o;if(!e)return this;for(n=this.__events||(this.__events={}),t=t.split(r);i=t.shift();)o=n[i]||(n[i]=[]),o.push(e,s);return this},t.prototype.off=function(t,e,n){var i,o,f,u;if(!(i=this.__events))return this;if(!(t||e||n))return delete this.__events,this;for(t=t?t.split(r):s(i);o=t.shift();)if(f=i[o])if(e||n)for(u=f.length-2;u>=0;u-=2)e&&f[u]!==e||n&&f[u+1]!==n||f.splice(u,2);else delete i[o];return this},t.prototype.trigger=function(t){var s,n,i,o,f,u,a=[],h={status:!0};if(!(s=this.__events))return this;for(t=t.split(r),f=1,u=arguments.length;u>f;f++)a[f-1]=arguments[f];for(;n=t.shift();)(i=s.all)&&(i=i.slice()),(o=s[n])&&(o=o.slice()),e(o,a,this,h),e(i,[n].concat(a),this,h);return h.status},t.mixTo=function(e){e=e.prototype||e;var r=t.prototype;for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])};var s=Object.keys;return s||(s=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}),t});
;define("common:widget/oui/arale/base/1.1.1/aspect",function(t,r){function i(t,r,i,s){for(var o,c,f=r.split(a);o=f.shift();)c=e(this,o),c.__isAspected||n.call(this,o),this.on(t+":"+o,i,s);return this}function e(t,r){var i=t[r];if(!i)throw new Error("Invalid method name: "+r);return i}function n(t){var r=this[t];this[t]=function(){var i=Array.prototype.slice.call(arguments),e=["before:"+t].concat(i);if(this.trigger.apply(this,e)!==!1){var n=r.apply(this,arguments),a=["after:"+t,n].concat(i);return this.trigger.apply(this,a),n}},this[t].__isAspected=!0}r.before=function(t,r,e){return i.call(this,"before",t,r,e)},r.after=function(t,r,e){return i.call(this,"after",t,r,e)};var a=/\s+/});
;define("common:widget/oui/arale/base/1.1.1/attribute",function(t,r){function e(t){return"[object String]"===w.call(t)}function n(t){return"[object Function]"===w.call(t)}function i(t){return null!=t&&t==t.window}function o(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!A.call(t,"constructor")&&!A.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var e;if(j)for(e in t)return A.call(t,e);for(e in t);return void 0===e||A.call(t,e)}function a(t){if(!t||"[object Object]"!==w.call(t)||t.nodeType||i(t)||!t.hasOwnProperty)return!1;for(var r in t)if(t.hasOwnProperty(r))return!1;return!0}function c(t,r){var e;for(e in r)r.hasOwnProperty(e)&&(t[e]=u(r[e],t[e]));return t}function u(t,r){return P(t)?t=t.slice():o(t)&&(o(r)||(r={}),t=c(r,t)),t}function s(t,r,e){for(var n=[],i=r.constructor.prototype;i;)i.hasOwnProperty("attrs")||(i.attrs={}),l(e,i.attrs,i),a(i.attrs)||n.unshift(i.attrs),i=i.constructor.superclass;for(var o=0,c=n.length;c>o;o++)y(t,p(n[o]))}function f(t,r){y(t,p(r,!0),!0)}function l(t,r,e,n){for(var i=0,o=t.length;o>i;i++){var a=t[i];e.hasOwnProperty(a)&&(r[a]=n?r.get(a):e[a])}}function h(t,r){for(var e in r)if(r.hasOwnProperty(e)){var i,o=r[e].value;n(o)&&(i=e.match(m))&&(t[i[1]](v(i[2]),o),delete r[e])}}function v(t){var r=t.match(S),e=r[1]?"change:":"";return e+=r[2].toLowerCase()+r[3]}function g(t,r,e){var n={silent:!0};t.__initializingAttrs=!0;for(var i in e)e.hasOwnProperty(i)&&r[i].setter&&t.set(i,e[i],n);delete t.__initializingAttrs}function p(t,r){var e={};for(var n in t){var i=t[n];e[n]=!r&&o(i)&&b(i,x)?i:{value:i}}return e}function y(t,r,e){var n,i,o;for(n in r)if(r.hasOwnProperty(n)){if(i=r[n],o=t[n],o||(o=t[n]={}),void 0!==i.value&&(o.value=u(i.value,o.value)),e)continue;for(var a in C){var c=C[a];void 0!==i[c]&&(o[c]=i[c])}}return t}function b(t,r){for(var e=0,n=r.length;n>e;e++)if(t.hasOwnProperty(r[e]))return!0;return!1}function O(t){return null==t||(e(t)||P(t))&&0===t.length||a(t)}function d(t,r){if(t===r)return!0;if(O(t)&&O(r))return!0;var e=w.call(t);if(e!=w.call(r))return!1;switch(e){case"[object String]":return t==String(r);case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase;case"[object Array]":var n=t.toString(),i=r.toString();return-1===n.indexOf("[object")&&-1===i.indexOf("[object")&&n===i}if("object"!=typeof t||"object"!=typeof r)return!1;if(o(t)&&o(r)){if(!d(_(t),_(r)))return!1;for(var a in t)if(t[a]!==r[a])return!1;return!0}return!1}r.initAttrs=function(t){var r=this.attrs={},e=this.propsInAttrs||[];s(r,this,e),t&&f(r,t),g(this,r,t),h(this,r),l(e,this,r,!0)},r.get=function(t){var r=this.attrs[t]||{},e=r.value;return r.getter?r.getter.call(this,e,t):e},r.set=function(t,r,n){var i={};e(t)?i[t]=r:(i=t,n=r),n||(n={});var a=n.silent,u=n.override,s=this.attrs,f=this.__changedAttrs||(this.__changedAttrs={});for(t in i)if(i.hasOwnProperty(t)){var l=s[t]||(s[t]={});if(r=i[t],l.readOnly)throw new Error("This attribute is readOnly: "+t);l.setter&&(r=l.setter.call(this,r,t));var h=this.get(t);!u&&o(h)&&o(r)&&(r=c(c({},h),r)),s[t].value=r,this.__initializingAttrs||d(h,r)||(a?f[t]=[r,h]:this.trigger("change:"+t,r,h,t))}return this},r.change=function(){var t=this.__changedAttrs;if(t){for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];this.trigger("change:"+r,e[0],e[1],r)}delete this.__changedAttrs}return this},r._isPlainObject=o;var j,w=Object.prototype.toString,A=Object.prototype.hasOwnProperty;!function(){function t(){this.x=1}var r=[];t.prototype={valueOf:1,y:1};for(var e in new t)r.push(e);j="x"!==r[0]}();var P=Array.isArray||function(t){return"[object Array]"===w.call(t)},_=Object.keys;_||(_=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r});var m=/^(on|before|after)([A-Z].*)$/,S=/^(Change)?([A-Z])(.*)/,x=["value","getter","setter","readOnly"],C=["setter","getter","readOnly"]});
;define("common:widget/oui/arale/base/1.1.1/base",["require","exports","module","common:widget/oui/arale/class/1.1.0/class","common:widget/oui/arale/events/1.1.0/events","common:widget/oui/arale/base/1.1.1/aspect","common:widget/oui/arale/base/1.1.1/attribute"],function(e,t,i){function o(e,t){for(var i in t)if(t.hasOwnProperty(i)){var o="_onChange"+a(i);e[o]&&e.on("change:"+i,e[o])}}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}var s=e("common:widget/oui/arale/class/1.1.0/class"),n=e("common:widget/oui/arale/events/1.1.0/events"),r=e("common:widget/oui/arale/base/1.1.1/aspect"),c=e("common:widget/oui/arale/base/1.1.1/attribute");i.exports=s.create({Implements:[n,r,c],initialize:function(e){this.initAttrs(e),o(this,this.attrs)},destroy:function(){this.off();for(var e in this)this.hasOwnProperty(e)&&delete this[e];this.destroy=function(){}}})});
;define("common:widget/oui/arale/widget/1.1.1/daparser",["require","exports","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,r){function t(e){return e.toLowerCase().replace(o,function(e,r){return(r+"").toUpperCase()})}function a(e){for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];if("string"!=typeof t)continue;s.test(t)?(t=t.replace(/'/g,'"'),e[r]=a(u(t))):e[r]=n(t)}return e}function n(e){if("false"===e.toLowerCase())e=!1;else if("true"===e.toLowerCase())e=!0;else if(/\d/.test(e)&&/[^a-z]/i.test(e)){var r=parseFloat(e);r+""===e&&(e=r)}return e}var i=e("common:widget/oui/lib/jquery/1.9.1/jquery");r.parseElement=function(e,r){e=i(e)[0];var n={};if(e.dataset)n=i.extend({},e.dataset);else for(var o=e.attributes,s=0,u=o.length;u>s;s++){var f=o[s],l=f.name;0===l.indexOf("data-")&&(l=t(l.substring(5)),n[l]=f.value)}return r===!0?n:a(n)};var o=/-([a-z])/g,s=/^\s*[\[{].*[\]}]\s*$/,u=this.JSON?JSON.parse:i.parseJSON});
;define("common:widget/oui/arale/widget/1.1.1/auto-render",["require","exports","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,t){var a=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r="data-widget-auto-rendered";t.autoRender=function(e){return new this(e).render()},t.autoRenderAll=function(e,n){"function"==typeof e&&(n=e,e=null),e=a(e||document.body);var o=[],i=[];e.find("[data-widget]").each(function(e,a){t.isDataApiOff(a)||(o.push(a.getAttribute("data-widget").toLowerCase()),i.push(a))}),o.length&&seajs.use(o,function(){for(var e=0;e<arguments.length;e++){var t=arguments[e],o=a(i[e]);if(!o.attr(r)){var u={initElement:o,renderType:"auto"},d=o.attr("data-widget-role");u[d?d:"element"]=o,t.autoRender&&t.autoRender(u),o.attr(r,"true")}}n&&n()})};var n="off"===a(document.body).attr("data-api");t.isDataApiOff=function(e){var t=a(e).attr("data-api");return"off"===t||"on"!==t&&n}});
;define("common:widget/oui/arale/widget/1.1.1/widget",["require","exports","module","common:widget/oui/arale/base/1.1.1/base","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/widget/1.1.1/daparser","common:widget/oui/arale/widget/1.1.1/auto-render"],function(e,t,n){function i(){return"widget-"+A++}function r(e){return"[object String]"===y.call(e)}function s(e){return"[object Function]"===y.call(e)}function o(e){return b(document.documentElement,e)}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e){return s(e.events)&&(e.events=e.events()),e.events}function u(e,t){var n=e.match(R),i=n[1]+g+t.cid,r=n[2]||void 0;return r&&r.indexOf("{{")>-1&&(r=d(r,t)),{type:i,selector:r}}function d(e,t){return e.replace(x,function(e,n){for(var i,s=n.split("."),o=t;i=s.shift();)o=o===t.attrs?t.get(i):o[i];return r(o)?o:C})}function m(e){return null==e||void 0===e}var h=e("common:widget/oui/arale/base/1.1.1/base"),c=e("common:widget/oui/lib/jquery/1.9.1/jquery"),f=e("common:widget/oui/arale/widget/1.1.1/daparser"),p=e("common:widget/oui/arale/widget/1.1.1/auto-render"),g=".delegate-events-",v="_onRender",w="data-widget-cid",E={},_=h.extend({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:document.body},initialize:function(e){this.cid=i();var t=this._parseDataAttrsConfig(e);_.superclass.initialize.call(this,e?c.extend(t,e):t),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(e&&e.element)},_parseDataAttrsConfig:function(e){var t,n;return e&&(t=c(e.initElement?e.initElement:e.element)),t&&t[0]&&!p.isDataApiOff(t)&&(n=f.parseElement(t)),n},parseElement:function(){var e=this.element;if(e?this.element=c(e):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){this.element=c(this.get("template"))},initProps:function(){},delegateEvents:function(e,t,n){if(0===arguments.length?(t=l(this),e=this.element):1===arguments.length?(t=e,e=this.element):2===arguments.length?(n=t,t=e,e=this.element):(e||(e=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(c(e))),r(t)&&s(n)){var i={};i[t]=n,t=i}for(var o in t)if(t.hasOwnProperty(o)){var a=u(o,this),d=a.type,m=a.selector;!function(t,n){var i=function(e){s(t)?t.call(n,e):n[t](e)};m?c(e).on(d,m,i):c(e).on(d,i)}(t[o],this)}return this},undelegateEvents:function(e,t){if(t||(t=e,e=null),0===arguments.length){var n=g+this.cid;if(this.element&&this.element.off(n),this._delegateElements)for(var i in this._delegateElements)this._delegateElements.hasOwnProperty(i)&&this._delegateElements[i].off(n)}else{var r=u(t,this);e?c(e).off(r.type,r.selector):this.element&&this.element.off(r.type,r.selector)}return this},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var e=this.get("parentNode");if(e&&!o(this.element[0])){var t=this.constructor.outerBoxClass;if(t){var n=this._outerBox=c("<div></div>").addClass(t);n.append(this.element).appendTo(e)}else this.element.appendTo(e)}return this},_renderAndBindAttrs:function(){var e=this,t=e.attrs;for(var n in t)if(t.hasOwnProperty(n)){var i=v+a(n);if(this[i]){var r=this.get(n);m(r)||this[i](r,void 0,n),function(t){e.on("change:"+n,function(n,i,r){e[t](n,i,r)})}(i)}}},_onRenderId:function(e){this.element.attr("id",e)},_onRenderClassName:function(e){this.element.addClass(e)},_onRenderStyle:function(e){this.element.css(e)},_stamp:function(){var e=this.cid;(this.initElement||this.element).attr(w,e),E[e]=this},$:function(e){return this.element.find(e)},destroy:function(){this.undelegateEvents(),delete E[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,_.superclass.destroy.call(this)}});c(window).unload(function(){for(var e in E)E[e].destroy()}),_.query=function(e){var t,n=c(e).eq(0);return n&&(t=n.attr(w)),E[t]},_.autoRender=p.autoRender,_.autoRenderAll=p.autoRenderAll,_.StaticsWhiteList=["autoRender"],n.exports=_;var y=Object.prototype.toString,A=0,b=c.contains||function(e,t){return!!(16&e.compareDocumentPosition(t))},R=/^(\S+)\s*(.*)$/,x=/{{([^}]+)}}/g,C="INVALID_SELECTOR"});
;define("common:widget/oui/arale/overlay/1.1.2/overlay",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/position/1.0.1/position","common:widget/oui/arale/shim/1.0.2/iframe-shim","common:widget/oui/arale/widget/1.1.1/widget"],function(e,i,t){function n(e){return r.contains(document.documentElement,e)}function s(e){r(u.blurOverlays).each(function(i,t){if(t&&t.get("visible")){for(var n=0;n<t._relativeElements.length;n++){var s=r(t._relativeElements[n])[0];if(s===e.target||r.contains(s,e.target))return}t.hide()}})}function o(e,i){for(var t=0;t<i.length;t++)if(e===i[t])return i.splice(t,1),i}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=e("common:widget/oui/arale/position/1.0.1/position"),h=e("common:widget/oui/arale/shim/1.0.2/iframe-shim"),a=e("common:widget/oui/arale/widget/1.1.1/widget"),u=a.extend({attrs:{width:null,height:null,zIndex:99,visible:!1,align:{selfXY:[0,0],baseElement:l.VIEWPORT,baseXY:[0,0]},parentNode:document.body},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},setup:function(){var e=this;this._setupShim(),this._setupResize(),this.after("show",function(){e._setPosition()})},destroy:function(){return o(this,u.allOverlays),o(this,u.blurOverlays),u.superclass.destroy.call(this)},_setPosition:function(e){if(n(this.element[0])&&(e||(e=this.get("align")),e)){var i="none"===this.element.css("display");return i&&this.element.css({visibility:"hidden",display:"block"}),l.pin({element:this.element,x:e.selfXY[0],y:e.selfXY[1]},{element:e.baseElement,x:e.baseXY[0],y:e.baseXY[1]}),i&&this.element.css({visibility:"",display:"none"}),this}},_setupShim:function(){var e=new h(this.element);this.after("hide _setPosition",e.sync,e);var i=["width","height"];for(var t in i)i.hasOwnProperty(t)&&this.on("change:"+t,e.sync,e);this.before("destroy",e.destroy,e)},_setupResize:function(){u.allOverlays.push(this)},_blurHide:function(e){e=r.makeArray(e),e.push(this.element),this._relativeElements=e,u.blurOverlays.push(this)},_onRenderWidth:function(e){this.element.css("width",e)},_onRenderHeight:function(e){this.element.css("height",e)},_onRenderZIndex:function(e){this.element.css("zIndex",e)},_onRenderAlign:function(e){this._setPosition(e)},_onRenderVisible:function(e){this.element[e?"show":"hide"]()}});u.blurOverlays=[],r(document).on("click",function(e){s(e)});var d,c=r(window).width(),m=r(window).height();u.allOverlays=[],r(window).resize(function(){var e=r(window).width(),i=r(window).height();(c!==e||m!==i)&&(d&&clearTimeout(d),d=setTimeout(function(){r(u.allOverlays).each(function(e,i){i&&i.get("visible")&&i._setPosition()})},80)),c=e,m=i}),t.exports=u});
;define("common:widget/oui/arale/overlay/1.1.2/mask",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay"],function(e,o,t){var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/arale/overlay/1.1.2/overlay"),r=(window.navigator.userAgent||"").toLowerCase(),s=-1!==r.indexOf("msie 6"),u=i(document.body),a=i(document),l=n.extend({attrs:{width:s?a.outerWidth(!0):"100%",height:s?a.outerHeight(!0):"100%",className:"ui-mask",opacity:.2,backgroundColor:"#000",style:{position:s?"absolute":"fixed",top:0,left:0},align:{baseElement:s?u:void 0}},show:function(){return s&&(this.set("width",a.outerWidth(!0)),this.set("height",a.outerHeight(!0))),l.superclass.show.call(this)},setup:function(){this._setupShim()},_onRenderBackgroundColor:function(e){this.element.css("backgroundColor",e)},_onRenderOpacity:function(e){this.element.css("opacity",e)}});t.exports=new l});
;define("common:widget/oui/lib/handlebars/1.0.0/handlebars",function(t,e,s){var i={};!function(t,e){t.VERSION="1.0.0",t.COMPILER_REVISION=4,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},t.helpers={},t.partials={};var s=Object.prototype.toString,i="[object Function]",n="[object Object]";t.registerHelper=function(e,i,r){if(s.call(e)===n){if(r||i)throw new t.Exception("Arg not supported with multiple helpers");t.Utils.extend(this.helpers,e)}else r&&(i.not=r),this.helpers[e]=i},t.registerPartial=function(e,i){s.call(e)===n?t.Utils.extend(this.partials,e):this.partials[e]=i},t.registerHelper("helperMissing",function(t){if(2===arguments.length)return e;throw new Error("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse||function(){},o=n.fn,a=s.call(e);return a===i&&(e=e.call(this)),e===!0?o(this):e===!1||null==e?r(this):"[object Array]"===a?e.length>0?t.helpers.each(e,n):r(this):o(e)}),t.K=function(){},t.createFrame=Object.create||function(e){t.K.prototype=e;var s=new t.K;return t.K.prototype=null,s},t.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,s){if(t.logger.level<=e){var i=t.logger.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,s)}}},t.log=function(e,s){t.logger.log(e,s)},t.registerHelper("each",function(e,n){var r,o=n.fn,a=n.inverse,h=0,l="",c=s.call(e);if(c===i&&(e=e.call(this)),n.data&&(r=t.createFrame(n.data)),e&&"object"==typeof e)if(e instanceof Array)for(var p=e.length;p>h;h++)r&&(r.index=h),l+=o(e[h],{data:r});else for(var u in e)e.hasOwnProperty(u)&&(r&&(r.key=u),l+=o(e[u],{data:r}),h++);return 0===h&&(l=a(this)),l}),t.registerHelper("if",function(e,n){var r=s.call(e);return r===i&&(e=e.call(this)),!e||t.Utils.isEmpty(e)?n.inverse(this):n.fn(this)}),t.registerHelper("unless",function(e,s){return t.helpers["if"].call(this,e,{fn:s.inverse,inverse:s.fn})}),t.registerHelper("with",function(e,n){var r=s.call(e);return r===i&&(e=e.call(this)),t.Utils.isEmpty(e)?void 0:n.fn(e)}),t.registerHelper("log",function(e,s){var i=s.data&&null!=s.data.level?parseInt(s.data.level,10):1;t.log(i,e)});var r=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(t,e,s,i,n,r){var o=r.length-1;switch(n){case 1:return r[o-1];case 2:this.$=new i.ProgramNode([],r[o]);break;case 3:this.$=new i.ProgramNode(r[o-2],r[o]);break;case 4:this.$=new i.ProgramNode(r[o-1],[]);break;case 5:this.$=new i.ProgramNode(r[o]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[r[o]];break;case 9:r[o-1].push(r[o]),this.$=r[o-1];break;case 10:this.$=new i.BlockNode(r[o-2],r[o-1].inverse,r[o-1],r[o]);break;case 11:this.$=new i.BlockNode(r[o-2],r[o-1],r[o-1].inverse,r[o]);break;case 12:this.$=r[o];break;case 13:this.$=r[o];break;case 14:this.$=new i.ContentNode(r[o]);break;case 15:this.$=new i.CommentNode(r[o]);break;case 16:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1]);break;case 17:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1]);break;case 18:this.$=r[o-1];break;case 19:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1],"&"===r[o-2][2]);break;case 20:this.$=new i.MustacheNode(r[o-1][0],r[o-1][1],!0);break;case 21:this.$=new i.PartialNode(r[o-1]);break;case 22:this.$=new i.PartialNode(r[o-2],r[o-1]);break;case 23:break;case 24:this.$=[[r[o-2]].concat(r[o-1]),r[o]];break;case 25:this.$=[[r[o-1]].concat(r[o]),null];break;case 26:this.$=[[r[o-1]],r[o]];break;case 27:this.$=[[r[o]],null];break;case 28:this.$=[[r[o]],null];break;case 29:r[o-1].push(r[o]),this.$=r[o-1];break;case 30:this.$=[r[o]];break;case 31:this.$=r[o];break;case 32:this.$=new i.StringNode(r[o]);break;case 33:this.$=new i.IntegerNode(r[o]);break;case 34:this.$=new i.BooleanNode(r[o]);break;case 35:this.$=r[o];break;case 36:this.$=new i.HashNode(r[o]);break;case 37:r[o-1].push(r[o]),this.$=r[o-1];break;case 38:this.$=[r[o]];break;case 39:this.$=[r[o-2],r[o]];break;case 40:this.$=[r[o-2],new i.StringNode(r[o])];break;case 41:this.$=[r[o-2],new i.IntegerNode(r[o])];break;case 42:this.$=[r[o-2],new i.BooleanNode(r[o])];break;case 43:this.$=[r[o-2],r[o]];break;case 44:this.$=new i.PartialNameNode(r[o]);break;case 45:this.$=new i.PartialNameNode(new i.StringNode(r[o]));break;case 46:this.$=new i.PartialNameNode(new i.IntegerNode(r[o]));break;case 47:this.$=new i.DataNode(r[o]);break;case 48:this.$=new i.IdNode(r[o]);break;case 49:r[o-2].push({part:r[o],separator:r[o-1]}),this.$=r[o-2];break;case 50:this.$=[{part:r[o]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=s.lexer.lex()||1,"number"!=typeof t&&(t=s.symbols_[t]||t),t}var s=this,i=[0],n=[null],r=[],o=this.table,a="",h=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;r.push(p);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,g,d,m,y,v,k,S,x,b={};;){if(d=i[i.length-1],this.defaultActions[d]?m=this.defaultActions[d]:((null===f||"undefined"==typeof f)&&(f=e()),m=o[d]&&o[d][f]),"undefined"==typeof m||!m.length||!m[0]){var E="";if(!c){x=[];for(v in o[d])this.terminals_[v]&&v>2&&x.push("'"+this.terminals_[v]+"'");E=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:p,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+f);switch(m[0]){case 1:i.push(f),n.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(m[1]),f=null,g?(f=g,g=null):(l=this.lexer.yyleng,a=this.lexer.yytext,h=this.lexer.yylineno,p=this.lexer.yylloc,c>0&&c--);break;case 2:if(k=this.productions_[m[1]][1],b.$=n[n.length-k],b._$={first_line:r[r.length-(k||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(k||1)].first_column,last_column:r[r.length-1].last_column},u&&(b._$.range=[r[r.length-(k||1)].range[0],r[r.length-1].range[1]]),y=this.performAction.call(b,a,l,h,this.yy,m[1],n,r),"undefined"!=typeof y)return y;k&&(i=i.slice(0,-1*k*2),n=n.slice(0,-1*k),r=r.slice(0,-1*k)),i.push(this.productions_[m[1]][0]),n.push(b.$),r.push(b._$),S=o[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},s=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,s,i,n;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(s=this._input.match(this.rules[r[o]]),!s||e&&!(s[0].length>e[0].length)||(e=s,i=o,this.options.flex));o++);return e?(n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,s,i){switch(s){case 0:return e.yytext="\\",14;case 1:if("\\"!==e.yytext.slice(-1)&&this.begin("mu"),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1),this.begin("emu")),e.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1)),14;case 4:return e.yytext=e.yytext.substr(0,e.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return e.yytext=e.yytext.substr(3,e.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\"/g,'"'),31;case 23:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return e.yytext=e.yytext.substr(1,e.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},t.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},t}();return e.lexer=s,t.prototype=e,e.Parser=t,new t}();t.Parser=r,t.parse=function(e){return e.constructor===t.AST.ProgramNode?e:(t.Parser.yy=t.AST,t.Parser.parse(e))},t.AST={},t.AST.ProgramNode=function(e,s){this.type="program",this.statements=e,s&&(this.inverse=new t.AST.ProgramNode(s))},t.AST.MustacheNode=function(t,e,s){this.type="mustache",this.escaped=!s,this.hash=e;var i=this.id=t[0],n=this.params=t.slice(1),r=this.eligibleHelper=i.isSimple;this.isHelper=r&&(n.length||e)},t.AST.PartialNode=function(t,e){this.type="partial",this.partialName=t,this.context=e},t.AST.BlockNode=function(e,s,i,n){var r=function(e,s){if(e.original!==s.original)throw new t.Exception(e.original+" doesn't match "+s.original)};r(e.id,n),this.type="block",this.mustache=e,this.program=s,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},t.AST.ContentNode=function(t){this.type="content",this.string=t},t.AST.HashNode=function(t){this.type="hash",this.pairs=t},t.AST.IdNode=function(e){this.type="ID";for(var s="",i=[],n=0,r=0,o=e.length;o>r;r++){var a=e[r].part;if(s+=(e[r].separator||"")+a,".."===a||"."===a||"this"===a){if(i.length>0)throw new t.Exception("Invalid path: "+s);".."===a?n++:this.isScoped=!0}else i.push(a)}this.original=s,this.parts=i,this.string=i.join("."),this.depth=n,this.isSimple=1===e.length&&!this.isScoped&&0===n,this.stringModeValue=this.string},t.AST.PartialNameNode=function(t){this.type="PARTIAL_NAME",this.name=t.original},t.AST.DataNode=function(t){this.type="DATA",this.id=t},t.AST.StringNode=function(t){this.type="STRING",this.original=this.string=this.stringModeValue=t},t.AST.IntegerNode=function(t){this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},t.AST.BooleanNode=function(t){this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},t.AST.CommentNode=function(t){this.type="comment",this.comment=t};var o=["description","fileName","lineNumber","message","name","number","stack"];t.Exception=function(){for(var t=Error.prototype.constructor.apply(this,arguments),e=0;e<o.length;e++)this[o[e]]=t[o[e]]},t.Exception.prototype=new Error,t.SafeString=function(t){this.string=t},t.SafeString.prototype.toString=function(){return this.string.toString()};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},h=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(t){return a[t]||"&amp;"};t.Utils={extend:function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},escapeExpression:function(e){return e instanceof t.SafeString?e.toString():null==e||e===!1?"":(e=e.toString(),l.test(e)?e.replace(h,c):e)},isEmpty:function(t){return t||0===t?"[object Array]"===s.call(t)&&0===t.length?!0:!1:!0}};var p=t.Compiler=function(){},u=t.JavaScriptCompiler=function(){};p.prototype={compiler:p,disassemble:function(){for(var t,e,s,i=this.opcodes,n=[],r=0,o=i.length;o>r;r++)if(t=i[r],"DECLARE"===t.opcode)n.push("DECLARE "+t.name+"="+t.value);else{e=[];for(var a=0;a<t.args.length;a++)s=t.args[a],"string"==typeof s&&(s='"'+s.replace("\n","\\n")+'"'),e.push(s);n.push(t.opcode+" "+e.join(" "))}return n.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var s=0;e>s;s++){var i=this.opcodes[s],n=t.opcodes[s];if(i.opcode!==n.opcode||i.args.length!==n.args.length)return!1;for(var r=0;r<i.args.length;r++)if(i.args[r]!==n.args[r])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(s=0;e>s;s++)if(!this.children[s].equals(t.children[s]))return!1;return!0},guid:0,compile:function(t,e){this.children=[],this.depths={list:[]},this.options=e;var s=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},s)for(var i in s)this.options.knownHelpers[i]=s[i];return this.program(t)},accept:function(t){return this[t.type](t)},program:function(t){var e,s=t.statements;this.opcodes=[];for(var i=0,n=s.length;n>i;i++)e=s[i],this[e.type](e);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,s=(new this.compiler).compile(t,this.options),i=this.guid++;this.usePartial=this.usePartial||s.usePartial,this.children[i]=s;for(var n=0,r=s.depths.list.length;r>n;n++)e=s.depths.list[n],2>e||this.addDepth(e-1);return i},block:function(t){var e=t.mustache,s=t.program,i=t.inverse;s&&(s=this.compileProgram(s)),i&&(i=this.compileProgram(i));var n=this.classifyMustache(e);"helper"===n?this.helperMustache(e,s,i):"simple"===n?(this.simpleMustache(e),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,s,i),this.opcode("pushProgram",s),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,s,i=t.pairs;this.opcode("pushHash");for(var n=0,r=i.length;r>n;n++)e=i[n],s=e[1],this.options.stringParams?(s.depth&&this.addDepth(s.depth),this.opcode("getContext",s.depth||0),this.opcode("pushStringParam",s.stringModeValue,s.type)):this.accept(s),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){var e=this.options,s=this.classifyMustache(t);"simple"===s?this.simpleMustache(t):"helper"===s?this.helperMustache(t):this.ambiguousMustache(t),this.opcode(t.escaped&&!e.noEscape?"appendEscaped":"append")},ambiguousMustache:function(t,e,s){var i=t.id,n=i.parts[0],r=null!=e||null!=s;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",s),this.opcode("invokeAmbiguous",n,r)},simpleMustache:function(t){var e=t.id;"DATA"===e.type?this.DATA(e):e.parts.length?this.ID(e):(this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(t,e,s){var i=this.setupFullMustacheParams(t,e,s),n=t.id.parts[0];if(this.options.knownHelpers[n])this.opcode("invokeKnownHelper",i.length,n);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+n);this.opcode("invokeHelper",i.length,n)}},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0];e?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var s=1,i=t.parts.length;i>s;s++)this.opcode("lookup",t.parts[s])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new t.Exception("Scoped data references are not supported: "+e.original);this.opcode("lookupData");for(var s=e.id.parts,i=0,n=s.length;n>i;i++)this.opcode("lookup",s[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){if(isNaN(t))throw new Error("EWOT");0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifyMustache:function(t){var e=t.isHelper,s=t.eligibleHelper,i=this.options;if(s&&!e){var n=t.id.parts[0];i.knownHelpers[n]?e=!0:i.knownHelpersOnly&&(s=!1)}return e?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e,s=t.length;s--;)e=t[s],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type)):this[e.type](e)},setupMustacheParams:function(t){var e=t.params;return this.pushParams(e),t.hash?this.hash(t.hash):this.opcode("emptyHash"),e},setupFullMustacheParams:function(t,e,s){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",s),t.hash?this.hash(t.hash):this.opcode("emptyHash"),i}};var f=function(t){this.value=t};u.prototype={nameLookup:function(t,e){return/^[0-9]+$/.test(e)?t+"["+e+"]":u.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,s,i,n){this.environment=e,this.options=s||{},t.log(t.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,s);var r,o=e.opcodes;for(this.i=0,y=o.length;this.i<y;this.i++)r=o[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args);return this.createFunctionContext(n)},nextOpcode:function(){var t=this.environment.opcodes;return t[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var t=[];if(this.isChild)t.push("");else{var e=this.namespace,s="helpers = this.merge(helpers, "+e+".helpers);";this.environment.usePartial&&(s=s+" partials = this.merge(partials, "+e+".partials);"),this.options.data&&(s+=" data = data || {};"),t.push(s)}t.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=t},createFunctionContext:function(e){var s=this.stackVars.concat(this.registers.list);if(s.length>0&&(this.source[1]=this.source[1]+", "+s.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)n.push("depth"+this.environment.depths.list[r]);var a=this.mergeSource();if(!this.isChild){var h=t.COMPILER_REVISION,l=t.REVISION_CHANGES[h];a="this.compilerInfo = ["+h+",'"+l+"'];\n"+a}if(e)return n.push(a),Function.apply(this,n);var c="function "+(this.name||"")+"("+n.join(",")+") {\n  "+a+"}";return t.log(t.logger.DEBUG,c+"\n\n"),c},mergeSource:function(){for(var t,s="",i=0,n=this.source.length;n>i;i++){var r=this.source[i];r.appendToBuffer?t=t?t+"\n    + "+r.content:r.content:(t&&(s+="buffer += "+t+";\n  ",t=e),s+=r+"\n  ")}return s},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t),this.replaceStack(function(e){return t.splice(1,0,e),"blockHelperMissing.call("+t.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),t[t.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.source.push(this.appendToBuffer(this.quotedString(t)))},append:function(){this.flushInline();var t=this.popStack();this.source.push("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(t){this.replaceStack(function(e){return e+" == null || "+e+" === false ? "+e+" : "+this.nameLookup(e,t,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"string"==typeof t?this.pushString(t):this.pushStackLiteral(t)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=e,this.options.stringParams&&(this.register("hashContexts","{"+t.contexts.join(",")+"}"),this.register("hashTypes","{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e){this.context.aliases.helperMissing="helpers.helperMissing";var s=this.lastHelper=this.setupHelper(t,e,!0),i=this.nameLookup("depth"+this.lastContext,e,"context");this.push(s.name+" || "+i),this.replaceStack(function(t){return t+" ? "+t+".call("+s.callParams+") : helperMissing.call("+s.helperMissingParams+")"})},invokeKnownHelper:function(t,e){var s=this.setupHelper(t,e);this.push(s.name+".call("+s.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var s=this.setupHelper(0,t,e),i=this.lastHelper=this.nameLookup("helpers",t,"helper"),n=this.nameLookup("depth"+this.lastContext,t,"context"),r=this.nextStack();this.source.push("if ("+r+" = "+i+") { "+r+" = "+r+".call("+s.callParams+"); }"),this.source.push("else { "+r+" = "+n+"; "+r+" = typeof "+r+" === functionType ? "+r+".apply(depth0) : "+r+"; }")},invokePartial:function(t){var e=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];
this.options.data&&e.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+e.join(", ")+")")},assignToHash:function(t){var e,s,i=this.popStack();this.options.stringParams&&(s=this.popStack(),e=this.popStack());var n=this.hash;e&&n.contexts.push("'"+t+"': "+e),s&&n.types.push("'"+t+"': "+s),n.values.push("'"+t+"': ("+i+")")},compiler:u,compileChildren:function(t,e){for(var s,i,n=t.children,r=0,o=n.length;o>r;r++){s=n[r],i=new this.compiler;var a=this.matchExistingProgram(s);null==a?(this.context.programs.push(""),a=this.context.programs.length,s.index=a,s.name="program"+a,this.context.programs[a]=i.compile(s,e,this.context),this.context.environments[a]=s):(s.index=a,s.name="program"+a)}},matchExistingProgram:function(t){for(var e=0,s=this.context.environments.length;s>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,s=this.environment.children[t],i=s.depths.list,n=[s.index,s.name,"data"],r=0,o=i.length;o>r;r++)e=i[r],n.push(1===e?"depth0":"depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+n.join(", ")+")"},register:function(t,e){this.useRegister(t),this.source.push(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new f(t))},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.source.push(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,s="",i=this.isInline();if(i){var n=this.popStack(!0);if(n instanceof f)e=n.value;else{var r=this.stackSlot?this.topStackName():this.incrStack();s="("+this.push(r)+" = "+n+"),",e=this.topStack()}}else e=this.topStack();var o=t.call(this,e);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+s+o+")")):(/^stack/.test(e)||(e=this.nextStack()),this.source.push(e+" = ("+s+o+");")),e},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,s=t.length;s>e;e++){var i=t[e];i instanceof f?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),s=(e?this.inlineStack:this.compileStack).pop();return!t&&s instanceof f?s.value:(e||this.stackSlot--,s)},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,s=e[e.length-1];return!t&&s instanceof f?s.value:s},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,s){var i=[];this.setupParams(t,i,s);var n=this.nameLookup("helpers",e,"helper");return{params:i,name:n,callParams:["depth0"].concat(i).join(", "),helperMissingParams:s&&["depth0",this.quotedString(e)].concat(i).join(", ")}},setupParams:function(t,e,s){var i,n,r,o=[],a=[],h=[];o.push("hash:"+this.popStack()),n=this.popStack(),r=this.popStack(),(r||n)&&(r||(this.context.aliases.self="this",r="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),o.push("inverse:"+n),o.push("fn:"+r));for(var l=0;t>l;l++)i=this.popStack(),e.push(i),this.options.stringParams&&(h.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(o.push("contexts:["+a.join(",")+"]"),o.push("types:["+h.join(",")+"]"),o.push("hashContexts:hashContexts"),o.push("hashTypes:hashTypes")),this.options.data&&o.push("data:data"),o="{"+o.join(",")+"}",s?(this.register("options",o),e.push("options")):e.push(o),e.join(", ")}};for(var g="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),d=u.RESERVED_WORDS={},m=0,y=g.length;y>m;m++)d[g[m]]=!0;u.isValidJavaScriptVariableName=function(t){return!u.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(t)?!0:!1},t.precompile=function(e,s){if(null==e||"string"!=typeof e&&e.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);s=s||{},"data"in s||(s.data=!0);var i=t.parse(e),n=(new p).compile(i,s);return(new u).compile(n,s)},t.compile=function(s,i){function n(){var n=t.parse(s),r=(new p).compile(n,i),o=(new u).compile(r,i,e,!0);return t.template(o)}if(null==s||"string"!=typeof s&&s.constructor!==t.AST.ProgramNode)throw new t.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+s);i=i||{},"data"in i||(i.data=!0);var r;return function(t,e){return r||(r=n()),r.call(this,t,e)}},t.VM={template:function(e){var s={escapeExpression:t.Utils.escapeExpression,invokePartial:t.VM.invokePartial,programs:[],program:function(e,s,i){var n=this.programs[e];return i?n=t.VM.program(e,s,i):n||(n=this.programs[e]=t.VM.program(e,s)),n},merge:function(e,s){var i=e||s;return e&&s&&(i={},t.Utils.extend(i,s),t.Utils.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,n){n=n||{};var r=e.call(s,t,i,n.helpers,n.partials,n.data),o=s.compilerInfo||[],a=o[0]||1,h=t.COMPILER_REVISION;if(a!==h){if(h>a){var l=t.REVISION_CHANGES[h],c=t.REVISION_CHANGES[a];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+l+") or downgrade your runtime to an older version ("+c+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return r}},programWithDepth:function(t,e,s){var i=Array.prototype.slice.call(arguments,3),n=function(t,n){return n=n||{},e.apply(this,[t,n.data||s].concat(i))};return n.program=t,n.depth=i.length,n},program:function(t,e,s){var i=function(t,i){return i=i||{},e(t,i.data||s)};return i.program=t,i.depth=0,i},noop:function(){return""},invokePartial:function(s,i,n,r,o,a){var h={helpers:r,partials:o,data:a};if(s===e)throw new t.Exception("The partial "+i+" could not be found");if(s instanceof Function)return s(n,h);if(t.compile)return o[i]=t.compile(s,{data:a!==e}),o[i](n,h);throw new t.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},t.template=t.VM.template}(i),s.exports=i});
;define("common:widget/oui/arale/templatable/0.9.1/templatable",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e,t,l){function r(e){return o(e)?null:s(n(e))}function i(e,t){if(e){var l;if(t){if(l=e.find(t),0===l.length)throw new Error("Invalid template selector: "+t)}else l=e;return a(l.html())}}function n(e){return e.replace(/({[^}]+}})/g,"<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g," data-templatable-$1=$2$3$2")}function a(e){return e.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g,"$1").replace(/data-templatable-/gi,"")}function o(e){return"function"==typeof e}function m(e){if(!e)return{};var t={};for(var l in e){var r=e[l];t[l]=o(r)?r:p.compile(r)}return t}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),p=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),h={};l.exports={templateHelpers:null,templatePartials:null,templateObject:null,parseElementFromTemplate:function(){var e,t=this.get("template");/^#/.test(t)&&(e=document.getElementById(t.substring(1)))&&(t=e.innerHTML,this.set("template",t)),this.templateObject=r(t),this.element=s(this.compile())},compile:function(e,t){if(e||(e=this.get("template")),t||(t=this.get("model"))||(t={}),t.toJSON&&(t=t.toJSON()),o(e))return e(t,{helpers:this.templateHelpers,partials:m(this.templatePartials)});var l,r,i=this.templateHelpers,n=this.templatePartials;if(i)for(l in i)i.hasOwnProperty(l)&&p.registerHelper(l,i[l]);if(n)for(r in n)n.hasOwnProperty(r)&&p.registerPartial(r,n[r]);var a=h[e];a||(a=h[e]=p.compile(e));var s=a(t);if(i)for(l in i)i.hasOwnProperty(l)&&delete p.helpers[l];if(n)for(r in n)n.hasOwnProperty(r)&&delete p.partials[r];return s},renderPartial:function(e){if(this.templateObject){var t=i(this.templateObject,e);t?e?this.$(e).html(this.compile(t)):this.element.html(this.compile(t)):this.element.html(this.compile())}else{var l=s(this.compile()),r=l.find(e);r.length?this.$(e).html(r.html()):this.element.html(l.html())}return this}};var u=p.compile;p.compile=function(e){return o(e)?e:u.call(p,e)}});
;define("common:widget/oui/arale/dialog/1.3.3/dialog",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay","common:widget/oui/arale/overlay/1.1.2/mask","common:widget/oui/arale/events/1.1.0/events","common:widget/oui/arale/templatable/0.9.1/templatable"],function(e,t,i){function s(e){null==e.attr("tabindex")&&e.attr("tabindex","-1")}function n(e){var t=e[0].contentWindow.document;return t.body.scrollHeight&&t.documentElement.scrollHeight?Math.min(t.body.scrollHeight,t.documentElement.scrollHeight):t.documentElement.scrollHeight?t.documentElement.scrollHeight:t.body.scrollHeight?t.body.scrollHeight:void 0}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/overlay/1.1.2/overlay"),a=e("common:widget/oui/arale/overlay/1.1.2/mask"),l=e("common:widget/oui/arale/events/1.1.0/events"),h=(e("common:widget/oui/arale/templatable/0.9.1/templatable"),"300px"),c=o.extend({attrs:{template:'<div class="ui-dialog"><div class="ui-dialog-close" title="关闭本框" data-role="close"></div><div class="ui-dialog-content" data-role="content"></div></div>',trigger:{value:null,getter:function(e){return r(e)}},classPrefix:"ui-dialog",content:{value:null,setter:function(e){return/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(e)&&(this._type="iframe"),e}},hasMask:{hideOnClick:!0},closeTpl:"×",width:700,height:null,effect:"none",zIndex:99999,autoFit:!0,align:{selfXY:["50%","50%"],baseXY:["50%","50%"]}},parseElement:function(){this.set("model",{classPrefix:this.get("classPrefix")}),c.superclass.parseElement.call(this),this.contentElement=this.$("[data-role=content]"),this.contentElement.css({background:"#fff",height:"100%",zoom:1}),this.$("[data-role=close]").hide()},events:{"click [data-role=close]":function(e){e.preventDefault(),this.hide()}},show:function(){return"iframe"===this._type&&(!this.get("height")&&this.element.css("height",h),this._showIframe()),c.superclass.show.call(this),this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"javascript:'';"}),this.iframe.remove(),this.iframe=null),c.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),this.get("hasMask")&&a.hide(),clearInterval(this._interval),c.superclass.destroy.call(this)},setup:function(){c.superclass.setup.call(this),this._setupTrigger(),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),s(this.element),s(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},_onRenderContent:function(e){if("iframe"!==this._type){var t;try{t=r(e)}catch(i){t=[]}t[0]?this.contentElement.empty().append(t):this.contentElement.empty().html(e)}},_onRenderCloseTpl:function(e){""===e?this.$("[data-role=close]").html(e).hide():this.$("[data-role=close]").html(e).show()},_onRenderVisible:function(e){e?"fade"===this.get("effect")?this.element.fadeIn(300):this.element.show():this.element.hide()},_setupTrigger:function(){this.delegateEvents(this.get("trigger"),"click",function(e){e.preventDefault(),this.activeTrigger=r(e.currentTarget),this.show()})},_setupMask:function(){var e,t=this.get("hasMask"),i=parseInt(this.get("zIndex"),10),s=this;a.set("opacity",.2),a.set("backgroundColor","#000"),this.before("show",function(){t&&(e=a.get("zIndex"),a.set("zIndex",i-1).show(),t.hideOnClick&&a.element.one("click",function(){s.hide()}))}),this.after("hide",function(){t&&a.set("zIndex",e).hide()})},_setupFocus:function(){this.after("show",function(){this.element.focus()}),this.after("hide",function(){this.activeTrigger&&this.activeTrigger.focus()})},_setupKeyEvents:function(){this.delegateEvents(r(document),"keyup",function(e){27===e.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var e=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){e.get("visible")&&(e.get("autoFit")&&(clearInterval(e._interval),e._interval=setInterval(function(){e._syncHeight()},300)),e._syncHeight(),e._setPosition(),e.trigger("complete:show"))})},_fixUrl:function(){var e=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return e.shift(),e[1]=(e[1]&&"?"!==e[1]?e[1]+"&":"?")+"t="+(new Date).getTime(),e.join("")},_createIframe:function(){var e=this;this.iframe=r("<iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),l.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){e.hide()})},_syncHeight:function(){var e;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{this._errCount=0,e=n(this.iframe)+"px"}catch(t){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(e=h,clearInterval(this._interval),delete this._interval)}this.element.css("height",e),this.element[0].className=this.element[0].className}}});i.exports=c});
;define("common:widget/oui/arale/moment/2.1.0/moment",function(t,e,n){(function(e){function s(t,e){return function(n){return d(t.call(this,n),e)}}function i(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function r(){}function a(t){u(this,t)}function o(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.week||t.w||0,i=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*o+6e4*a+36e5*r,this._days=i+7*s,this._months=n+12*e,this._data={},this._bubble()}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function h(t){return 0>t?Math.ceil(t):Math.floor(t)}function d(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function c(t,e,n,s){var i,r,a=e._milliseconds,o=e._days,u=e._months;a&&t._d.setTime(+t._d+a*n),(o||u)&&(i=t.minute(),r=t.hour()),o&&t.date(t.date()+o*n),u&&t.month(t.month()+u*n),a&&!s&&U.updateOffset(t),(o||u)&&(t.minute(i),t.hour(r))}function f(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){var n,s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),r=0;for(n=0;s>n;n++)~~t[n]!==~~e[n]&&r++;return r+i}function _(t){return t?ae[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function m(t,e){return e.abbr=t,G[t]||(G[t]=new r),G[t].set(e),G[t]}function y(e){if(!e)return U.fn._lang;if(!G[e]&&Z)try{t("./lang/"+e)}catch(n){return U.fn._lang}return G[e]}function M(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function g(t){var e,n,s=t.match(J);for(e=0,n=s.length;n>e;e++)s[e]=de[s[e]]?de[s[e]]:M(s[e]);return function(i){var r="";for(e=0;n>e;e++)r+=s[e]instanceof Function?s[e].call(i,t):s[e];return r}}function p(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var s=5;s--&&I.test(e);)e=e.replace(I,n);return oe[e]||(oe[e]=g(e)),oe[e](t)}function D(t,e){switch(t){case"DDDD":return $;case"YYYY":return R;case"YYYYY":return j;case"S":case"SS":case"SSS":case"DDD":return X;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return B;case"a":case"A":return y(e._l)._meridiemParse;case"X":return Q;case"Z":case"ZZ":return q;case"T":return K;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(t.replace("\\",""))}}function Y(t){var e=(q.exec(t)||[])[0],n=(e+"").match(se)||["-",0,0],s=+(60*n[1])+~~n[2];return"+"===n[0]?-s:s}function w(t,e,n){var s,i=n._a;switch(t){case"M":case"MM":i[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":s=y(n._l).monthsParse(e),null!=s?i[1]=s:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(i[2]=~~e);break;case"YY":i[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~e;break;case"a":case"A":n._isPm=y(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[3]=~~e;break;case"m":case"mm":i[4]=~~e;break;case"s":case"ss":i[5]=~~e;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Y(e)}null==e&&(n._isValid=!1)}function k(t){var e,n,s=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];s[3]+=~~((t._tzm||0)/60),s[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),t._d=n}}function v(t){var e,n,s=t._f.match(J),i=t._i;for(t._a=[],e=0;e<s.length;e++)n=(D(s[e],t).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),de[s[e]]&&w(s[e],n,t);i&&(t._il=i),t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),k(t)}function T(t){var e,n,s,i,r,o=99;for(i=0;i<t._f.length;i++)e=u({},t),e._f=t._f[i],v(e),n=new a(e),r=l(e._a,n.toArray()),n._il&&(r+=n._il.length),o>r&&(o=r,s=n);u(t,s)}function b(t){var e,n=t._i,s=te.exec(n);if(s){for(t._f="YYYY-MM-DD"+(s[2]||" "),e=0;4>e;e++)if(ne[e][1].exec(n)){t._f+=ne[e][0];break}q.exec(n)&&(t._f+=" Z"),v(t)}else t._d=new Date(n)}function S(t){var n=t._i,s=E.exec(n);n===e?t._d=new Date:s?t._d=new Date(+s[1]):"string"==typeof n?b(t):f(n)?(t._a=n.slice(0),k(t)):t._d=new Date(n instanceof Date?+n:n)}function F(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}function O(t,e,n){var s=A(Math.abs(t)/1e3),i=A(s/60),r=A(i/60),a=A(r/24),o=A(a/365),u=45>s&&["s",s]||1===i&&["m"]||45>i&&["mm",i]||1===r&&["h"]||22>r&&["hh",r]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",A(a/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,F.apply({},u)}function z(t,e,n){var s,i=n-e,r=n-t.day();return r>i&&(r-=7),i-7>r&&(r+=7),s=U(t).add("d",r),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function C(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=y().preparse(e)),U.isMoment(e)?(t=u({},e),t._d=new Date(+e._d)):n?f(n)?T(t):v(t):S(t),new a(t))}function L(t,e){U.fn[t]=U.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),U.updateOffset(this),this):this._d["get"+n+e]()}}function H(t){U.duration.fn[t]=function(){return this._data[t]}}function P(t,e){U.duration.fn["as"+t]=function(){return+this/e}}for(var U,W,x="2.1.0",A=Math.round,G={},Z="undefined"!=typeof n&&n.exports,E=/^\/?Date\((\-?\d+)/i,N=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,J=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,X=/\d{1,3}/,$=/\d{3}/,R=/\d{1,4}/,j=/[+\-]?\d{1,6}/,B=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,q=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,Q=/[\+\-]?\d+(\.\d{1,3})?/,te=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ee="YYYY-MM-DDTHH:mm:ssZ",ne=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],se=/([\+\-]|\d\d)/gi,ie="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),re={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ae={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},oe={},ue="DDD w W M D d".split(" "),he="M D H h m s w W".split(" "),de={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return d(this.year()%100,2)},YYYY:function(){return d(this.year(),4)},YYYYY:function(){return d(this.year(),5)},gg:function(){return d(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return d(this.weekYear(),5)},GG:function(){return d(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return d(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return d(~~(this.milliseconds()/10),2)},SSS:function(){return d(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+d(~~(t/60),2)+":"+d(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+d(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ue.length;)W=ue.pop(),de[W+"o"]=i(de[W],W);for(;he.length;)W=he.pop(),de[W+W]=s(de[W],2);for(de.DDDD=s(de.DDD,3),r.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,s;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=U([2e3,e]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(s.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=U([2e3,1]).day(e),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,s):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return z(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},U=function(t,e,n){return C({_i:t,_f:e,_l:n,_isUTC:!1})},U.utc=function(t,e,n){return C({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},U.unix=function(t){return U(1e3*t)},U.duration=function(t,e){var n,s,i=U.isDuration(t),r="number"==typeof t,a=i?t._input:r?{}:t,u=N.exec(t);return r?e?a[e]=t:a.milliseconds=t:u&&(n="-"===u[1]?-1:1,a={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),s=new o(a),i&&t.hasOwnProperty("_lang")&&(s._lang=t._lang),s},U.version=x,U.defaultFormat=ee,U.updateOffset=function(){},U.lang=function(t,e){return t?(e?m(t,e):G[t]||y(t),void(U.duration.fn._lang=U.fn._lang=y(t))):U.fn._lang._abbr},U.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),y(t)},U.isMoment=function(t){return t instanceof a},U.isDuration=function(t){return t instanceof o},U.fn=a.prototype={clone:function(){return U(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return p(U(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?U.utc(this._a):U(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=p(this,t||U.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?U.duration(+e,t):U.duration(t,e),c(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?U.duration(+e,t):U.duration(t,e),c(this,n,-1),this},diff:function(t,e,n){var s,i,r=this._isUTC?U(t).zone(this._offset||0):U(t).local(),a=6e4*(this.zone()-r.zone());return e=_(e),"year"===e||"month"===e?(s=432e5*(this.daysInMonth()+r.daysInMonth()),i=12*(this.year()-r.year())+(this.month()-r.month()),i+=(this-U(this).startOf("month")-(r-U(r).startOf("month")))/s,i-=6e4*(this.zone()-U(this).startOf("month").zone()-(r.zone()-U(r).startOf("month").zone()))/s,"year"===e&&(i/=12)):(s=this-r,i="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-a)/864e5:"week"===e?(s-a)/6048e5:s),n?i:h(i)},from:function(t,e){return U.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(U(),t)},calendar:function(){var t=this.diff(U().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),U.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=_(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+U(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+U(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+U(t).startOf(e)},min:function(t){return t=U.apply(null,arguments),this>t?this:t},max:function(t){return t=U.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=Y(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&c(this,U.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return U.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=A((U(this).startOf("day")-U(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=z(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=z(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=z(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===e?this._lang:(this._lang=y(t),this)}},W=0;W<ie.length;W++)L(ie[W].toLowerCase().replace(/s$/,""),ie[W]);L("year","FullYear"),U.fn.days=U.fn.day,U.fn.months=U.fn.month,U.fn.weeks=U.fn.week,U.fn.isoWeeks=U.fn.isoWeek,U.fn.toJSON=U.fn.toISOString,U.duration.fn=o.prototype={_bubble:function(){var t,e,n,s,i=this._milliseconds,r=this._days,a=this._months,o=this._data;o.milliseconds=i%1e3,t=h(i/1e3),o.seconds=t%60,e=h(t/60),o.minutes=e%60,n=h(e/60),o.hours=n%24,r+=h(n/24),o.days=r%30,a+=h(r/30),o.months=a%12,s=h(a/12),o.years=s},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=O(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=U.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=U.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=_(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=_(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:U.fn.lang};for(W in re)re.hasOwnProperty(W)&&(P(W,re[W]),H(W.toLowerCase()));P("Weeks",6048e5),U.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},U.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Z&&(n.exports=U),"undefined"==typeof ender&&(this.moment=U)}).call(this)});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/zh-cn",{Su:"日",Mo:"一",Tu:"二",We:"三",Th:"四",Fr:"五",Sa:"六",Jan:"一月",Feb:"二月",Mar:"三月",Apr:"四月",May:"五月",Jun:"六月",Jul:"七月",Aug:"八月",Sep:"九月",Oct:"十月",Nov:"十一月",Dec:"十二月"});
;define("common:widget/oui/arale/calendar/0.9.0/base-calendar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/position/1.0.1/position","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/widget/1.1.1/widget","common:widget/oui/arale/shim/1.0.2/iframe-shim","common:widget/oui/arale/calendar/0.9.0/i18n/zh-cn"],function(e,t,i){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/position/1.0.1/position"),r=e("common:widget/oui/arale/moment/2.1.0/moment"),a=e("common:widget/oui/arale/widget/1.1.1/widget"),s=e("common:widget/oui/arale/shim/1.0.2/iframe-shim"),u=e("common:widget/oui/arale/calendar/0.9.0/i18n/zh-cn")||{},l=(window.navigator.userAgent||"").toLowerCase(),g=l.match(/msie\s+(\d+)/),m=!1;g&&g[1]&&(m=parseInt(g[1],10)<9),document.documentMode&&document.documentMode<9&&(m=!0);var h=a.extend({attrs:{lang:u,trigger:null,triggerType:"click",output:{value:"",getter:function(e){return e=e?e:this.get("trigger"),n(e)}},hideOnSelect:!0,focus:{value:"",getter:function(e){return e=e||this._outputTime(),e?r(e,this.get("format")):r()},setter:function(e){return e?r(e,this.get("format")):r()}},format:"YYYY-MM-DD",startDay:"Sun",range:{value:null,setter:function(e){if(n.isArray(e)){var t=this.get("format"),i=[];return n.each(e,function(e,n){n=null===n?null:r(n,t),i.push(n)}),i}return e}},process:null,align:{getter:function(e){if(e)return e;var t=n(this.get("trigger"));return t?{selfXY:[0,0],baseElement:t,baseXY:[0,t.height()+10]}:{selfXY:[0,0],baseXY:[0,0]}}}},setup:function(){h.superclass.setup.call(this),this.enable(),this._shim=new s(this.element).sync();var e=this;this.element.on("mousedown",function(t){if(m){var i=n(e.get("trigger"))[0];i.onbeforedeactivate=function(){window.event.returnValue=!1,i.onbeforedeactivate=null}}t.preventDefault()})},show:function(){this.trigger("show"),this.rendered||(this._pin(),this.render()),this._pin(),this.element.show()},hide:function(){this.trigger("hide"),this.element.hide()},_pin:function(e){e=e||this.get("align"),o.pin({element:this.element,x:e.selfXY[0],y:e.selfXY[1]},{element:e.baseElement,x:e.baseXY[0],y:e.baseXY[1]})},_outputTime:function(){var e=n(this.get("output")),t=e.val()||e.text();return t&&(t=r(t,this.get("format")),t.isValid())?t:void 0},output:function(e){var t=this.get("output");if(t.length){e=e||this.get("focus");var i=t[0].tagName.toLowerCase();"input"===i||"textarea"===i?t.val(e):t.text(e),this.get("hideOnSelect")&&this.hide()}},enable:function(){var e=this.get("trigger");if(e){var t=this,i=n(e);if("date"===i.attr("type"))try{i.attr("type","text")}catch(o){}var r=this.get("triggerType")+".calendar";i.on(r,function(){t.show()}),i.on("blur.calendar",function(){t.hide()}),"input"!==i[0].tagName.toLowerCase()&&t.autohide()}},disable:function(){var e=this.get("trigger");if(e){var t=n(e),i=this.get("triggerType")+".calendar";t.off(i),t.off("blur.calendar")}},autohide:function(){var e=this,t=n(this.get("trigger"))[0],i=this.element;n("body").on("mousedown.calendar",function(n){i.find(n.target).length||i[0]===n.target||t!==n.target&&e.hide()})},destroy:function(){this._shim&&this._shim.destroy(),n("body").off("mousedown.calendar"),h.superclass.destroy.call(this)}});i.exports=h});
;define("common:widget/oui/arale/calendar/0.9.0/base-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/widget/1.1.1/widget"],function(e,t,n){var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r=e("common:widget/oui/arale/moment/2.1.0/moment"),o=e("common:widget/oui/arale/widget/1.1.1/widget"),m=o.extend({attrs:{focus:{value:"",getter:function(e){return e?e:r()},setter:function(e){return e?r.isMoment(e)?e:r(e,this.get("format")):r()}},template:null,format:"YYYY-MM-DD",range:{value:"",getter:function(e){if(!e)return null;if(i.isArray(e)){var t=e[0];t&&t.length>4&&(t=r(t,this.get("format")));var n=e[1];return n&&n.length>4&&(n=r(n,this.get("format"))),[t,n]}return e}},lang:{}},compileTemplate:function(){var e=this.get("template");if(!e)return"";var t=this.get("model"),n=this.get("lang")||{};return e(t,{helpers:{_:function(e){return n[e]||e}}})},parseElement:function(){this.element=i(this.compileTemplate())},show:function(){this.render(),this.focus()},hide:function(){this.element.hide()},refresh:function(){this.element.html(i(this.compileTemplate()).html())}});n.exports=m,m.isInRange=function(e,t){if(null==t)return!0;if(i.isArray(t)){var n=t[0],r=t[1],o=!0;return n&&(o=o&&e>=n),r&&(o=o&&r>=e),o}return i.isFunction(t)?t(e):!0}});
;define("common:widget/oui/arale/calendar/0.9.0/date-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,t,a){function n(e){if(e=(e||0).toString().toLowerCase(),u.isNumeric(e))return e=parseInt(e,10);for(var t=0;t<c.length;t++)if(0===c[t].indexOf(e)){e=t;break}return e}function r(e){e=n(e);for(var t=[],a=e;7>a;a++)t.push({label:f[a],value:a});for(a=0;e>a;a++)t.push({label:f[a],value:a});var r={value:e,label:f[e]};return{current:r,items:t}}function s(e,t,a,r){var s,o,u,l=[];t=n(t);var d=function(e,t){var n={value:e.format("YYYY-MM-DD"),label:e.date(),day:e.day(),className:t,available:i.isInRange(e,a)};r&&(n.type="date",n=r(n)),l.push(n)},c=e.clone().date(1),f=c.clone().add("months",-1),m=c.clone().add("months",1);if(s=c.day()-t,0>s&&(s+=7),0!=s)for(u=f.daysInMonth(),g=s-1;g>=0;g--)o=f.date(u-g),d(o,"previous-month");for(u=c.daysInMonth(),g=1;u>=g;g++)o=c.date(g),d(o,"current-month");if(s=35-l.length,0!=s)for(0>s&&(s+=7),g=1;s>=g;g++)o=m.date(g),d(o,"next-month");for(var h=[],g=0;g<l.length/7;g++)h.push(l.slice(7*g,7*g+7));var v={value:e.format("YYYY-MM-DD"),label:e.date()};return{current:v,items:h}}function o(e,t){var a=t.helpers._,n='<table class="ui-calendar-date" data-role="date-column">';return n+='<tr class="ui-calendar-day-column">',u.each(e.day.items,function(e,t){n+='<th class="ui-calendar-day ui-calendar-day-'+t.value+'" ',n+='data-role="day" data-value="'+t.value+'">',n+=a(t.label),n+="</th>"}),n+="</tr>",u.each(e.date.items,function(e,t){n+='<tr class="ui-calendar-date-column">',u.each(t,function(e,t){var a=["ui-calendar-day-"+t.day,t.className||""];t.available||a.push("disabled-element"),n+='<td class="'+a.join(" ")+'" data-role="date"',n+='data-value="'+t.value+'">',n+=t.label+"</td>"}),n+="</tr>"}),n+="</table>"}var u=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=e("common:widget/oui/arale/moment/2.1.0/moment"),i=e("common:widget/oui/arale/calendar/0.9.0/base-column"),d=i.extend({attrs:{startDay:"Sun",template:o,range:{value:null,setter:function(e){if(u.isArray(e)){var t=this.get("format"),a=[];return u.each(e,function(e,n){n=null===n?null:l(n,t),a.push(n)}),a}return e}},process:null,model:{getter:function(){var e=s(this.get("focus"),this.get("startDay"),this.get("range"),this.get("process")),t=r(this.get("startDay"));return{date:e,day:t}}}},events:{"click [data-role=date]":function(e){var t=u(e.target),a=t.data("value");this.select(a,t)}},prev:function(){var e=this.get("focus").format("YYYY-MM-DD"),t=this.get("focus").add("days",-1);return this._sync(t,e)},next:function(){var e=this.get("focus").format("YYYY-MM-DD"),t=this.get("focus").add("days",1);return this._sync(t,e)},select:function(e,t){if(t&&t.hasClass("disabled-element"))return this.trigger("selectDisable",e,t),e;var a=this.get("focus").format("YYYY-MM-DD");return this.set("focus",e),this._sync(this.get("focus"),a,t)},focus:function(e){e=e||this.get("focus");var t="[data-value="+e.format("YYYY-MM-DD")+"]";this.element.find(".focused-element").removeClass("focused-element"),this.element.find(t).addClass("focused-element")},inRange:function(e){return l.isMoment(e)||(e=l(e,this.get("format"))),i.isInRange(e,this.get("range"))},_sync:function(e,t,a){return this.set("focus",e),e.format("YYYY-MM")!==t&&this.refresh(),this.focus(e),null!==a&&this.trigger("select",e,a),e}});a.exports=d;var c=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],f=["Su","Mo","Tu","We","Th","Fr","Sa"]});
;define("common:widget/oui/arale/calendar/0.9.0/month-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,t,n){function a(e,t,n){var a=e.month(),o=[];for(l=0;l<c.length;l++){var r={value:l,available:n.inRange.call(n,l),label:c[l]};t&&(r.type="month",r=t(r)),o.push(r)}for(var s={year:e.year(),value:a,label:c[a]},i=[],l=0;l<o.length/3;l++)i.push(o.slice(3*l,3*l+3));return{current:s,items:i}}function o(e,t){if(null==t)return!0;if(s.isArray(t)){var n=t[0],a=t[1],o=!0;if(n&&n.month){var r=e.clone().date(e.daysInMonth());r.hour(23).minute(59).second(59).millisecond(999),o=o&&r>=n}else n&&(o=o&&e.month()+1>=n);if(a&&a.month){var i=e.clone().date(1);i.hour(0).minute(0).second(0).millisecond(0),o=o&&a>=i}else a&&(o=o&&e.month()+1<=a);return o}return s.isFunction(t)?t(e):!0}function r(e,t){var n=t.helpers._,a='<table class="ui-calendar-month" data-role="month-column">';return s.each(e.items,function(t,o){a+='<tr class="ui-calendar-month-column" data-year="'+e.current.year+'">',s.each(o,function(e,t){a+='<td data-role="month"',t.available||(a+=' class="disabled-element"'),a+='data-value="'+t.value+'">',a+=n(t.label)+"</td>"}),a+="</tr>"}),a+="</table>"}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/arale/moment/2.1.0/moment"),l=e("common:widget/oui/arale/calendar/0.9.0/base-column"),u=l.extend({attrs:{template:r,process:null,model:{getter:function(){return a(this.get("focus"),this.get("process"),this)}}},events:{"click [data-role=month]":function(e){var t=s(e.target),n=t.data("value");this.select(n,t)}},setup:function(){u.superclass.setup.call(this),this.on("change:range",function(){this.element.html(s(this.compileTemplate()).html())})},prev:function(){var e=this.get("focus").add("months",-1);return this._sync(e)},next:function(){var e=this.get("focus").add("months",1);return this._sync(e)},select:function(e,t){if(t&&t.hasClass("disabled-element"))return this.trigger("selectDisable",e,t),e;var n;return n=e.month?e:this.get("focus").month(e),this._sync(n,t)},focus:function(e){e=e||this.get("focus");var t="[data-value="+e.month()+"]";this.element.find(".focused-element").removeClass("focused-element"),this.element.find(t).addClass("focused-element")},refresh:function(){var e=this.get("focus").year(),t=this.element.find("[data-year]").data("year");parseInt(t,10)!==e&&this.element.html(s(this.compileTemplate()).html())},inRange:function(e){var t=this.get("range");if(e.month)return o(e,t);if(e.toString().length<3){var n=this.get("focus");return o(n.clone().month(e),t)}return o(i(e,this.get("format")),t)},_sync:function(e,t){return this.set("focus",e),this.refresh(),this.focus(e),null!==t&&this.trigger("select",e.month(),t),e}});n.exports=u;var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});
;define("common:widget/oui/arale/calendar/0.9.0/year-column",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,a,t){function r(e,a,t){for(var r=e.year(),s=[l({value:r-10,label:". . .",available:!0,role:"previous-10-year"},t)],i=r-6;r+4>i;i++)s.push(l({value:i,label:i,available:n(i,a),role:"year"},t));s.push(l({value:r+10,label:". . .",available:!0,role:"next-10-year"},t));var u=[];for(i=0;i<s.length/3;i++)u.push(s.slice(3*i,3*i+3));var o={value:r,label:r};return{current:o,items:u}}function l(e,a){return a?(e.type="year",a(e)):e}function n(e,a){if(null==a)return!0;if(i.isArray(a)){var t=a[0];t&&t.year&&(t=t.year());var r=a[1];r&&r.year&&(r=r.year());var l=!0;return t&&(l=l&&e>=t),r&&(l=l&&r>=e),l}return!0}function s(e,a){var t=a.helpers._,r='<table class="ui-calendar-year" data-role="year-column">';return i.each(e.items,function(e,a){r+='<tr class="ui-calendar-year-column">',i.each(a,function(e,a){r+='<td data-role="'+a.role+'"',a.available||(r+=' class="disabled-element"'),r+='data-value="'+a.value+'">',r+=t(a.label)+"</td>"}),r+="</tr>"}),r+="</table>"}var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),u=e("common:widget/oui/arale/calendar/0.9.0/base-column"),o=u.extend({attrs:{process:null,template:s,model:{getter:function(){return r(this.get("focus"),this.get("range"),this.get("process"))}}},events:{"click [data-role=year],[data-role=previous-10-year],[data-role=next-10-year]":function(e){var a=i(e.target),t=a.data("value");this.select(t,a)}},setup:function(){o.superclass.setup.call(this),this.on("change:range",function(){this.element.html(i(this.compileTemplate()).html())})},prev:function(){var e=this.get("focus").add("years",-1);return this._sync(e)},next:function(){var e=this.get("focus").add("years",1);return this._sync(e)},select:function(e,a){if(a&&a.hasClass("disabled-element"))return this.trigger("selectDisable",e,a),e;var t;return t=e.year?e:this.get("focus").year(e),this._sync(t,a)},focus:function(e){e=e||this.get("focus");var a="[data-value="+e.year()+"]";this.element.find(".focused-element").removeClass("focused-element"),this.element.find(a).addClass("focused-element")},refresh:function(){var e=this.get("focus").year(),a=this.element.find("[data-role=year]");(e<a.first().data("value")||e>a.last().data("value"))&&this.element.html(i(this.compileTemplate()).html())},inRange:function(e){return n(e,this.get("range"))},_sync:function(e,a){return this.set("focus",e),this.refresh(),this.focus(e),null!==a&&this.trigger("select",e.year(),a),e}});t.exports=o});
;define("common:widget/oui/arale/calendar/0.9.0/calendar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-calendar","common:widget/oui/arale/calendar/0.9.0/date-column","common:widget/oui/arale/calendar/0.9.0/month-column","common:widget/oui/arale/calendar/0.9.0/year-column","common:widget/oui/arale/calendar/0.9.0/base-column"],function(e,t,a){var n=(e("common:widget/oui/lib/jquery/1.9.1/jquery"),e("common:widget/oui/arale/moment/2.1.0/moment")),s=e("common:widget/oui/arale/calendar/0.9.0/base-calendar"),r=e("common:widget/oui/arale/calendar/0.9.0/date-column"),o=e("common:widget/oui/arale/calendar/0.9.0/month-column"),i=e("common:widget/oui/arale/calendar/0.9.0/year-column"),l=['<div class="ui-calendar">','<div class="ui-calendar-pannel" data-role="pannel">','<span class="ui-calendar-control" data-role="prev-year">&lt;&lt;</span>','<span class="ui-calendar-control" data-role="prev-month">&lt;</span>','<span class="ui-calendar-control month" data-role="current-month"></span>','<span class="ui-calendar-control year" data-role="current-year"></span>','<span class="ui-calendar-control" data-role="next-month">&gt;</span>','<span class="ui-calendar-control" data-role="next-year">&gt;&gt;</span>',"</div>",'<div class="ui-calendar-container" data-role="container">',"</div>","</div>"].join(""),c=s.extend({attrs:{mode:"dates",template:l},events:{"click [data-role=current-month]":function(){this.renderContainer("months"===this.get("mode")?"dates":"months")},"click [data-role=current-year]":function(){this.renderContainer("years"===this.get("mode")?"dates":"years")},"click [data-role=prev-year]":function(){var e=this.years.prev();this.dates.select(e),this.months.select(e)},"click [data-role=next-year]":function(){var e=this.years.next();this.dates.select(e),this.months.select(e)},"click [data-role=prev-month]":function(){var e=this.months.prev();this.dates.select(e),this.years.select(e)},"click [data-role=next-month]":function(){var e=this.months.next();this.dates.select(e),this.years.select(e)}},setup:function(){c.superclass.setup.call(this),this.renderPannel();var e={lang:this.get("lang"),focus:this.get("focus"),range:this.get("range"),format:this.get("format"),startDay:this.get("startDay"),process:this.get("process")};this.dates=new r(e),this.months=new o(e),this.years=new i(e);var t=this;this.dates.on("select",function(e,a){t.set("focus",e);var s=t.get("focus");t.months.select(s),t.years.select(s),a&&(t.trigger("selectDate",e),n.isMoment(e)&&(e=e.format(this.get("format"))),t.output(e))}),this.months.on("select",function(e,a){var n=t.get("focus");n.month(e),t.set("focus",n),t.renderPannel(),a&&(t.renderContainer("dates",n),t.trigger("selectMonth",n))}),this.years.on("select",function(e,a){var n=t.get("focus");n.year(e),t.set("focus",n),t.renderPannel(),a&&"year"===a.data("role")&&(t.renderContainer("dates",n),t.trigger("selectYear",n))});var a=this.element.find("[data-role=container]");a.append(this.dates.element),a.append(this.months.element),a.append(this.years.element),this.renderContainer("dates")},renderContainer:function(e,t){return this.set("mode",e),t=t||this.get("focus"),this.dates.hide(),this.months.hide(),this.years.hide(),this.dates.select(t,null),this.months.select(t,null),this.years.select(t,null),"dates"===e?this.dates.element.show():"months"===e?this.months.element.show():"years"===e&&this.years.element.show(),this},renderPannel:function(){var e=this.get("focus"),t=this.element.find("[data-role=current-month]"),a=this.element.find("[data-role=current-year]"),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=n[e.month()];s=this.get("lang")[s]||s,t.text(s),a.text(e.year())},focus:function(e){e=n(e,this.get("format")),this.dates.focus(e),this.months.focus(e),this.years.focus(e)},range:function(e){this.set("range",e),this.dates.set("range",e),this.months.set("range",e),this.years.set("range",e),this.renderContainer(this.get("mode"))},show:function(){var e=this._outputTime();e&&this.dates.select(e),c.superclass.show.call(this)},destroy:function(){this.dates.destroy(),this.months.destroy(),this.years.destroy(),c.superclass.destroy.call(this)}});c.BaseColumn=e("common:widget/oui/arale/calendar/0.9.0/base-column"),c.BaseCalendar=s,c.DateColumn=r,c.MonthColumn=o,c.YearColumn=i,a.exports=c});
;define("common:widget/oui/arale/calendar/0.9.0/double-calendar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/moment/2.1.0/moment","common:widget/oui/arale/calendar/0.9.0/base-calendar","common:widget/oui/arale/calendar/0.9.0/date-column"],function(a,e,t){var n=(a("common:widget/oui/lib/jquery/1.9.1/jquery"),a("common:widget/oui/arale/moment/2.1.0/moment"),a("common:widget/oui/arale/calendar/0.9.0/base-calendar")),r=a("common:widget/oui/arale/calendar/0.9.0/date-column"),l=['<div class="ui-calendar ui-double-calendar">','<div class="ui-calendar-start">','<div class="ui-calendar-wrap">','<div class="ui-calendar-pannel" data-role="pannel">','<span class="ui-calendar-control" data-role="prev-year">&lt;&lt;</span>','<span class="ui-calendar-control" data-role="prev-month">&lt;</span>','<span class="ui-calendar-control month" data-role="start-month"></span>','<span class="ui-calendar-control year" data-role="start-year"></span>',"</div>","</div>",'<div class="ui-calendar-container" data-role="container"></div>',"</div>",'<div class="ui-calendar-end">','<div class="ui-calendar-wrap">','<div class="ui-calendar-pannel" data-role="pannel">','<span class="ui-calendar-control month" data-role="end-month"></span>','<span class="ui-calendar-control year" data-role="end-year"></span>','<span class="ui-calendar-control" data-role="next-month">&gt;</span>','<span class="ui-calendar-control" data-role="next-year">&gt;&gt;</span>',"</div>","</div>",'<div class="ui-calendar-container" data-role="container"></div>',"</div>","</div>"].join(""),o=n.extend({attrs:{template:l},events:{"click [data-role=prev-year]":function(){},"click [data-role=next-year]":function(){},"click [data-role=prev-month]":function(){},"click [data-role=next-month]":function(){}},setup:function(){o.superclass.setup.call(this),this.renderPannel();var a=this.get("focus"),e={focus:a,lang:this.get("lang"),range:this.get("range"),format:this.get("format"),startDay:this.get("startDay"),process:this.get("process")};this.startDates=new r(e),e.focus=a.clone().add("months",1),this.endDates=new r(e),this.element.find(".ui-calendar-start .ui-calendar-container").append(this.startDates.element),this.element.find(".ui-calendar-end .ui-calendar-container").append(this.endDates.element)},renderPannel:function(){var a=this.get("focus"),e=this.element.find("[data-role=start-month]"),t=this.element.find("[data-role=start-year]"),n=this.element.find("[data-role=end-month]"),r=this.element.find("[data-role=end-year]"),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=this.get("lang"),s=l[a.month()];s=o[s]||s,e.text(s),t.text(a.year()),a=a.clone(),a.add("months",1),s=l[a.month()],s=o[s]||s,n.text(s),r.text(a.year())},destroy:function(){this.startDates.destroy(),this.endDates.destroy(),o.superclass.destroy.call(this)}});t.exports=o});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/en",{});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/fr",{Su:"Di",Mo:"Lu",Tu:"Ma",We:"Me",Th:"Je",Fr:"Ve",Sa:"Sa",Jan:"janv.",Feb:"févr.",Mar:"mars",Apr:"avr.",May:"mai",Jun:"juin",Jul:"juil.",Aug:"août",Sep:"sept.",Oct:"oct.",Nov:"nov.",Dec:"déc."});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/ja",{Su:"日",Mo:"月",Tu:"火",We:"水",Th:"木",Fr:"金",Sa:"土",Jan:"1月",Feb:"2月",Mar:"3月",Apr:"4月",May:"5月",Jun:"6月",Jul:"7月",Aug:"8月",Sep:"9月",Oct:"10月",Nov:"11月",Dec:"12月"});
;define("common:widget/oui/arale/calendar/0.9.0/i18n/zh-tw",{Su:"日",Mo:"一",Tu:"二",We:"三",Th:"四",Fr:"五",Sa:"六",Jan:"一月",Feb:"二月",Mar:"三月",Apr:"四月",May:"五月",Jun:"六月",Jul:"七月",Aug:"八月",Sep:"九月",Oct:"十月",Nov:"十一月",Dec:"十二月"});
;define("common:widget/oui/arale/dialog/1.3.3/confirmbox",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e,t,i){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/dialog/1.3.3/dialog"),l=o.extend({attrs:{title:"默认标题",confirmTpl:'<a class="ui-dialog-button-orange">确定</a>',cancelTpl:'<a class="ui-dialog-button-white">取消</a>',message:"默认内容",hasMask:{hideOnClick:!1}},setup:function(){l.superclass.setup.call(this);var e={classPrefix:this.get("classPrefix"),message:this.get("message"),title:this.get("title"),confirmTpl:this.get("confirmTpl"),cancelTpl:this.get("cancelTpl"),hasFoot:this.get("confirmTpl")||this.get("cancelTpl")};this.set("content",template(e))},events:{"click [data-role=confirm]":function(e){e.preventDefault(),this.trigger("confirm")},"click [data-role=cancel]":function(e){e.preventDefault(),this.hide()}},_onChangeMessage:function(e){this.$("[data-role=message]").html(e)},_onChangeTitle:function(e){this.$("[data-role=title]").html(e)},_onChangeConfirmTpl:function(e){this.$("[data-role=confirm]").html(e)},_onChangeCancelTpl:function(e){this.$("[data-role=cancel]").html(e)}});l.alert=function(e,t,i){var o={message:e,title:"",cancelTpl:"",closeTpl:"",onConfirm:function(){t&&t(),this.hide()}};new l(n.extend(null,o,i)).show().after("hide",function(){this.destroy()})},l.confirm=function(e,t,i,o){var a={message:e,title:t||"确认框",closeTpl:"",onConfirm:function(){i&&i(),this.hide()}};new l(n.extend(null,a,o)).show().after("hide",function(){this.destroy()})},l.show=function(e,t,i){var o={message:e,title:"",confirmTpl:!1,cancelTpl:!1};new l(n.extend(null,o,i)).show().before("hide",function(){t&&t()}).after("hide",function(){this.destroy()})},i.exports=l});
;define("common:widget/oui/arale/dialog/1.3.3/dialog-1.3.3",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay","common:widget/oui/arale/overlay/1.1.2/mask","common:widget/oui/arale/events/1.1.0/events","common:widget/oui/arale/templatable/0.9.1/templatable"],function(e,t,i){function s(e){null==e.attr("tabindex")&&e.attr("tabindex","-1")}function n(e){var t=e[0].contentWindow.document;return t.body.scrollHeight&&t.documentElement.scrollHeight?Math.min(t.body.scrollHeight,t.documentElement.scrollHeight):t.documentElement.scrollHeight?t.documentElement.scrollHeight:t.body.scrollHeight?t.body.scrollHeight:void 0}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/arale/overlay/1.1.2/overlay"),o=e("common:widget/oui/arale/overlay/1.1.2/mask"),l=e("common:widget/oui/arale/events/1.1.0/events"),h=(e("common:widget/oui/arale/templatable/0.9.1/templatable"),"300px"),c=a.extend({attrs:{template:'<div class="ui-dialog"><div class="ui-dialog-close" title="关闭本框" data-role="close"></div><div class="ui-dialog-content" data-role="content"></div></div>',trigger:{value:null,getter:function(e){return r(e)}},classPrefix:"ui-dialog",content:{value:null,setter:function(e){return/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(e)&&(this._type="iframe"),e}},hasMask:{hideOnClick:!0},closeTpl:"×",width:500,height:null,effect:"none",zIndex:999,autoFit:!0,align:{selfXY:["50%","50%"],baseXY:["50%","50%"]}},parseElement:function(){this.set("model",{classPrefix:this.get("classPrefix")}),c.superclass.parseElement.call(this),this.contentElement=this.$("[data-role=content]"),this.contentElement.css({background:"#fff",height:"100%",zoom:1}),this.$("[data-role=close]").hide()},events:{"click [data-role=close]":function(e){e.preventDefault(),this.hide()}},show:function(){return"iframe"===this._type&&(!this.get("height")&&this.element.css("height",h),this._showIframe()),c.superclass.show.call(this),this},hide:function(){return"iframe"===this._type&&this.iframe&&(this.iframe.attr({src:"javascript:'';"}),this.iframe.remove(),this.iframe=null),c.superclass.hide.call(this),clearInterval(this._interval),delete this._interval,this},destroy:function(){return this.element.remove(),this.get("hasMask")&&o.hide(),clearInterval(this._interval),c.superclass.destroy.call(this)},setup:function(){c.superclass.setup.call(this),this._setupTrigger(),this._setupMask(),this._setupKeyEvents(),this._setupFocus(),s(this.element),s(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},_onRenderContent:function(e){if("iframe"!==this._type){var t;try{t=r(e)}catch(i){t=[]}t[0]?this.contentElement.empty().append(t):this.contentElement.empty().html(e)}},_onRenderCloseTpl:function(e){""===e?this.$("[data-role=close]").html(e).hide():this.$("[data-role=close]").html(e).show()},_onRenderVisible:function(e){e?"fade"===this.get("effect")?this.element.fadeIn(300):this.element.show():this.element.hide()},_setupTrigger:function(){this.delegateEvents(this.get("trigger"),"click",function(e){e.preventDefault(),this.activeTrigger=r(e.currentTarget),this.show()})},_setupMask:function(){var e,t=this.get("hasMask"),i=parseInt(this.get("zIndex"),10),s=this;this.before("show",function(){t&&(e=o.get("zIndex"),o.set("zIndex",i-1).show(),t.hideOnClick&&o.element.one("click",function(){s.hide()}))}),this.after("hide",function(){t&&o.set("zIndex",e).hide()})},_setupFocus:function(){this.after("show",function(){this.element.focus()}),this.after("hide",function(){this.activeTrigger&&this.activeTrigger.focus()})},_setupKeyEvents:function(){this.delegateEvents(r(document),"keyup",function(e){27===e.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var e=this;this.iframe||this._createIframe(),this.iframe.attr({src:this._fixUrl(),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.one("load",function(){e.get("visible")&&(e.get("autoFit")&&(clearInterval(e._interval),e._interval=setInterval(function(){e._syncHeight()},300)),e._syncHeight(),e._setPosition(),e.trigger("complete:show"))})},_fixUrl:function(){var e=this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);return e.shift(),e[1]=(e[1]&&"?"!==e[1]?e[1]+"&":"?")+"t="+(new Date).getTime(),e.join("")},_createIframe:function(){var e=this;this.iframe=r("<iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),l.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){e.hide()})},_syncHeight:function(){var e;if(this.get("height"))clearInterval(this._interval),delete this._interval;else{try{this._errCount=0,e=n(this.iframe)+"px"}catch(t){this._errCount=(this._errCount||0)+1,this._errCount>=6&&(e=h,clearInterval(this._interval),delete this._interval)}this.element.css("height",e),this.element[0].className=this.element[0].className}}});i.exports=c});
;define("common:widget/oui/arale/popup/1.1.2/popup",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/overlay/1.1.2/overlay"],function(e,t,i){function n(e,t,i,n,s){var o=n&&n[0];s.delegateEvents(o?n:t,o?e+" "+t.selector:e,function(e){i.call(e.currentTarget,e)})}var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/arale/overlay/1.1.2/overlay"),r=o.extend({attrs:{trigger:{value:null,getter:function(e){return s(e)}},triggerType:"hover",delegateNode:{value:null,getter:function(e){return s(e)}},align:{value:{baseXY:[0,"100%"],selfXY:[0,0]},setter:function(e){return e?(e.baseElement?this._specifiedBaseElement=!0:this.activeTrigger&&(e.baseElement=this.activeTrigger),e):void 0},getter:function(e){return s.extend({},e,this._specifiedBaseElement?{}:{baseElement:this.activeTrigger})}},delay:70,disabled:!1,effect:"",duration:250},setup:function(){r.superclass.setup.call(this),this._bindTrigger(),this._blurHide(this.get("trigger")),this.activeTrigger=this.get("trigger").eq(0)},show:function(){return this.get("disabled")?void 0:r.superclass.show.call(this)},_bindTrigger:function(){var e=this.get("triggerType");"click"===e?this._bindClick():"focus"===e?this._bindFocus():this._bindHover()},_bindClick:function(){function e(e){t.get("disabled")||t.get("trigger").each(function(i,n){e==n?(n._active=!0,t.activeTrigger=s(n)):n._active=!1})}var t=this;n("click",this.get("trigger"),function(i){"a"===this.tagName.toLowerCase()&&i.preventDefault(),this._active===!0?t.hide():(e(this),t.show())},this.get("delegateNode"),this),this.before("hide",function(){e()})},_bindFocus:function(){var e=this;n("focus",this.get("trigger"),function(){e.activeTrigger=s(this),e.show()},this.get("delegateNode"),this),n("blur",this.get("trigger"),function(){setTimeout(function(){!e._downOnElement&&e.hide(),e._downOnElement=!1},e.get("delay"))},this.get("delegateNode"),this),this.delegateEvents("mousedown",function(){this._downOnElement=!0})},_bindHover:function(){function e(){clearTimeout(t),t=null,u.get("visible")&&(i=setTimeout(function(){u.hide()},g))}var t,i,o=this.get("trigger"),r=this.get("delegateNode"),g=this.get("delay"),u=this;return 0>g?void this._bindTooltip():(n("mouseenter",o,function(){clearTimeout(i),i=null,u.activeTrigger=s(this),t=setTimeout(function(){u.show()},g)},r,this),n("mouseleave",o,e,r,this),this.delegateEvents("mouseenter",function(){clearTimeout(i)}),void this.delegateEvents("mouseleave",e))},_bindTooltip:function(){var e=this.get("trigger"),t=this.get("delegateNode"),i=this;n("mouseenter",e,function(){i.activeTrigger=s(this),i.show()},t,this),n("mouseleave",e,function(){i.hide()},t,this)},_onRenderVisible:function(e){var t=-1!==this.get("effect").indexOf("fade"),i=-1!==this.get("effect").indexOf("slide"),n={};i&&(n.height=e?"show":"hide"),t&&(n.opacity=e?"show":"hide"),t||i?this.element.stop(!0,!0).animate(n,this.get("duration")).css({visibility:"visible"}):this.element[e?"show":"hide"]()}});i.exports=r});
;define("common:widget/oui/arale/sticky/1.2.1/sticky",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,i,e){function s(t){this.options=t||{},this.elem=n(this.options.element),this.callback=t.callback||function(){},this.marginTop=t.marginTop||0,this._stickyId=c++}function o(t,i,e){return new s({element:t,marginTop:i||0,callback:e}).render()}function l(){return!m}function r(){if(p)return!1;var t=a[0].body;if(a[0].createElement&&t&&t.appendChild&&t.removeChild){var i,e=a[0].createElement("div"),s=function(t){return window.getComputedStyle?window.getComputedStyle(e).getPropertyValue(t):e.currentStyle.getAttribute(t)};t.appendChild(e);for(var o=0;o<h.length&&(e.style.cssText="position:"+h[o]+"sticky;visibility:hidden;",!(i=-1!==s("position").indexOf("sticky")));o++);return e.parentNode.removeChild(e),i}}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=n(document),h=["-webkit-","-ms-","-o-","-moz-",""],c=0,d=(window.navigator.userAgent||"").toLowerCase(),p=-1!==d.indexOf("msie"),m=-1!==d.indexOf("msie 6"),u=r(),y=l();s.prototype.render=function(){var t=this;if(this.elem.length&&!this.elem.data("bind-sticked")){if(this._originTop=this.elem.offset().top,this.marginTop===Number.MAX_VALUE){var i=!0;this.marginTop=this._originTop}this._originStyles={position:null,top:null,left:null};for(var e in this._originStyles)this._originStyles.hasOwnProperty(e)&&(this._originStyles[e]=this.elem.css(e));var s;if(o.isPositionStickySupported&&!i){s=this._supportSticky;for(var l="",r=0;r<h.length;r++)l+="position:"+h[r]+"sticky;";this.elem[0].style.cssText+=l+"top: "+this.marginTop+"px;"}else o.isPositionFixedSupported?s=this._supportFixed:(s=this._supportAbsolute,n("<style type='text/css'> * html{ background:url(null) no-repeat fixed; } </style>").appendTo("head"));return s.call(this),n(window).on("scroll."+this._stickyId,function(){t.elem.is(":visible")&&s.call(t)}),this.elem.data("bind-sticked",!0),this}},s.prototype._supportFixed=function(){var t=this._originTop-a.scrollTop();!this.elem.data("sticked")&&t<=this.marginTop?(this._addPlaceholder(),this.elem.css({position:"fixed",top:this.marginTop,left:this.elem.offset().left}),this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&t>this.marginTop&&this._restore()},s.prototype._supportAbsolute=function(){var t=this._originTop-a.scrollTop();t<=this.marginTop?(this.elem.data("sticked")||(this._addPlaceholder(),this.elem.data("sticked",!0),this.callback.call(this,!0)),this.elem.css({position:"absolute",top:this.marginTop+a.scrollTop()})):this.elem.data("sticked")&&t>this.marginTop&&this._restore()},s.prototype._supportSticky=function(){var t=this._originTop-a.scrollTop();!this.elem.data("sticked")&&t<=this.marginTop?(this.elem.data("sticked",!0),this.callback.call(this,!0)):this.elem.data("sticked")&&t>this.marginTop&&this.callback.call(this,!1)},s.prototype._restore=function(){this._removePlaceholder(),this.elem.css(this._originStyles),this.elem.data("sticked",!1),this.callback.call(this,!1)},s.prototype._addPlaceholder=function(){var t=!1,i=this.elem.css("position");("static"===i||"relative"===i)&&(t=!0),"block"!==this.elem.css("display")&&(t=!1),t&&(this._placeholder=n('<div style="visibility:hidden;margin:0;padding:0;"></div>'),this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float",this.elem.css("float")).insertAfter(this.elem))},s.prototype._removePlaceholder=function(){this._placeholder&&this._placeholder.remove()},s.prototype.destory=function(){this._restore(),this.elem.data("bind-sticked",!1),n(window).off("scroll."+this._stickyId)},e.exports=o,o.stick=o,o.fix=function(t){return new s({element:t,marginTop:Number.MAX_VALUE}).render()},o.isPositionStickySupported=u,o.isPositionFixedSupported=y});
;define("common:widget/oui/arale/tip/1.1.4/tip",["require","exports","module","common:widget/oui/arale/popup/1.1.2/popup"],function(t,e,i){var o=t("common:widget/oui/arale/popup/1.1.2/popup"),n=o.extend({attrs:{content:null,direction:"up",distance:8,arrowShift:22,pointPos:"50%"},_setAlign:function(){var t={},e=this.get("arrowShift"),i=this.get("distance"),o=this.get("pointPos"),n=this.get("direction");0>e&&(e="100%"+e),"up"===n?(t.baseXY=[o,0],t.selfXY=[e,"100%+"+i]):"down"===n?(t.baseXY=[o,"100%+"+i],t.selfXY=[e,0]):"left"===n?(t.baseXY=[0,o],t.selfXY=["100%+"+i,e]):"right"===n&&(t.baseXY=["100%+"+i,o],t.selfXY=[0,e]),this.set("align",t)},setup:function(){n.superclass.setup.call(this),this._setAlign()},_onRenderContent:function(t){var e=this.$('[data-role="content"]');"string"!=typeof t&&(t=t.call(this)),e&&e.html(t)}});i.exports=n});
;define("common:widget/oui/arale/tip/1.1.4/atip",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/tip/1.1.4/tip"],function(i,t,o){var e=i("common:widget/oui/lib/jquery/1.9.1/jquery"),s=i("common:widget/oui/arale/tip/1.1.4/tip"),n=s.extend({attrs:{template:'<div class="ui-poptip"><div class="ui-poptip-shadow"><div class="ui-poptip-container"><div class="ui-poptip-arrow"><em></em><span></span></div><div class="ui-poptip-content" data-role="content"></div></div></div></div>',content:"这是一个提示框",arrowPosition:7,theme:"yellow",inViewport:!1,width:"auto",height:"auto"},setup:function(){this._originArrowPosition=this.get("arrowPosition"),n.superclass.setup.call(this)},show:function(){n.superclass.show.call(this),this._makesureInViewport()},_makesureInViewport:function(){if(this.get("inViewport")){var i=this._originArrowPosition,t=e(window).scrollTop(),o=e(window).outerHeight(),s=this.element.height()+this.get("distance"),n=e(this.get("trigger")).offset().top,r={1:"5",5:"1",7:"11",11:"7"};(11===i||1===i)&&n>t+o-s?this.set("arrowPosition",r[i]):(7===i||5===i)&&t+s>n?this.set("arrowPosition",r[i]):this.set("arrowPosition",this._originArrowPosition)}},_onRenderArrowPosition:function(i,t){i=parseInt(i,10);var o=this.$(".ui-poptip-arrow");o.removeClass("ui-poptip-arrow-"+t).addClass("ui-poptip-arrow-"+i);var e="",s=0;10===i?(e="right",s=20):11===i?(e="down",s=22):1===i?(e="down",s=-22):2===i?(e="left",s=20):5===i?(e="up",s=-22):7===i&&(e="up",s=22),this.set("direction",e),this.set("arrowShift",s),this._setAlign()},_onRenderWidth:function(i){this.$('[data-role="content"]').css("width",i)},_onRenderHeight:function(i){this.$('[data-role="content"]').css("height",i)},_onRenderTheme:function(i,t){this.element.removeClass("ui-poptip-"+t),this.element.addClass("ui-poptip-"+i)}});o.exports=n});
;define("common:widget/oui/protocol",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/utils/utils"],function(e,t,a){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r=e("common:widget/ui/utils/utils"),s={REQ:"req",OPT:"opt",COND:"cond"},o={getNews:{url:"/about/about!json.action?flag=news",type:"GET",dataType:"json",_list:"news"},getNotices:{url:"/about/about!json.action?flag=notices",type:"GET",dataType:"json",_list:"notices"},getNewbeeLoans:{url:"/lend/loanList!newComerLoanJson.action",type:"GET",dataType:"json",_list:"plans"},getIndexNewbeeLoans:{url:"/lend/loanList!newComerLoanJson.action",type:"GET",dataType:"json",_list:"newComerLoans"},getLoans:{url:"/lend/loanList!json.action",type:"GET",dataType:"json",_list:"loans"},getLoansTransfer:{url:"/transfer/transferList!json.action",type:"GET",dataType:"json",_list:"transferList"},getLoanInvestmentRecords:{url:"/lend/getborrowerandlenderinfo.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_params:{id:"lenderRecords"},_list:"lenderRecords"},getLoanLenderRecords:{url:"/lend/getborrowerandlenderinfo.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_params:{id:"lenderInfo"},_list:"lenders"},getLoanTransferRecords:{url:"/transfer/transactionList.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_list:"loanTransferLogList"},getLoanRepaymentRecords:{url:"/lend/getborrowerandlenderinfo.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_params:{id:"repayDetail"},_list:"phases"},getLoanCollectionRecords:{url:"/lend/dunDetail.action",type:"GET",dataType:"json",params:{loanId:s.REQ},_list:"dunInfoList"},getCreditInfo:null,getCommentsOnLoan:{url:"/lend/loanCommentList.action",type:"GET",dataType:"json",params:{loanId:s.REQ,pageIndex:s.OPT}},postCommentOnLoan:{url:"/lend/commentLoan.action",type:"POST",dataType:"json",params:{id:s.REQ,threadId:s.REQ,comment:s.REQ}},getPlans:{url:"/financeplan/listPlan!listPlanJson.action",type:"GET",dataType:"json",params:{category:s.REQ},_list:"plans"},getAutoinvestPlans:{url:"/autoinvestplan/listPlan!listPlanJson.action",type:"GET",dataType:"json",_list:"plans"},getPlanReserveRecords:{url:"/financeplan/getFinancePlanLenders!reserveRecord.action",type:"GET",dataType:"json",params:{financePlanStr:s.REQ},_list:"rsvList"},getAutoinvestPlanBidLoans:{url:"/account/invest!autoInvestPlanBidLoanJson.action",type:"GET",dataType:"json",params:{financeId:s.REQ,subPointId:s.REQ,pageIndex:s.OPT},_list:"subPointLoanLenderVoList"},getPlanJoinedRecords:{url:"/financeplan/getFinancePlanLenders.action",type:"GET",dataType:"json",params:{financePlanStr:s.REQ},_list:"jsonList"},getPlanPerformance:{url:"/financeplan/listPlan!planResults.action",type:"GET",dataType:"json",params:{financePlanId:s.REQ}},getAutoinvestJoinedRecords:{url:"/autoinvestplan/listPlan!getAutoInvestPlanBuyerRecords.action",type:"GET",dataType:"json",params:{autoInvestPlanId:s.REQ},_list:"jsonList"},getUnreadMsgCount:{url:"/getUnreadMailsCount.action",type:"GET",dataType:"json"},getUnreadNewTask:{url:"/event/newTask!isDisplayNewTaskMark.action",type:"GET",dataType:"json"},getHomePageUserInfoHttp:{url:"/getHomePageUserInfo.action",type:"GET",dataType:"json"},getHomePageUserInfoHttps:{url:"/account/getHomePageUserInfo.action",type:"GET",dataType:"json"},getUserBankInfo:null,getFundList:{url:"/fund/fundInfoAction!fundlist.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"resultList"},getFundBreakEven:{url:"/fund/fundInfoAction!topList.action",type:"GET",dataType:"json",_list:"resultList"},getFundRankList:{url:"/fund/fundRankAction!rankList.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"resultList"},getFundtopList:{url:"/fund/fundInfoAction!fundlist.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"resultList"},getUserFundTransactions:{url:"/fund/userFundAction!tradeLog.action",type:"GET",dataType:"json",params:{range:s.REQ,opType:s.COND},_list:"pointLogs"},getUserTransactions:{url:"/account/capital!transactionJson.action",type:"GET",dataType:"json",params:{type:s.REQ,year:s.COND,startMonth:s.COND,endMonth:s.COND,time:s.COND},_list:"pointLogs"},getUserRepayingRecords:{url:"/account/borrow!listInProgress.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"data"},getUserRepaidRecords:{url:"/account/borrow!listDoneLoans.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"data"},getUserLoanRepaymentRecords:{url:"/account/borrow!listRecord.action",type:"GET",dataType:"json",params:{loanId:s.REQ}},getUserLoanApplicationRecords:{url:"/account/borrow!listAll.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_list:"data"},getUserLoansRepaying:{url:"/account/invest!loanJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{loanType:"REPAYING_LOAN"},_list:"loanList"},getUserLoansRepaid:{url:"/account/invest!loanJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{loanType:"FINISH_LOAN"},_list:"loanList"},getUserLoansInProgress:{url:"/account/invest!loanJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{loanType:"BID_LOAN"},_list:"loanList"},getUserLoansReturnRecords:{url:"/account/invest!backAccountJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT,backStatus:s.OPT,backStartTime:s.OPT,backEndTime:s.OPT},_list:"backAccountVo"},getUserTransferringLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"OF_TRANSFERRED"},_list:"transferList"},getUserTransferableLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"PRE_TRANSFERRED"},_list:"transferList"},getUserTransferredInLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"INTO_TRANSFERRED"},_list:"transferList"},getUserTransferredOutLoans:{url:"/account/invest!transferJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{transferType:"OUT_TRANSFERRED"},_list:"transferList"},getUserTransferredOutRecords:{url:"/account/invest!getTranfsferLogJson.action",type:"GET",dataType:"json",params:{tranfsferId:s.REQ,pageIndex:s.OPT},_list:"transferLogList"},getUserTransferredInRecords:{url:"/account/invest!getTranfsferInLogJson.action",type:"GET",dataType:"json",params:{tranfsferId:s.REQ,pageIndex:s.OPT},_list:"transferLogList"},getUserTransferredLogJsonRecords:{url:"/account/invest!getTranfsferLogJson.action",type:"GET",dataType:"json",params:{tranfsferId:s.REQ,pageIndex:s.OPT},_list:"transferLogList"},getUserHoldingPlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{planType:"HOLD_PLAN"},_list:"financePlanList"},getUserExitingPlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{pageIndex:s.OPT},_params:{planType:"EXITING_PLAN"},_list:"financePlanList"},getUserExitedPlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{planType:s.OPT},_params:{planType:"EXIT_PLAN"},_list:"financePlanList"},getUserReservePlans:{url:"/account/invest!planJson.action",type:"GET",dataType:"json",params:{planType:s.OPT},_params:{planType:"RESERVE_PLAN"},_list:"financePlanList"},getUserPlanRecords:{url:"/account/invest!planInfoJson.action",type:"GET",dataType:"json",params:{financeId:s.REQ,subPointId:s.REQ,pageIndex:s.OPT},_list:"financePlanList"},getUserInfo:{url:"/account/myInfo!userDetailLoanList.action",type:"GET",params:{userId:s.REQ},dataType:"json",_list:"loanList"},getExpectedAmountsForPlanExiting:{url:"/account/invest!planInfoForExitingJson.action",type:"GET",dataType:"json",params:{subPointId:s.REQ}},getUserReversPlanPay:{url:"/account/invest!detailPlanRsv.action",type:"GET",dataType:"json",params:{financeId:s.REQ}},getUnuseCoupon:{url:"/account/coupon!couponJson.action",type:"GET",dataType:"json",_params:{couponType:"HOLD_UNUSE"},_list:"couponList"},getUsedCoupon:{url:"/account/coupon!couponJson.action",type:"GET",dataType:"json",_params:{couponType:"HOLD_USED"},_list:"couponList"},getExpiredCoupon:{url:"/account/coupon!couponJson.action",type:"GET",dataType:"json",_params:{couponType:"HOLD_EXPIRE"},_list:"couponList"},getUserFundRecords:{url:"/fund/userFundAction!tradeLog.action",type:"GET",dataType:"json",_params:{range:s.REQ,opType:s.COND},_list:"pointLogs"},getUserHoldingFund:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"0"},_list:"resultList"},getUserFundSubscribing:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"1",status:"1"},_list:"resultList"},getUserFundRedeeming:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"1",status:"2"},_list:"resultList"},getUserFundCallOption:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"1",status:"4"},_list:"resultList"},getUserLoansRetired:{url:"/fund/userFundAction!myFundList.action",type:"GET",dataType:"json",_params:{viewType:"2"},_list:"resultList"}},u=function(e){n.extend(this,{CREDITINFO_MAPPING:[{key:"credit",name:"信用报告"},{key:"identificationScanning",name:"身份认证"},{key:"graduation",name:"学历认证"},{key:"work",name:"工作认证"},{key:"titles",name:"职称认证"},{key:"incomeDuty",name:"收入认证"},{key:"house",name:"房产认证"},{key:"car",name:"车产认证"},{key:"marriage",name:"婚姻认证"},{key:"residence",name:"居住地证明"},{key:"fieldAudit",name:"实地认证"},{key:"organization",name:"机构担保"},{key:"video",name:"视频认证"},{key:"mobileReceipt",name:"手机认证"},{key:"kaixin",name:"微博认证"},{key:"other",name:"其他认证"}],URL:{userHome:"/account/myInfo.action?userId=",planDetails:"/financeplan/",loanDetails:"/loan/",loanApplication:"/borrow/borrow.action",loanTransferDetails:"/transfer/",userPlan:"/account/invest!planInfo.action?financeId=",helpForBorrower:"/help/borrow/borrow!borrowProduct.action#",autoinvestDeatils:"/autoinvestplan/"},protocol:e})};n.extend(u.prototype,{_getDatehour:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e))return"date"==t&&e?e.substring(11,16):"";var n=new Date(e),r=n.getHours(),s=n.getMinutes();return r=10>r?"0"+r:r,s=10>s?"0"+s:s,r+":"+s},_getDatemonth:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e)){if("date"==t){if(e){var n=Number(e.substring(5,7)),r=Number(e.substring(8,10));return r=10>r?"0"+r:r,n=10>n?"0"+n:n,n+"."+r}return""}return""}var s=new Date(e),n=s.getMonth()+1,r=s.getDate();return r=10>r?"0"+r:r,n=10>n?"0"+n:n,n+"."+r},_getDateyear:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e)){if("date"==t){var n=Number(e.substring(5,7)),r=e.substring(0,4);return n=10>n?"0"+n:n,r+"年"+n+"月"}return""}var s=new Date(e),n=s.getMonth()+1,r=s.getFullYear();return r+"年"+n+"月"},_getDateTime:function(e,t){var a=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/i;if(isNaN(Date.parse(e))||a.test(e))return"date"==t?e?e.substring(0,10):"":e?e.substring(0,16).replace("T"," "):"";var n=new Date(e),r=n.getFullYear(),s=n.getDate(),o=n.getMonth()+1;if(s=10>s?"0"+s:s,o=10>o?"0"+o:o,"date"==t)return r+"-"+o+"-"+s;var i=n.getHours(),u=n.getMinutes();return i=10>i?"0"+i:i,u=10>u?"0"+u:u,r+"-"+o+"-"+s+" "+i+":"+u},_getDate4Long:function(e){"string"==typeof e&&(e=Number(e));var t=new Date(e),a=t.getFullYear(),n=t.getDate(),r=t.getMonth()+1;return n=10>n?"0"+n:n,r=10>r?"0"+r:r,a+"-"+r+"-"+n},_bankersRound:function(e,t){"string"==typeof e&&(e=parseFloat(e));var a=1e-8,n=0!==e?Math.floor(e/Math.abs(e)):1;return t=null===t||void 0===t?2:t,e=Math.abs(e)*Math.pow(10,t),i=Math.floor(e),f=e-i,e=Math.abs(f-.5)<a?1==(1&i)?i+1:i:Math.round(e),(n*e/Math.pow(10,t)).toFixed(2)},_fixedFloat2:function(e){return"string"==typeof e&&(e=parseFloat(e,10)),parseFloat(Math.round(100*e)/100,10).toFixed(2)},_commaInteger:function(e){return e=parseInt(e,10),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_commaFloat:function(e){return this._fixedFloat2(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},_loanRepaidStatus:function(e){return"string"!=typeof e&&(e=parseInt(e,10)),5==e||"BAD_DEBT"==e?"垫付结清":6==e||"CLOSED"==e?"正常结清":""},_loanStatus:function(e){return"string"!=typeof e&&(e=parseInt(e,10)),0===e||"OPEN"==e?"招标中":1==e||"READY"==e?"已满标":2==e||"FAILED"==e?"已流标":3==e||"IN_PROGRESS"==e?"还款中":4==e||"OVER_DUE"==e?"逾期":5==e||"BAD_DEBT"==e?"坏账":6==e||"CLOSED"==e?"已还清":7==e||"FIRST_APPLY"==e?"申请中":8==e||"FIRST_READY"==e?"已满标":9==e||"PRE_SALES"==e?"预售中":11==e||"FANGBIAO_PROCESSING"==e?"放款中":12==e||"LIUBIAO_PROCESSING"==e?"流标中":""},_fundStatus:function(e,t){return"string"!=typeof e&&(e=parseInt(e,10)),0==e&&1==t?"申购中":0==e&&2==t?"赎回中":0==e&&4==t?"认购中":1==e&&1==t?"申购中":1==e&&4==t?"认购中":2==e?"赎回中":3==e&&1==t?"申购成功":4==e&&1==t?"申购失败":3==e&&2==t?"赎回成功":4==e&&2==t?"赎回失败":3==e&&4==t?"认购成功":4==e&&4==t?"认购失败":""},_planStatus:function(e,t,a,n,r){return e&&"true"==e?"申请期":"OLD"!=t?"true"==r?"收益中（"+n+"天）":"收益中（"+n+"天）":"REDEMPTION_PERIOD"==a?"开放期":"REDEMPTION_PERIOD"==a?"已结束":"收益中（"+n+"天）"},_returnStatus:function(e){return 0===e||"REPAID"==e?"已收":1==e||"UNREPAID"==e?"待收":2==e||"OVER_DUE"==e?"逾期":""},_loanType:function(e){return"XYRZ"==e?"信用认证标":"SDRZ"==e?"实地认证标":"JGDB"==e?"机构担保标":"ZNLC"==e?"智能理财标":""},_jobType:function(e){return"工薪阶层"==e?{name:"工薪阶层",anchor:"prod-work"}:"私营企业主"==e?{name:"私营企业主",anchor:"prod-biz"}:"网商"==e||"网络商家"==e?{name:"网商",anchor:"prod-ecomm"}:null},news:function(e){return{title:e.title,content:e.description,date:this._getDateTime(e.time,"date"),noticeId:e.noticeId}},notices:function(e){return{title:e.title,content:e.description,date:this._getDateTime(e.time,"date"),noticeId:e.noticeId}},loan:function(e,t){var a=parseInt(100*this._bankersRound(e.finishedRatio/100),10);100==a&&e.finishedRatio<100&&e.finishedRatio>99&&(a=99);var n={title:e.title,loanType:e.displayLoanType,loanTypeText:this._loanType(e.displayLoanType),creditLevel:e.borrowerLevel,investor:e.nickName,interest:this._fixedFloat2(e.interest),amount:this._commaFloat(e.amount),term:e.months,progress:a,link:this.URL.loanDetails+e.loanId,status:e.status,itemStyle:t%2===0?"":"dark"};return"OPEN"==n.status&&(n.buttonLink=this.URL.loanDetails+e.loanId),n},loansTransfer:function(e,t){return{title:e.title,loanType:e.displayLoanType,loanTypeText:this._loanType(e.displayLoanType),creditLevel:e.borrowerLevel,interest:this._fixedFloat2(e.interest),link:this.URL.loanTransferDetails+e.id,hasTransfered:"true"==e.hasTransfered?!0:!1,term:e.leftPhaseCount,cost:this._fixedFloat2(1!=e.minInvestShares?e.minInvestShares*e.pricePerShare:e.pricePerShare),share:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,discount:e.discountRatio<=1?100*e.discountRatio:e.discountRatio,price:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.minInvestShares:e.resultPice),itemStyle:t%2===0?"":"dark"}},loanInvestmentRecord:function(e,t){return{id:t+1,investorShort:e.userNickName.length<=6?e.userNickName:e.userNickName.substring(0,6)+"...",investor:e.userNickName,mobileUsed:"MOBILE"===e.tradeMethod,isPlan:"FINANCEPLAN_BID"==e.lenderType,isAutoInvest:"AUTOINVESTPLAN_BID"==e.lenderType,autoInvestId:e.financePlanId,financeold:"OLD"==e.financeCategory,financeU:"OLD"!=e.financeCategory,financeCategoryStr:e.financeCategory,isAuto:"AUTO_BID"==e.lenderType,planId:e.financePlanId,userId:e.userId,planLink:this.URL.planDetails+e.financePlanId,amount:this._fixedFloat2(e.amount),time:this._getDateTime(e.lendTime),itemStyle:t%2===0?"":"dark"}},loanLenderRecord:function(e,t){return{id:t+1,investorShort:e.nickName.length<=6?e.nickName:e.nickName.substring(0,6)+"...",investor:e.nickName,userId:e.userId,isPlan:null!==e.financePlanId&&"0"==e.autoInvestPlanId,financeold:"OLD"==e.financePlanCategory,financeU:"OLD"!=e.financePlanCategory,isAutoInvest:"0"!=e.autoInvestPlanId,autoInvestId:e.financePlanId,financeCategoryStr:e.financePlanCategory,planId:e.financePlanId,planLink:this.URL.planDetails+e.financePlanId,amount:this._fixedFloat2(e.leftAmount),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,itemStyle:t%2===0?"":"dark"}},loanTransferRecord:function(e,t){return{buyerShort:e.toUserId.length<=4?e.toUserId:e.toUserId.substring(0,4)+"...",buyer:e.toUserId,buyerId:e.toNickName,toPlanId:e.financePlanId,toisPlan:null!=e.financePlanId&&"AUTO_INVEST_PLAN"!=e.toFinanceCategory,fromisPlan:null!=e.fromFinancePlanId&&"AUTO_INVEST_PLAN"!=e.fromFinanceCategory,toPlanLink:this.URL.planDetails+e.financePlanId,sellerShort:e.fromUserId.length<=4?e.fromUserId:e.fromUserId.substring(0,4)+"...",seller:e.fromUserId,sellerId:e.fromNickName,fromPlanId:e.fromFinancePlanId,fromPlanLink:this.URL.planDetails+e.fromFinancePlanId,amount:e.price,shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,fromfinanceold:"OLD"==e.fromFinanceCategory,fromfinanceU:"OLD"!=e.fromFinanceCategory,fromfinanceCategoryStr:e.fromFinanceCategory,fromautoInvest:"AUTO_INVEST_PLAN"==e.fromFinanceCategory,tofinanceold:"OLD"==e.toFinanceCategory,tofinanceU:"OLD"!=e.toFinanceCategory,tofinanceCategoryStr:e.toFinanceCategory,toautoInvest:"AUTO_INVEST_PLAN"==e.toFinanceCategory,time:this._getDateTime(e.createTime),itemStyle:t%2===0?"":"dark"}},loanRepaymentRecord:function(e,t){return{repaidAmount:this._fixedFloat2(e.repaidAmount),unrepaidAmount:this._fixedFloat2(e.unRepaidAmount),repaidFee:this._fixedFloat2(e.repaidFee),unrepaidFee:this._fixedFloat2(e.unRepaidFee),allFee:this._fixedFloat2(e.repaidFee+e.unRepaidFee),status:e.repayType,date:""===e.repayTime?"--":this._getDateTime(e.repayTime,"date"),actualRepaydate:this._getDateTime(e.actualRepayTime,"date"),itemStyle:t%2===0?"":"dark"}},loanCollectionRecord:function(e,t){return{contact:e.contact,contactShort:e.contact.length<=6?e.contact:e.contact.substring(0,6)+"...",description:e.description,date:this._getDateTime(e.createTime,"date"),itemStyle:t%2===0?"":"dark"}},loanComment:function(e){var t=[],a=this;return e.repliedComments&&e.repliedComments.length&&n.each(e.repliedComments,function(e,n){n.commentTime&&(n.commentTime=a._getDateTime(n.commentTime)),n.avatar=null===n.avatar||""===n.avatar?n.gender&&1===n.gender?"/static/img/account/default-avatar-girl-56.png":"/static/img/account/default-avatar-56.png":n.avatar,t.push(n)}),{id:e.commentId,userName:e.displayName,userLink:this.URL.userHome+e.byUserId,postTime:this._getDateTime(e.commentTime),content:e.content,avatar:null===e.avatar||""===e.avatar?e.gender&&1===e.gender?"/static/img/account/default-avatar-girl-56.png":"/static/img/account/default-avatar-56.png":e.avatar,byUserId:e.byUserId,commentId:e.commentId,repliedComments:t}},plan:function(e,t){var a=this.URL.planDetails+e.id,n="",r=0,s=0;switch(e.status){case"0":n="等待预定",r=1,s=1;break;case"1":n="预定",r=1;break;case"2":n="预定满额";break;case"3":n="等待加入",s=1,r=1;break;case"4":n="立即加入",r=1;break;case"5":n="已满额";break;case"6":n="<span class='color-orange-text'>收益中</span>";break;case"7":n="开放期";break;case"8":n="已退出";break;case"-1":n="状态错误"}return{name:e.name,amount:this._commaInteger(e.amount),headCount:e.subPointCount,averageBidCount:e.averageBidCount,fundsUseRate:this._fixedFloat2(e.fundsUseRate),averageBidInterest:this._fixedFloat2(e.averageBidInterest),earnInterest:this._commaFloat(this._fixedFloat2(e.earnInterest<0?0:e.earnInterest)),createDate:e.createTime,expectedYearRate:e.expectedYearRate,itemStyle:t%2===0?"":"dark",statusinfo:n,status:e.status,alink:r,blink:s,link:a}},autoinvestPlan:function(e,t){var a=this.URL.autoinvestDeatils+e.id,n="";switch(e.status){case"0":n="等待加入";break;case"1":n="<a class='button button-list ui-button-orange' href='"+a+"'>立即加入</a>";break;case"2":n="<span class='color-orange-text'>收益中</span>";break;case"3":n="已退出";break;case"4":n="已退出";break;case"-1":n="状态错误"}return{name:e.name,amount:this._commaInteger(e.amount),subpointCountActual:e.subpointCountActual,expectedYearRate:this._commaFloat(e.expectedYearRate),earnInterest:this._commaFloat(e.earnInterest),itemStyle:t%2===0?"":"dark",statusinfo:n,link:a}},planReserveRecord:function(e,t){null!==e.ucodeId&&e.nickName.length>8&&(e.nickName=e.nickName.substr(0,8)+"...");var a=t%2===0?"":"dark",n=!1,r=!1,s=!1;return e.ucodeId?(a+=" buy-from-ucode",n=!0):"MOBILE"===e.tradeMethod?(a+=" buy-from-mobile",r=!0):"PC"===e.tradeMethod&&(a+=" buy-from-pc",s=!0),{id:t+1,userId:e.userId,investor:e.nickName,ucodeUsed:n,mobileUsed:r,webUsed:s,planAmount:this._commaInteger(e.planAmount),planAmountNotComma:e.planAmount,reserveAmount:e.reserveAmount,date:this._getDateTime(e.createTime),status:e.reserveType,itemStyle:a}},planJoinedRecord:function(e,t){var a=t%2===0?"":"dark",n=!1,r=!1,s=!1;return e.ucodeId?(a+=" buy-from-ucode",n=!0):"MOBILE"===e.tradeMethod?(a+=" buy-from-mobile",r=!0):"PC"===e.tradeMethod&&(a+=" buy-from-pc",s=!0),{id:t+1,userId:e.userId,investor:e.nickName,ucodeUsed:n,mobileUsed:r,webUsed:s,amount:this._commaInteger(e.amount),date:this._getDateTime(e.createTime),itemStyle:a}},autoinvestJoinedRecord:function(e,t){return{id:t+1,userId:e.userId,investor:e.nickName,MobileOrPC:"PC"===e.tradeMethod?"PC":"PHONE",mobileUsed:"PC"===e.tradeMethod?!1:!0,webUsed:"PC"===e.tradeMethod?!0:!1,amount:this._commaInteger(e.amount),finalAmount:this._commaInteger(e.finalAmount),date:this._getDateTime(e.createTime),itemStyle:t%2===0?"":"dark"}},autoinvestPlanBidLoan:function(e,t){return ret={loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),name:e.title,amount:this._fixedFloat2(e.lendAmount),shares:e.lendShare,interest:this._fixedFloat2(e.interest),status:this._loanStatus(e.statusOrdinal),hasContract:!0,date:this._getDateTime(e.lendTime,"date"),itemStyle:t%2===0?"":"dark"},("招标中"==ret.status||"已满标"==ret.status||"已流标"==ret.status)&&(ret.hasContract=!1),e.lendShare>0&&e.transferShare>0?(ret.status="转让中",ret.transferring=!0):0===e.lendShare&&(ret.status="转让完成",ret.transferring=!0),ret},userTransaction:function(e,t){var a=e.income?this._fixedFloat2(e.income):void 0,n=e.pay?this._fixedFloat2(e.pay):void 0;return"服务费"==e.operation&&void 0===n&&(n="0.00"),{date:this._getDateTime(e.time,"date"),time:this._getDatehour(e.time,"date"),type:e.operation,credit:a,debit:n,balance:this._fixedFloat2(e.banlance),note:e.notes,loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,itemStyle:t%2===0?"":"dark"}},fundList:function(e){return{rateGrowth:e.rateGrowth?e.rateGrowth+"%":" --",rateMonth:e.rateMonth?e.rateMonth+"%":" --",rateSeason:e.rateSeason?e.rateSeason+"%":" --",rateHalfYear:e.rateHalfYear?e.rateHalfYear+"%":" --",rateYear:e.rateYear?e.rateYear+"%":" --",thisYear:e.thisYear?e.thisYear+"%":" --",remark:e.remark,fundCode:e.fundCode,abbrev:e.abbrev,fundType:e.fundType,fee:e.fee?e.fee:"--",rate7day:e.rate7day?e.rate7day:"--",profit10k:e.profit10k?e.profit10k:"--",minSubscript:e.minSubscript?e.minSubscript:"--",nav:e.nav?e.nav:"--",navColor:e.nav>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color",is_safe:1==e.is_safe?!0:!1,sbPeriod06:0==e.fundStatus||6==e.fundStatus?!0:!1,sbPeriod1:1==e.fundStatus?!0:!1,sbPeriod458:4==e.fundStatus||5==e.fundStatus||8==e.fundStatus?!0:!1,sbPeriod9:9==e.fundStatus?!0:!1}},fundBreakEven:function(e){return{last:e.last>0?"剩余"+e.last+"天":"",isExpected:null!=e.expected?!0:!1,isNoteExpected:null!=e.expected?!1:!0,expected:e.expected,safeMoneyMonth:e.safeMoneyYear?12*e.safeMoneyYear:"--",endBuyDate:this._getDate4Long(e.endBuy),isSafe:5==e.fundType?!0:!1,isTop:1==e.isTop?!0:!1,fundType:e.fundType,fundCode:e.fundCode,abbrev:e.abbrev,notSbPeriod4:4==e.fundStatus?!1:!0,sbPeriod06:0==e.fundStatus||6==e.fundStatus?!0:!1,sbPeriod1:1==e.fundStatus?!0:!1,sbPeriod458:4==e.fundStatus||5==e.fundStatus||8==e.fundStatus?!0:!1,sbPeriod9:9==e.fundStatus?!0:!1,rateGrowth:e.rateGrowth?e.rateGrowth+"%":"--",rateMonth:e.rateMonth?e.rateMonth+"%":"--",rateSeason:e.rateSeason?e.rateSeason+"%":"--",rateHalfYear:e.rateHalfYear?e.rateHalfYear+"%":"--",rateYear:e.rateYear?e.rateYear+"%":"--",thisYear:e.thisYear?e.thisYear+"%":"--",remark:e.remark,fee:e.fee?e.fee:"--",rate7day:e.rate7day?e.rate7day:"--",profit10k:e.profit10k?e.profit10k:"--",minSubscript:e.minSubscript?e.minSubscript:"--",nav:e.nav?e.nav:"--",navColor:e.nav>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color"}},fundRankList:function(e,t){return{rateGrowth:e.rateGrowth,rateMonth:e.rateMonth,rateSeason:e.rateSeason,rateHalfYear:e.rateHalfYear,rateYear:e.rateYear,thisYear:e.thisYear,remark:e.remark,fundCode:e.fundCode,abbrev:e.abbrev,fundType:e.fundType,fee:e.fee,rate7day:e.rate7day,profit10k:e.profit10k,minSubscript:e.minSubscript,nav:e.nav,navColor:e.nav>0?"plus-color":"mius-color",rateHalfYearColor:e.rateHalfYear>0?"plus-color":"mius-color",rateYearColor:e.rateYear>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color",index:t+1,discount:e.discount,fundTypeName:r.getFundTypeString?r.getFundTypeString(e.fundType).typeString:"",islast:2==t?!0:!1}},fundtopList:function(e,t){var a=t>2?void 0:!0,n=3==t?!0:void 0;return{top:a,more:n,rateGrowth:e.rateGrowth,rateMonth:e.rateMonth,rateSeason:e.rateSeason,rateHalfYear:e.rateHalfYear,rateYear:e.rateYear,thisYear:e.thisYear,remark:e.remark,fundCode:e.fundCode,abbrev:e.abbrev,fundType:e.fundType,fee:e.fee,rate7day:e.rate7day,profit10k:e.profit10k,minSubscript:e.minSubscript,nav:e.nav,navColor:e.nav>0?"plus-color":"mius-color",profit10kColor:e.profit10k>0?"plus-color":"mius-color"}},userFundTransaction:function(e,t){var a=2===Number(e.opType)?"shuhui":void 0,n=2==Number(e.opType)&&0==Number(e.status)||2==Number(e.status)?"reding":void 0,r=2==Number(e.opType)&&3==Number(e.status)?"redsuccess":void 0,s=2==Number(e.opType)&&4==Number(e.status)?"redfailure":void 0;return{issub:a,reding:n,redsuccess:r,redfailure:s,date:this._getDateTime(e.ctime,"date"),time:this._getDatehour(e.ctime,"date"),type:e.opType,name:e.fundName,status:e.status,reckonArriveTime:this._getDateTime(e.reckonArriveTime,"date"),fundstatus:this._fundStatus(e.status,e.opType),subamount:this._fixedFloat2(e.sum),redeamount:Number(e.shares),itemStyle:t%2===0?"":"dark",fundChannel:e.fundChannel?"YM"==e.fundChannel?"珠海盈米财富管理有限公司":"北京钱景财富投资管理有限公司":"--"}},userRepayingRecord:function(e,t){return ret={loanId:e.id,loanLink:this.URL.loanDetails+e.id,title:e.name,amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest_year),termsLeft:e.left,termsInTotal:e.months,nextDueDate:e.nextDate,toRepayAmount:this._fixedFloat2(e.repaid),status:e.status,notOutsourceClose:"已结标"!=e.status,itemStyle:t%2===0?"":"dark",toRepayPrincipal:this._fixedFloat2(e.principal),interestForTerm:this._fixedFloat2(e.interest),mgmtFee:this._fixedFloat2(e.mgmtFee),overdueFee:this._fixedFloat2(e.overDueAmount),ratio:e.ratio,toRepayInTotal:this._fixedFloat2(e.total),feeName:e.feeRateName,feeValue:this._fixedFloat2(e.feeRateValue)},ret.repayAllDisabled="",("逾期"==ret.status||"坏账"==ret.status)&&(ret.repayAllDisabled="disabled"),ret},userRepaidRecord:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,title:e.name,amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest),termsInTotal:e.months,repaidInTotal:this._fixedFloat2(e.total),endDate:e.enddate,itemStyle:t%2===0?"":"dark"}},userLoanRepaymentRecord:function(e,t){var a="";return a="REPAID"==e.status?"IN_REPAY"==e.repaidType?"提前还款":"COMMON_REPAY"==e.repaidType?"正常还款":"OVER_DUE_REPAY"==e.repaidType?"逾期还款":"BAD_REPAY"==e.repaidType?"坏账还款":"":"UNREPAID"==e.status?"待还":"逾期",{loanId:e.id,repaymentDate:e.date,toRepayAmount:this._fixedFloat2(e.repayAmount),toRepayPrincipal:this._fixedFloat2(e.principal),toRepayInterest:this._fixedFloat2(e.interest),mgmtFee:this._fixedFloat2(e.mgmt),overdueFee:this._fixedFloat2(e.fee?e.fee:0),status:a,shouldRepay:"REPAID"!=e.status,termId:t+1,itemStyle:t%2===0?"":"dark"}},userLoanApplicationRecord:function(e,t){return ret={loanId:e.id,loanLink:this.URL.loanDetails+e.id,title:e.name,amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest),termsInTotal:e.months,status:e.status,itemStyle:t%2===0?"":"dark"},("首次申请"==ret.status||"草稿"==ret.status)&&(ret.status="申请中",ret.loanLink=this.URL.loanApplication),ret},userTransferringLoan:function(e,t){return e.loanTranfsferVo=e.loanTranfsferVo||{},{transferId:e.id,transferLink:this.URL.loanTransferDetails+e.id,loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.amount),termsLeft:e.leftPhaseCount,termsInTotal:e.months,interest:this._fixedFloat2(e.interest),value:this._fixedFloat2(1!=e.minInvestShares?e.totalPricePershare*e.minInvestShares:e.totalPricePershare),price:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.minInvestShares:e.resultPice),discount:this._fixedFloat2(e.discountRatio<=1?100*e.discountRatio:e.discountRatio),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,sharesInTotal:1!=e.minInvestShares?e.initialShare/e.minInvestShares:e.initialShare,investShares:e.initialShare,fee:this._fixedFloat2(e.loanTranfsferVo.fee||0),income:this._fixedFloat2(e.loanTranfsferVo.income||0),itemStyle:t%2===0?"":"dark"}},userTransferableLoan:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),nextDueDate:this._getDateTime(e.nextRepayDay,"date"),amount:this._fixedFloat2(e.amount),investShares:1!=e.minInvestShares?e.initialShare/e.minInvestShares:e.initialShare,termsLeft:e.leftPhaseCount,termsInTotal:e.months,interest:this._fixedFloat2(e.interest),repayments:this._fixedFloat2(e.interestAndCorpus*e.share),value:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.share*e.minInvestShares:e.resultPice*e.share),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,lenderId:e.loanVo.lenderId,interestGained:this._fixedFloat2(e.loanVo.recoveryAmount),valuePerShare:this._fixedFloat2(1!=e.minInvestShares?e.resultPice*e.minInvestShares:e.resultPice),repaymentsPerShare:this._fixedFloat2(1!=e.minInvestShares?e.interestAndCorpus*e.minInvestShares:e.interestAndCorpus),interestPerShare:this._fixedFloat2(1!=e.minInvestShares?e.loanVo.pricePerShare*e.minInvestShares:e.loanVo.pricePerShare),principalPerShare:this._fixedFloat2(e.loanVo.principalPerShareNow),fee:e.fee,itemStyle:t%2===0?"":"dark"}},userTransferredInLoan:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),termsLeft:e.leftPhaseCount,termsInTotal:"",interest:this._fixedFloat2(e.interest),principal:this._fixedFloat2(e.inCorpus),value:this._fixedFloat2(1!=e.minInvestShares?e.inPrice*e.minInvestShares:e.inPrice),shares:1!=e.minInvestShares?e.inShare/e.minInvestShares:e.inShare,amount:this._fixedFloat2(1!=e.minInvestShares?e.income*e.minInvestShares:e.income),pnl:this._fixedFloat2(1!=e.minInvestShares?e.profit*e.minInvestShares:e.profit),date:this._getDateTime(e.createTime,"date"),itemStyle:t%2===0?"":"dark",loantransferlogId:e.loantransferlogId}},userTransferredOutLoan:function(e,t){return{loanId:e.id,loanLink:this.URL.loanDetails+e.id,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),transferId:e.tranfsferId,shares:1!=e.minInvestShares?e.outShare/e.minInvestShares:e.outShare,value:this._fixedFloat2(1!=e.minInvestShares?e.outSumPrice*e.minInvestShares:e.outSumPrice),price:this._fixedFloat2(1!=e.minInvestShares?e.outPrice*e.minInvestShares:e.outPrice),fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),pnl:this._fixedFloat2(e.profit),itemStyle:t%2===0?"":"dark"}},userTransferredOutRecord:function(e,t){return{user:e.toNickName.length>6?e.toNickName.substr(0,6)+"...":e.toNickName,userfullname:e.toNickName,isPlan:"FINANCEPLAN_BID"==e.lenderType,isAutoinvest:"AUTOINVESTPLAN_BID"==e.lenderType,financeold:"OLD"==e.toFinanceCategory,financeU:"OLD"!=e.toFinanceCategory,financeCategoryStr:e.toFinanceCategory,planId:e.financePlanId,loanTypeName:this._loanType(e.displayLoanType),transferId:e.logId,planLink:this.URL.planDetails+e.financePlanId,userLink:this.URL.userHome+e.buyerId,value:this._fixedFloat2(e.pricePerShare),price:this._fixedFloat2(e.price),shares:e.share,fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),pnl:this._fixedFloat2(e.profit),date:this._getDateTime(e.tranfsferDate,"date"),itemStyle:t%2===0?"":"dark"}
},userTransferredInRecord:function(e,t){return{leftPhaseCount:e.leftPhaseCount,planId:e.logId,value:this._fixedFloat2(e.pricePerShare),shares:e.share,fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),amount:this._fixedFloat2(e.pricePerShare*e.share),pnl:this._fixedFloat2(e.profit),date:this._getDateTime(e.tranfsferDate,"date"),itemStyle:t%2===0?"":"dark"}},userTransferredLogJsonRecord:function(e,t){return{user:e.toNickName.length>10?e.toNickName.substr(0,10)+"...":e.toNickName,userfullname:e.toNickName,isPlan:"FINANCEPLAN_BID"==e.lenderType,isAutoinvest:"AUTOINVESTPLAN_BID"==e.lenderType,financeold:"OLD"==e.toFinanceCategory,financeU:"OLD"!=e.toFinanceCategory,financeCategoryStr:e.toFinanceCategory,planId:e.financePlanId,loanTypeName:this._loanType(e.displayLoanType),transferId:e.logId,planLink:this.URL.planDetails+e.financePlanId,userLink:this.URL.userHome+e.buyerId,value:this._fixedFloat2(e.pricePerShare),price:this._fixedFloat2(e.price),shares:e.share,fee:this._fixedFloat2(e.fee),income:this._fixedFloat2(e.income),pnl:this._fixedFloat2(e.profit),date:this._getDateTime(e.tranfsferDate,"date"),itemStyle:t%2===0?"":"dark"}},userHoldingPlan:function(e,t){return ret={name:e.name,link:this.URL.userPlan+e.id+"&subPointId="+e.financeSubPointId,subPointId:e.financeSubPointId,amount:this._fixedFloat2(e.finalAmount),formatAmount:this._commaFloat(this._fixedFloat2(e.finalAmount)),profit:this._commaFloat(this._fixedFloat2(e.earnAmount)),interest:this._fixedFloat2(e.aveLoanRate),loans:e.loanBidCount,available:this._fixedFloat2(e.availablePrice),fee:this._fixedFloat2(e.serviceFee),joinFee:this._fixedFloat2(e.joinFee),status:this._planStatus(e.isPurcharge,e.category,e.status,e.endLockingTime,e.canRollOver),itemStyle:t%2===0?"":"dark"},"PURCHASE_END"==e.status&&(ret.leftLockingDays=e.endLockingTime),"REDEMPTION_PERIOD"==e.status&&(ret.hasQuitButton=!0),"true"==e.canRollOver&&(ret.hasRollOverButton=!0),"true"==e.rollOverAlready&&(ret.rollOverAlready=!0),"REDEMPTION_PERIOD"!=e.status&&"true"!=e.canRollOver&&"true"!=e.rollOverAlready&&(ret.forbidRollOverButton=!0),ret},userExitingPlan:function(e,t){return ret={name:e.name,link:this.URL.userPlan+e.id+"&subPointId="+e.financeSubPointId,amount:this._commaFloat(e.finalAmount),withdrawnInterest:this._commaFloat(e.totalCashDrawInterest),transferredAmount:this._commaFloat(e.redProgress),availableAmount:this._commaFloat(e.availablePrice),remainedValue:this._fixedFloat2(e.remainingAmount),transferringCount:parseInt(e.transferringLoanCount,10),disabledCount:parseInt(e.disabledLoanCount,10),quitBeforeAmount:this._commaFloat(this._fixedFloat2((100*this._fixedFloat2(e.redProgress)+100*this._fixedFloat2(e.availablePrice))/100)),toBeTransferredAmount:this._commaFloat((100*this._fixedFloat2(e.remainingAmount)+100*parseInt(e.disabledLoanCount,10))/100),itemStyle:t%2===0?"":"dark"}},userExitedPlan:function(e,t){return ret={name:e.name,link:this.URL.userPlan+e.id+"&subPointId="+e.financeSubPointId,amount:this._commaFloat(e.finalAmount),profit:this._commaFloat(e.earnAmount),interest:this._fixedFloat2(e.aveLoanRate),loans:e.loanBidCount,fee:this._fixedFloat2(e.serviceFee),joinFee:this._fixedFloat2(e.joinFee),quitFee:this._fixedFloat2(e.quitFee),exitWay:e.exitWay,actualIncome:this._fixedFloat2(parseFloat(e.redProgress)+parseFloat(e.totalCashDrawInterest)),finishedDate:this._getDateTime(e.redFinishTime,"date"),itemStyle:t%2===0?"":"dark"},ret.interest=this._fixedFloat2(100*(this._fixedFloat2(e.earnAmount)/this._fixedFloat2(e.finalAmount))),ret},userReservePlan:function(e,t){return ret={planId:e.id,name:e.name,amount:this._commaFloat(e.planAmount),depositAmount:this._commaFloat(e.depositAmount),unRepayAmount:this._commaFloat(e.unRepayAmount),endPayMentTime:this._getDateTime(e.endPayMentTime),rsvStatus:"UNPAID"==e.rsvStatus?"等待支付":"支付超时",isNotOverDue:"OVERDUE"==e.rsvStatus?!1:!0,itemStyle:t%2===0?"":"dark"}},userPlanRecord:function(e,t){return ret={loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),name:e.title,amount:this._fixedFloat2(e.lendAmount),shares:e.lendShare,interest:this._fixedFloat2(e.interest),status:this._loanStatus(e.statusOrdinal),hasContract:!0,date:this._getDateTime(e.lendTime,"date"),itemStyle:t%2===0?"":"dark"},("招标中"==ret.status||"已满标"==ret.status||"已流标"==ret.status)&&(ret.hasContract=!1),e.lendShare>0&&e.transferShare>0?(ret.status="转让中",ret.transferring=!0):0===e.lendShare&&(ret.status="转让完成",ret.transferring=!0),ret},userLoansRepaying:function(e,t){return ret={loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.share*e.amountPershare),shares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,termsLeft:e.leftPhases,termsInTotal:e.mouths,interest:this._fixedFloat2(e.interest),toRepay:this._fixedFloat2(e.recoveryAmount),xxhbMonth:e.xxhbMonth,debxMonth:e.debxMonth,xxhbMonthlyRepay:this._fixedFloat2(e.xxhbMonthlyRepay),debxMonthlyRepay:this._fixedFloat2(e.debxMonthlyRepay),monthlyRepay:this._fixedFloat2(e.monthlyRepay),status:this._loanStatus(e.status),repaidInterest:this._fixedFloat2(e.earnInterest),nextDueDate:e.nextRepayDate?this._getDateTime(e.nextRepayDate,"date"):"-",toRepayPrincipal:this._fixedFloat2(e.recoveryPrincipal),toRepayInterest:this._fixedFloat2(e.recoveryInterest),holdAmount:e.share,lenderId:e.loanLenderId,availableShares:1!=e.minInvestShares?e.share/e.minInvestShares:e.share,interestGained:this._fixedFloat2(e.recoveryAmount),valuePerShare:this._fixedFloat2(1!=e.minInvestShares?e.currentValuePerShare*e.minInvestShares:e.currentValuePerShare),repaymentsPerShare:this._fixedFloat2(1!=e.minInvestShares?e.recoveryAmountPerShare*e.minInvestShares:e.recoveryAmountPerShare),interestPerShare:this._fixedFloat2(1!=e.minInvestShares?e.loanVo.pricePerShare*e.minInvestShares:e.loanVo.pricePerShare),principalPerShare:this._fixedFloat2(e.loanVo.principalPerShareNow),pricePerShare:e.loanVo.pricePerShare?e.loanVo.pricePerShare+"元/份":"",fee:e.fee||.01,indirect:e.indirect,showlender:"OVER_DUE"===e.status||"BAD_DEBT"===e.status?!0:!1,itemStyle:t%2===0?"":"dark"},ret.status=e.transferShare>0?"转让中":ret.status,ret.operationType="TRANSFER_DISABLED","0"==e.isTransferable&&(ret.operationType="TRANSFER"),"逾期"==ret.status&&(ret.statusStyle="rrdcolor-red-text"),ret.overdue="逾期"==ret.status?!0:!1,ret.isCheckbox="0"==e.isTransferable?!0:!1,ret.indirect&&!ret.showlender&&(ret.onlyIndirect=!0),!ret.indirect&&ret.showlender&&(ret.onlyShowlender=!0),ret.indirect&&ret.showlender&&(ret.indirectShowlender=!0),ret.indirect||ret.showlender||(ret.noShowlender=!0),ret},userLoansRepaid:function(e,t){var a;return a="transfer"==e.finishType?"债权转让":"in_repay"==e.finishType?"提前结清 ":this._loanRepaidStatus(e.finishType),{loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.amount),interest:this._fixedFloat2(e.interest),repaid:e.repayMoney,profit:e.earnMoney,clearDate:this._getDateTime(e.finishDate,"date"),clearType:a,isTransfer:"transfer"==e.finishType?!0:!1,itemStyle:t%2===0?"":"dark"}},userLoansInProgress:function(e,t){var a=parseInt(100*this._bankersRound(e.finishedRatio/100),10);return{loanId:e.loanId,loanLink:this.URL.loanDetails+e.loanId,loanType:e.displayLoanType,loanTypeName:this._loanType(e.displayLoanType),amount:this._fixedFloat2(e.amount),shares:parseInt(e.nowShare,10),interest:this._fixedFloat2(e.interest),terms:e.months,creditLevel:e.creditLevel,timeLeft:100==a?"--":e.remainderTime,progress:a,itemStyle:t%2===0?"":"dark"}},userLoansReturnRecord:function(e,t){return{loanId:e.loanId,loanType:e.type,loanLink:this.URL.loanDetails+e.loanId,date:"null"==e.date?"--":this._getDatemonth(e.date,"date"),note:e.note,isFirst:e.first,month:"null"==e.date?"--":this._getDateyear(e.date,"date"),itemStyle:t%2===0?"":"dark"}},userInfo:function(e){return{amount:this._commaInteger(e.amount),interest:this._fixedFloat2(e.interest),loanId:e.loanId,months:e.months,date:"null"==e.openTime?"--":this._getDateTime(e.openTime,"date"),overDued:e.overDued===!1?"未发生过逾期":"曾有过逾期记录",title:e.title,name:e.productAliasName,type:this._getProductTypeByName(e.productAliasName),status:e.status}},unuseCoupon:function(e,t){ret="UCODE"==e.couponTypeEng?{ucode:"true",className:"ucode-coupon",couponId:e.couponId,minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),usedurl:function(){return"/account/coupon!useUcodeReserve.action?fromMyCoupons=fromCoupon&couponId="+e.couponId},itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:"VOUCHER"==e.couponTypeEng?{cash:"true",className:"cash-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:"DISCOUNT"==e.couponTypeEng?{redPacket:"true",className:"redPacket-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),discountRate:e.discountRate,usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:{free:"true",className:"free-coupon",couponId:e.couponId,validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""};var a=Math.ceil(e.__listLength/4),n=Math.ceil((t+1)/4);return n===a&&(ret.className+=" coupon-row-last"),ret},usedCoupon:function(e,t){ret="UCODE"==e.couponTypeEng?{ucode:"true",className:"ucode-coupon",couponId:e.couponId,investAmount:e.investAmount,consumeMemo:e.consumeMemo,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"VOUCHER"==e.couponTypeEng?{cash:"true",className:"cash-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),investAmount:e.investAmount,consumeMemo:e.consumeMemo,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"DISCOUNT"==e.couponTypeEng?{redPacket:"true",className:"redPacket-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),investAmount:e.investAmount,consumeMemo:e.consumeMemo,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:{free:"true",className:"free-coupon",couponId:e.couponId,investAmount:e.investAmount,consumeTime:this._getDateTime(e.consumeTime,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""};var a=Math.ceil(e.__listLength/4),n=Math.ceil((t+1)/4);return n===a&&(ret.className+=" coupon-row-last"),ret},expiredCoupon:function(e,t){ret="UCODE"==e.couponTypeEng?{ucode:"true",className:"ucode-coupon",couponId:e.couponId,minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"VOUCHER"==e.couponTypeEng?{cash:"true",className:"cash-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),minInvestAmount:parseInt(e.minInvestAmount,10),usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""}:"DISCOUNT"==e.couponTypeEng?{redPacket:"true",className:"redPacket-coupon",couponId:e.couponId,couponValue:parseInt(e.couponValue,10),discountRate:e.discountRate,usedBusinessCategoryList:function(){var t=[];t.push("限");for(var a=0;a<e.usedBusinessCategoryList.length;a++){var n="";a!=e.usedBusinessCategoryList.length-1&&(n="/"),t.push(e.usedBusinessCategoryList[a].name+n)}return t.push("使用"),t.join("")},validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":"",expireRemind:""==e.expireRemind?"":e.expireRemind,bookmarkClass:""==e.expireRemind?"fn-hide":""}:{free:"true",className:"free-coupon",couponId:e.couponId,validDateFrom:this._getDateTime(e.validDateFrom,"date").replace(/-/g,"/"),validDateEnd:this._getDateTime(e.validDateEnd,"date").replace(/-/g,"/"),itemStyle:t%4===3?"last":""};var a=Math.ceil(e.__listLength/4),n=Math.ceil((t+1)/4);return n===a&&(ret.className+=" coupon-row-last"),ret},userHoldingFund:function(e){return ret={profitYesterday:e.profit_yesterday,profit:e.profit,profit_date:e.profit_date?e.profit_date.substring(5,11):"",fundabbrev:e.fundabbrev,assets:e.assets,shares:e.shares,fundcode:e.fundcode,nav:e.nav,isSafe:"5"==e.fundType?!0:!1,isFundMoney:e.profit_10k?!0:!1,profit_10k:e.profit_10k?e.profit_10k:0,forbidSH:function(){return"QJ"==e.fundChannel?!1:0==e.fundStatus||5==e.fundStatus?!1:!0}(),forbidZJ:function(){return"QJ"==e.fundChannel?!0:0==e.fundStatus||1==e.fundStatus||6==e.fundStatus?!1:!0}(),fundChannel:e.fundChannel}},userFundSubscribing:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,sum:e.sum+"元",nav:4==e.fundType?"--":e.nav+"元",fundcode:e.fundcode,utime:e.utime,rate:4==e.fundType?e.rate7day+"%":"--",reckonConfirmTime:"0"==e.reckonConfirmTime?"--":e.reckonConfirmTime,isShowTips:"0"==e.reckonConfirmTime?!1:!0,fundcode:e.fundcode,itemStyle:t%2===0?"":"dark",oarnge:4==e.fundType?"":"color-orange-text",fundChannel:e.fundChannel,forbidZJ:function(){return"QJ"==e.fundChannel?!0:0==e.fundStatus||1==e.fundStatus||6==e.fundStatus?!1:!0}()}},userFundRedeeming:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,shares:e.shares,ctime:"0"==e.ctime?"--":this._getDateTime(e.ctime),fundcode:e.fundcode,card:e.card.slice(-4),reckonArriveTime:"0"==e.reckonArriveTime?"--":e.reckonArriveTime,itemStyle:t%2===0?"":"dark",fundChannel:e.fundChannel,forbidZJ:function(){return"QJ"==e.fundChannel?!0:0==e.fundStatus||1==e.fundStatus||6==e.fundStatus?!1:!0}()}},userFundCallOption:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,sum:e.sum+"元",nav:4==e.fundType?"--":e.nav+"元",fundcode:e.fundcode,utime:e.utime,reckonConfirmTime:"0"==e.reckonConfirmTime?"--":e.reckonConfirmTime,fundcode:e.fundcode,itemStyle:t%2===0?"":"dark",isGray:1==e.fundStatus||4==e.fundStatus?!1:!0,oarnge:4==e.fundType?"":"color-orange-text",fundChannel:e.fundChannel,forbidZJ:function(){return"QJ"==e.fundChannel?1==e.fundStatus||4==e.fundStatus?!1:!0:1==e.fundStatus?!1:!0}()}},userLoansRetired:function(e,t){return ret={fundName:e.fundName.length>8?e.fundName.substring(0,8).concat("..."):e.fundName,shares:e.shares,assets:e.assets,nav:e.nav,sum:e.sum,fundcode:e.fundcode,utime:"0"==e.utime?"--":this._getDateTime(e.utime),reckonArriveTime:"0"==e.reckonArriveTime?"--":e.reckonArriveTime,itemStyle:t%2===0?"":"dark",fundChannel:e.fundChannel}},_getProductTypeByName:function(e){var t;switch(e){case"信用认证标":t="XYRZ";break;case"机构担保标":t="JGDB";break;case"实地认证标":t="SDRZ";break;case"智能理财标":t="ZNLC"}return t},_itemName:function(e){var t=e.substring(3);return t=t.charAt(0).toLowerCase()+t.substring(1),t.match(/Plans$|plans$|Loans$|loans$|Records$|records$|Transactions$|transactions$|Comments$|comments$/)&&(t=t.substring(0,t.length-1)),t},_listName:function(e){var t=o[e];return t&&t._list?t._list:void 0},_list:function(e,t,a,r){var s=[],o=t[a];if(r=r||this._itemName(e),o)for(var i=o.length,u=0;u<o.length;u++){o[u].__listLength=i;var d=this[r](o[u],u);d.itemLast=u==o.length-1?"last":"",s.push(d)}var l=n.extend({},t);return l[a]=s,l.pageCount=l.totalPage,l},translate:function(e,t){var a,r=this,s=this.protocol,o=this._listName(e);if(o)return this._list(e,t,o);if(e==s.API.getCreditInfo){var i,u=t.creditInfo,d=t.creditPassedTime,l=t.loan,c=[];if(n.each(this.CREDITINFO_MAPPING,function(e,a){if(void 0!==u[a.key]&&"INVALID"!=u[a.key]&&"fieldAudit"!=a.key){var n="checked";"VALID"!=u[a.key]&&(n=null);var s=null;a.key in d&&(s=r._getDateTime(d[a.key],"date")),i={key:a.key,name:a.name,status:n,date:s,itemStyle:null},"ENTERPRISE"==t.borrowerCategory&&"身份认证"==i.name&&(i.name="公司认证");var o=r._jobType(l.jobType);"work"==a.key&&null!==o&&(i.note=o.name,i.itemStyle="two-line"),c.push(i)}}),"debx-zaxy"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/zaccn/index.jsp" target="_blank" title="深圳市中安信业创业投资有限公司">中安信业</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-zdsd"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/zdsd/index.jsp" target="_blank" title="深圳市证大速贷小额贷款股份有限公司">证大速贷</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-as"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/as/index.jsp" target="_blank" title="深圳安盛互联网金融服务有限公司">安盛</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-yx"==l.utmSource&&c.push({key:l.utmSource,name:"实地认证",note:'<a href="/event/youxin/index.jsp" target="_blank" title="友众信业商务顾问（北京）有限公司">友众信业</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-cf"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/cf/cf_intro.jsp" target="_blank" title="创富">创富</a>',itemStyle:"two-line",status:"checked",date:null}),"debx-projectx"==l.utmSource&&c.push({key:l.utmSource,name:"机构担保",note:'<a href="/event/as/index.jsp" target="_blank" title="深圳安盛互联网金融服务有限公司">安盛</a>',itemStyle:"two-line",status:"checked",date:null}),c.length>0){var m=c[c.length-1].itemStyle;m?m+=" last":m="last",c[c.length-1].itemStyle=m}return n.each(c,function(e,t){e%2===0&&(t.itemStyle2="dark")}),{creditInfo:c}}if(e==s.API.getCommentsOnLoan)return a=this._list(e,t,"loanComments","loanComment"),a.loanComments.length>0&&(a.loanComments[a.loanComments.length-1].last="last"),a;if(e==s.API.postCommentOnLoan)return{comment:this.loanComment(t.comment)};if(e==s.API.getPlanPerformance)return{performance:t.financePlanVos[0]};if(e==s.API.getUnreadMsgCount)return{count:parseInt(t.totalCount,10)};if(e==s.API.getUnreadNewTask)return{count:parseInt(t.hasNewTask,10)};if(e==s.API.getUserBankInfo)return{accounts:t.userBankVoList};if(e==s.API.getUserLoanRepaymentRecords){a=this._list(e,t,"data","userLoanRepaymentRecord");for(var p=!1,f=0;f<a.data.length;f++)p&&"待还"==a.data[f].status&&(a.data[f].shouldRepay=!1),p||"待还"!=a.data[f].status||(p=!0);return a}if(e==s.API.getExpectedAmountsForPlanExiting){var h=t.planInfoForExiting;return{expectedExitAmount:this._fixedFloat2(h.expectedExitAmount),expectedTotalIncome:this._fixedFloat2(h.expectedTotalIncome),subPointId:h.subPointId,planId:h.planId}}return t},userFundRecord:function(e,t){var a=2===Number(e.opType)?"shuhui":void 0,n=2==Number(e.opType)&&0==Number(e.status)||2==Number(e.status)?"reding":void 0,r=2==Number(e.opType)&&3==Number(e.status)?"redsuccess":void 0,s=2==Number(e.opType)&&4==Number(e.status)?"redfailure":void 0,o=t%2===0?"":"dark",i={issub:a,reding:n,redsuccess:r,redfailure:s,name:e.fundName,code:e.fundcode,type:e.opType,reckonArriveTime:this._getDateTime(e.reckonArriveTime,"date"),money:this._commaFloat(e.sum),fundChannel:"QJ"==e.fundChannel?"北京钱景财富投资管理有限公司":"珠海盈米财富管理有限公司"},u=this._getDateTime(e.utime),d=e.status+"";switch(d){case"3":o+=" fund-success";break;case"4":o+=" fund-fail";break;case"0":case"1":case"2":o+=" fund-process"}return i.statusStr=this._fundStatus(e.status,e.opType),i.itemStyle=o,i.timeStr=u,i.redeamount=Number(e.shares),i}}),u.prototype.newbeeLoan=u.prototype.plan,u.prototype.indexNewbeeLoan=u.prototype.loan;var d=function(){n.extend(this,{API:{},CONF:o,status:{XHR_ERROR:-1,OLD_RSP:-2},translator:new u(this)});var e=this;n.each(o,function(t){e.API[t]=t})};n.extend(d.prototype,{_request:function(e,t,a){var r,s,o=this,i=this.CONF[e],u=["timeout"];if(!i)throw"Protocol._request: API is not ready";r=n.extend({},i._params,t),s={url:i.url,data:r,type:i.type,cache:!1,dataType:i.dataType,error:function(e,t,n){a&&a(o.status.XHR_ERROR,t,n)},success:function(t){if(a){var n=void 0===t.status?o.OLD_RSP:t.status,r=void 0===t.message?"":t.message,s=void 0===t.data?t:t.data;(n==o.OLD_RSP||0===n)&&(s=o.translator.translate(e,s)),a(n,r,s)}}},t&&n.each(u,function(e,a){t[a]&&(t[a]=t[a])}),n.ajax(s)}}),n.each(o,function(e){void 0===d.prototype[e]&&(d.prototype[e]=function(t,a){this._request(e,t,a)})});var l=new d;a.exports=l});
;define("common:widget/oui/common",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/protocol","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t,e,i){var o=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=t("common:widget/oui/arale/dialog/1.3.3/dialog"),a=t("common:widget/oui/protocol"),s=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),r={QUIT_PLAN_DISABLED:!1},c=function(){o.extend(this,{constant:r})};o.extend(c.prototype,{isIE6:function(){var t=(window.navigator.userAgent||"").toLowerCase();return-1!==t.indexOf("msie 6")},loadJSON:function(t,e){"string"==typeof t&&(t=o(t));var i=o.trim(t.html()),n=o.parseJSON(i);return e||t.remove(),n},fillTemplate:function(t){var e=t.data,i=t.template,n=t.container||null,r=t.api,c=t.isResponse||!1;if(e||(e={}),e instanceof o){if(e=o.trim(e.html()),!e)throw"Common: cannot fill empty data.";e=o.parseJSON(e)}c&&(e=e.data),e=r?a.translator.translate(r,e):e;var l=i.html(),u=s.compile(l),m=u(e);return n&&n.append(m),m},showMessage:function(t,e,i){var a,s=o("#dialog-message");s.length<1||(t="string"==typeof t?{message:t}:t,a=l.fillTemplate({template:s,data:t}),this.isIE6()?(o(".pg-container-content").prepend(a),o(".ui-message-close-button").click(function(){o(".ui-message-content").remove()})):new n({content:a}).after("hide",function(){this.destroy(),e&&o.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;o(".ui-message-close-button").click(function(){t.hide()}),i&&o.isFunction(i)&&i.call(this)}).show())},showMessage2:function(t,e,i){var a,s=o("#dialog2-message");s.length<1||(t="string"==typeof t?{message:t}:t,a=l.fillTemplate({template:s,data:t}),this.isIE6()?(o(".pg-container-content").prepend(a),o(".ui-message-close-button").click(function(){o(".ui-message-content").remove()})):new n({content:a}).after("hide",function(){this.destroy(),e&&o.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;o(".ui-message-close-button").click(function(){t.hide()}),i&&o.isFunction(i)&&i.call(this)}).show())},initPoptips:function(t){var e=null;e=t?t.find('[data-ui-name="ui-poptip-trigger"]'):o('[data-ui-name="ui-poptip-trigger"]'),e.hover(function(){var t=o(this).data("ui-poptip-ancestor"),e=t?o(this).closest(t):o(this);e.find('[data-ui-name="ui-poptip"]').show()},function(){var t=o(this).data("ui-poptip-ancestor"),e=t?o(this).closest(t):o(this);e.find('[data-ui-name="ui-poptip"]').hide()})}});var l=new c;i.exports=l});
;define("common:widget/oui/components/calculator",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol"],function(t,e,o){var a=t("common:widget/oui/lib/jquery/1.9.1/jquery"),r=t("common:widget/oui/protocol"),l=function(t){return t&&a.isPlainObject(t)?new l.calculator(t):void 0};l.calculator=function(t){this.type=t.type,this.borrowAmount=t.borrowAmount,this.repayDate=t.repayDate,this.monthlyComprehensiveFeeRate=t.monthlyComprehensiveFeeRate,this.yearRate=t.yearRate,this.mounthRate=t.yearRate/12,this.repayType=t.repayType,this.isShowTable=t.isShowTable,this.mgmtAmount=t.mgmtAmount,this.model=50,this.isShowTable||(this.isShowTable=!1),this.init()},l.comma=function(t,e){var o=t;return(!e||1>e)&&(e=3),o=String(o).split("."),o[0]=o[0].replace(new RegExp("(\\d)(?=(\\d{"+e+"})+$)","ig"),"$1,"),o.join(".")},l.arrToObj=function(t){for(var e={},o=0,a=t.length;a>o;o++)e[t[o].name]=t[o].value;return e},l.format=function(t){return r.translator._bankersRound(t)},l.add=function(t,e){var o,a,r;try{o=t.toString().split(".")[1].length}catch(l){o=0}try{a=e.toString().split(".")[1].length}catch(l){a=0}return r=Math.pow(10,Math.max(o,a)),(t*r+e*r)/r},l.sub=function(t,e){var o,a,r;try{o=t.toString().split(".")[1].length}catch(l){o=0}try{a=e.toString().split(".")[1].length}catch(l){a=0}return r=Math.pow(10,Math.max(o,a)),(t*r-e*r)/r},l.mul=function(t,e){var o=0,a=t.toString(),r=e.toString();try{o+=a.split(".")[1].length}catch(l){}try{o+=r.split(".")[1].length}catch(l){}return Number(a.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,o)},l.div=function(t,e){var o,a,r=0,l=0;try{r=t.toString().split(".")[1].length}catch(n){}try{l=e.toString().split(".")[1].length}catch(n){}return o=Number(t.toString().replace(".","")),a=Number(e.toString().replace(".","")),o/a*Math.pow(10,l-r)},Number.prototype.sub=function(t){return l.sub(this,t)},Number.prototype.add=function(t){return l.add(this,t)},Number.prototype.mul=function(t){return l.mul(this,t)},Number.prototype.div=function(t){return l.div(this,t)},l.monthlyDEBXRepay=function(t,e,o,a,r,n,i,m,b){var u=l.equalRepay(t,e,o,a,r,n,i),h=(i/e+i*m).toFixed(2);alert(h);var w=i*b;alert(w),u.monthlyRepay=h,u.serviceFee=w,u.totalRepayFee=u.monthlyRepay*e,u.monthlyComprehensiveFeeRate=m;for(var y=1;e>=y;y++){var s=u.table["row"+y];s.mtotal=h,s.mgmtfee=h-s.mbenxi,u.table["row"+y].shengyu=(tmpTotal-u.table["row"+j].mbenxi).toFixed(2),tmpTotal=u.table["row"+j].shengyu}return u},l.equalRepay=function(t,e,o,a,r,n,i){var m={},b=t.mul(o).mul(Math.pow(l.add(1,o),e)),u=l.sub(Math.pow(l.add(1,o),e),1),h=l.format(t.mul(a/100));m.monthlyRepay=l.format(b.div(u)),m.mounthRate=o.mul(100),m.repayDate=e,m.total=0,m.totaladdglf=0,m.table={};for(var w=1;e>=w;w++)m.table["row"+w]={},m.table["row"+w].mounth=w,m.table["row"+w].mgmtfee=h,m.table["row"+w].qichu=1==w?t:m.table["row"+(w-1)].qimo,m.table["row"+w].mbenxi=e>w?m.monthlyRepay:l.format(l.mul(m.table["row"+w].qichu,l.add(1,o))),m.total+=parseFloat(m.table["row"+w].mbenxi),m.table["row"+w].mlixi=l.format(m.table["row"+w].qichu.mul(m.mounthRate).mul(.01)),m.table["row"+w].mbenjin=l.sub(m.table["row"+w].mbenxi,m.table["row"+w].mlixi),m.table["row"+w].qimo=l.sub(m.table["row"+w].qichu,m.table["row"+w].mbenjin),m.table["row"+w].itemStyle=w%2===0?"color-time-tr1":"color-time-tr2";m.total=m.total.toFixed(2);for(var y=m.total,s=1;e>=s;s++)m.table["row"+s].shengyu=(y-m.table["row"+s].mbenxi).toFixed(2),y=m.table["row"+s].shengyu;m.monthlyRepay=l.mul(m.monthlyRepay,n),m.total=l.mul(m.total,n),m.total=m.total.toFixed(2),m.isShowTable=r;for(var p=1;e>=p;p++)m.table["row"+p].qichu=l.mul(m.table["row"+p].qichu,n),m.table["row"+p].mbenxi=l.mul(m.table["row"+p].mbenxi,n),m.table["row"+p].mlixi=l.mul(m.table["row"+p].mlixi,n),m.table["row"+p].mbenjin=l.mul(m.table["row"+p].mbenjin,n),m.table["row"+p].qimo=l.mul(m.table["row"+p].qimo,n),m.table["row"+p].shengyu=l.mul(m.table["row"+p].shengyu,n),m.table["row"+p].mgmtfee=l.mul(m.table["row"+p].mgmtfee,n),m.table["row"+p].yuehuankuane=l.add(m.table["row"+p].mbenxi,m.table["row"+p].mgmtfee),m.table["row"+p].qichu=m.table["row"+p].qichu.toFixed(2),m.table["row"+p].mbenxi=m.table["row"+p].mbenxi.toFixed(2),m.table["row"+p].mlixi=m.table["row"+p].mlixi.toFixed(2),m.table["row"+p].mbenjin=m.table["row"+p].mbenjin.toFixed(2),m.table["row"+p].qimo=m.table["row"+p].qimo.toFixed(2),m.table["row"+p].shengyu=m.table["row"+p].shengyu.toFixed(2),m.table["row"+p].yuehuankuane=m.table["row"+p].yuehuankuane.toFixed(2),1==p?(m.table["row"+p].shengyubenjin=i-m.table["row"+p].mbenjin,m.table["row"+p].shengyubenjin=m.table["row"+p].shengyubenjin.toFixed(2)):(m.table["row"+p].shengyubenjin=m.table["row"+(p-1)].shengyubenjin-m.table["row"+p].mbenjin,m.table["row"+p].shengyubenjin=m.table["row"+p].shengyubenjin.toFixed(2)),m.totaladdglf+=parseFloat(m.table["row"+p].yuehuankuane),m.table["row"+p].mgmtfee=m.table["row"+p].mgmtfee.toFixed(2),m.table["row"+p].itemStyle=p%2===0?"color-time-tr1":"color-time-tr2";return m.totaladdglf=m.totaladdglf.toFixed(2),m},l.mouthRepay=function(t,e,o,a,r){var n=l.format(t*a/100),i={};i.mounthRate=l.format(o.mul(100)),i.repayDate=e,i.monthlyRepay=l.format(t*o),i.table={},i.total=0,i.isShowTable=r;for(var m=1;e>=m;m++)i.table["row"+m]={},i.table["row"+m].mounth=m,i.table["row"+m].mgmtfee=n,e>m?(i.table["row"+m].mbenxi=i.monthlyRepay,i.table["row"+m].mbenjin=0..toFixed(2)):(i.table["row"+m].mbenxi=parseInt(t,10)+parseFloat(i.monthlyRepay),i.table["row"+m].mbenjin=parseInt(t,10).toFixed(2)),i.total+=parseFloat(i.table["row"+m].mbenxi),i.table["row"+m].mlixi=i.monthlyRepay,i.table["row"+m].itemStyle=m%2===0?"color-time-tr1":"color-time-tr2";i.total=i.total.toFixed(2);for(var b=i.total,u=1;e>=u;u++)i.table["row"+u].shengyu=(b-i.table["row"+u].mbenxi).toFixed(2),b=i.table["row"+u].shengyu;return i},l.calculator.prototype={init:function(){},reset:function(){},calc:function(){this.reset();var t=this.model,e=this.borrowAmount,o=this.repayDate,a=.01*this.mounthRate,r=this.isShowTable,n=this.mgmtAmount,i=this.borrowAmount/this.model;return"DEBX"==this.repayType?l.equalRepay(t,o,a,n,r,i,e):"FXHB"==this.repayType?l.mouthRepay(e,o,a,n,r):void 0}},o.exports=l});
;define("common:widget/oui/widgets/captcha",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,i,t){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),s=function(e){n.extend(this,{name:e.name,message:e.message||"验证码输入错误，请重新输入"}),this._ui={img:n("#"+this.name+"-img"),input:n("#"+this.name+"-input"),message:n("#"+this.name+"-message")}};n.extend(s.prototype,{init:function(){var e=this,i=this._ui;return i.img.click(function(){var t=(new Date).getTime();i.img.attr("src","/image.jsp?ts="+t),i.input.val(""),e.clean()}),i.input.focusin(function(){e.clean()}),this},clean:function(){this._ui.message.text()==this.message&&this._ui.message.text("")}}),t.exports=s});
;define("lib/counter/0.0.1/jquery.counter",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=function(t){var n=0,a=0;return e.each(t.parts,function(t,e){n+=n*e.limit+e.stop,a+=a*e.limit+e.value}),t.down?n>=a:a>=n},a=function(){for(var t=e(this),a=t.data("counter"),i=a.parts.length-1;i>=0;){var l=a.parts[i];if(l.value+=a.down?-1:1,a.down&&l.value<0)l.value=l.limit;else{if(a.down||!(l.value>l.limit))break;l.value=0}i--}r(t,i),n(a)&&(clearInterval(a.intervalId),t.trigger("counterStop"))},r=function(t,n){for(var a=t.data("counter"),r=a.parts.length-1,o=function(e,n){i(t,r,e,n)};r>=n;){for(var s=a.parts[r],u=s.value+"";u.length<s.padding;)u="0"+u;e.each(l(u,""),o),r--}},i=function(t,n,a,r){var i=e(e(t.children("span.part").get(n)).find("span.digit").get(a));i.attr("class","digit digit"+r+" digit"+i.text()+r).text(r)},l=function(t){var e,n=String.prototype.split,a=/()??/.exec("")[1]===t;return e=function(e,r,i){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(e,r,i);var l,o,s,u,p=[],d=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),c=0,r=new RegExp(r.source,d+"g");for(e+="",a||(l=new RegExp("^"+r.source+"$(?!\\s)",d)),i=i===t?-1>>>0:i>>>0;(o=r.exec(e))&&(s=o.index+o[0].length,!(s>c&&(p.push(e.slice(c,o.index)),!a&&o.length>1&&o[0].replace(l,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(o[e]=t)}),o.length>1&&o.index<e.length&&Array.prototype.push.apply(p,o.slice(1)),u=o[0].length,c=s,p.length>=i)));)r.lastIndex===o.index&&r.lastIndex++;return c===e.length?(u||!r.test(""))&&p.push(""):p.push(e.slice(c)),p.length>i?p.slice(0,i):p}}(),o={init:function(t){return t=t||{},this.each(function(){var r=e(this),i=r.data("counter")||{};i.interval=parseInt(t.interval||r.attr("data-interval")||"1000",10),i.down="down"==(t.direction||r.attr("data-direction")||"down"),i.parts=[];var o=l(t.initial||r.text(),/([^0-9]+)/),s=l(t.format||r.attr("data-format")||"23:59:59",/([^0-9]+)/),u=t.stop||r.attr("data-stop");return u&&(u=l(u,/([^0-9]+)/)),r.html(""),e.each(s,function(t,n){if(/^\d+$/.test(n)){var a={};a.index=t,a.padding=(n+"").length,a.limit=parseInt(n,10),a.value=parseInt(o[o.length-s.length+t]||0,10),a.value=a.value>a.limit?a.limit:a.value,a.reset=a.value,a.stop=parseInt(u?u[u.length-s.length+t]:i.down?0:a.limit,10),a.stop=a.stop>a.limit?a.limit:a.stop,a.stop=a.stop<0?0:a.stop;for(var p=e("<span>").addClass("part").addClass("part"+t),d=a.value+"";d.length<a.padding;)d="0"+d;e.each(l(d,""),function(t,n){p.append(e("<span>").addClass("digit digit"+n).text(n))}),r.append(p),i.parts.push(a)}else r.append(e("<span>").addClass("separator").addClass("separator"+t).text(n))}),n(i)?r.trigger("counterStop"):i.intervalId=setInterval(e.proxy(a,this),i.interval),r.data("counter",i),this})},play:function(){return this.each(function(){var t=e(this),n=t.data("counter");n.intervalId||(n.intervalId=setInterval(e.proxy(a,this),n.interval))})},reset:function(){return this.each(function(){var t=e(this),n=t.data("counter");e.each(n.parts,function(t,e){e.value=e.reset}),r(e(this),0),n.intervalId&&(clearInterval(n.intervalId),n.intervalId=setInterval(e.proxy(a,this),n.interval))})},stop:function(){return this.each(function(){var t=e(this),n=t.data("counter");clearInterval(n.intervalId),n.intervalId=0,t.trigger("counterStop")})}};e.fn.counter=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.counter"):o.init.apply(this,arguments)}});
;define("common:widget/oui/widgets/counter",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","lib/counter/0.0.1/jquery.counter"],function(e,t,n){var s=e("common:widget/oui/lib/jquery/1.9.1/jquery");e("lib/counter/0.0.1/jquery.counter");var a=function(e){s.extend(this,{container:e.container,delta:e.delta,start:e.start,end:e.end,minDays:e.minDays||1,daysStyle:e.daysStyle||"small",secondsStyle:e.secondsStyle||"small",changed:e.changed||function(){},stopped:e.stopped||function(){}})};s.extend(a.prototype,{_getDelta:function(){var e=null;if(this.delta||this.start&&this.end)if(this.delta)e=this.delta;else{var t=this.start.split("-"),n=this.end.split("-");sd=new Date(t[0],parseInt(t[1],10)-1,t[2],t[3],t[4],t[5]),ed=new Date(n[0],parseInt(n[1],10)-1,n[2],n[3],n[4],n[5]),e=ed.getTime()-sd.getTime()}else e=0;e/=1e3;var s=Math.floor(e/86400),a=Math.floor(e/3600),o=Math.floor((e-3600*a)/60),i=Math.floor(e-3600*a-60*o);return{days:s,hours:a,minutes:o,seconds:i,delta:e}},_setStyle:function(e,t){e.removeClass("counter-analog counter-analog2"),e.removeClass("ui-counter-days ui-counter-seconds"),e.parent().removeClass("days seconds"),e.addClass("small"==this[t+"Style"]?"counter-analog":"counter-analog2"),e.addClass("ui-counter-"+t),e.parent().addClass(t)},_renderSeconds:function(e,t){var n=24*(t.days+1)-1;if(n>999)throw"Min days is too large to display";this._setStyle(e,"seconds"),e.counter({format:n+":59:59",direction:"down",interval:"1000",initial:t.hours+":"+t.minutes+":"+t.seconds,stop:(n>=100?"000":"00")+":00:00"})},init:function(){var e=null;e="string"==typeof this.container?s(this.container):this.container;var t=this._getDelta(),n=0,a=null,o=this;if(t.days<this.minDays)this._renderSeconds(e,t),a=setInterval(function(){n+=1,t.delta-n===0&&(o.stopped(),clearInterval(a))},1e3);else{if(t.days>999)throw"Delta days is too large to display";this._setStyle(e,"days"),e.counter({format:t.days>=100?"999":"99",direction:"down",interval:"86400000",initial:t.days,stop:t.days>=100?"000":"00"}),a=setInterval(function(){n+=1,t.delta-n<86400*o.minDays&&(e.empty(),o.changed(),o.delta=1e3*(t.delta-n),o._renderSeconds(e,o._getDelta())),t.delta-n===0&&(o.stopped(),clearInterval(a))},1e3)}}}),n.exports=a});
;define("lib/validation/1.11.1/jquery.validate",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery");!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return i%10===0},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&r<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format}(e),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(e),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(e)});
;define("common:widget/oui/widgets/form",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","lib/validation/1.11.1/jquery.validate"],function(e,r,i){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");e("lib/validation/1.11.1/jquery.validate");var a=t,n={};n.err={required:"不能为空",remoteCode:"验证码输入错误",isEmail:"请输入有效的邮箱地址",equalPsw:"两次密码输入不一致",length:"字数超过限制",minPswLength:"长度应为6-16个字符",maxPswLength:"长度应为6-16个字符",isMobile:"请输入正确手机号",isMobileOrEmail:"请输入正确的邮箱地址或手机号码",isNickName:"昵称只能由中文、英文字母、数字、下划线组成",isRealName:"包含非法字符",isHasUnderlineFrontEnd:"不能以下划线开头或结尾",isNickNameLength:"长度为4-16个字符之间",isHasYX:"前缀请不要使用“YX_”,且后缀请不要使用“_yx”",nickNameRemote:"昵称已存在",userNameRemote:"手机号已经存在",isPassWord:"包含非法字符",isPassNotAllNum:"密码不能全为数字",isPassNotRepeat:"密码不能为同一个字符",equalTo:"两次密码输入不一致",agree:"请同意我们的条款",contractPay:"支付前请阅读并同意协议",maxLoanTitle:"借款标题不能超过14字",isOneDecimal:"利率最大保留小数点后1位",isRateOver:"您输入的借款年利率超出范围，请重新输入！",minLoanDescription:"借款描述应限制在20-500字之间",maxLoanDescription:"借款描述应限制在20-500字之间",minRealNameLength:"姓名长度在2-32字之间",maxRealNameLength:"姓名长度在2-32字之间",isPostCode:"邮政编码须为6位数字",isIDNum:"请正确输入您的二代身份证号码",isPhone:"请正确输电话号码",isUrl:"请输入正确的网址",isAmount:"请输入正确的金额",minAmount:"单笔充值金额应大于1元且小于或等于50万元",maxAmount:"单笔充值金额应大于1元且小于或等于50万元",bankRequired:"请选择充值方式",userBankId:"请选择提现银行卡",isEnough:"您的账户余额不足",equalToBank:"您输入的银行卡号不一致",bankCardLength:"银行卡号须为12-19位数字",isBankCard:"银行卡号输入错误",isCardDeposit:"开户行只能由中文、英文字母、数字、小括号组成",maxCashPasswordLength:"密码长度不超过16位",depositLength:"开户行的名称限制在64字以内",isEducationCode:"学历在线验证码须为12位数字",isIntNum:"请输入正整数",codeLength:"请输入4位验证码",minCachLength:"提现金额不能小于1元",maxNumberLength:"提现金额小于15位数字",intention:"请选择角色",phoneCodeMsg:"手机验证码不能为空",phoneCodeMsgLength:"验证码为4位",qianjinMsgLength:"验证码为6位",loanProductType:"请选择您要申请的借款产品"},n.tip={},n.checkCode=function(e){e.ele.rules("add",{remote:{url:e.url||"/account/checkCode.action",data:e.data,dataFilter:function(r){var i=a.parseJSON(r);if("true"==i.result)return e.success&&"function"==typeof e.success&&e.success.call(this,r),!0;var n=t("#code-label"),s='<label class="isMaxCodeNum error">'+i.message+"</label>";return null!=i.message?(n.parent(".fn-hide").length||n.wrap('<div class="fn-hide">'),t(".isMaxCodeNum").length?t(".isMaxCodeNum").show():n.parent("div").after(s)):(n.parent(".fn-hide").length&&n.unwrap('<div class="fn-hide">'),t(".isMaxCodeNum").hide()),e.failed&&"function"==typeof e.failed&&e.failed.call(this,r),!1}},messages:{remote:n.err.remoteCode}})},n.validateData={errorPlacement:function(e,r){e.appendTo(r.parent())},rules:{register:{nickName:{required:!0,isNickName:!0,isHasUnderlineFrontEnd:!0,isNickNameLength:!0,isHasYX:!0,remote:"/checkUserNickname!checkNickname.action"},username:{required:!0,isMobile:!0,remote:"/checkEmail.action"},password:{required:!0,minlength:6,maxlength:16,isPassWord:!0,isPassNotAllNum:!0,isPassNotRepeat:!0},confirm_password:{required:!0,equalTo:"#password"},randCode:{required:!0,minlength:4,maxlength:4},agree:{required:!0},intention:{required:!0}},mobileCodeForReg:{mobileCode:{required:!0,minlength:4,maxlength:4}},login:{j_username:{required:!0,isMobileOrEmail:!0},username:{required:!0,isMobileOrEmail:!0},j_password:{required:!0},password:{required:!0},j_code:{required:!0}},loaninfo:{borrowTitle:{required:!0,maxlength:14},borrowAmount:{required:!0,isBorrowAmount:!0},apr:{required:!0,isOneDecimal:!0,isRateOver:!0},repayTime:{required:!0},endDate:{required:!0},borrowDesc:{required:!0,minlength:20,maxlength:500},agree_contract:{required:!0},loanProductType:{required:!0}},borrowerinfo:{realName:{required:!0,minlength:2,maxlength:32},idNo:{required:!0,isIDNum:!0},graduation:{required:!0},university:{maxlength:20},homeProvince:{required:!0},homeCity:{required:!0},liveProvince:{required:!0},liveCity:{required:!0},address:{required:!0,maxlength:30},postCode:{required:!0,isPostCode:!0},phone:{isPhone:!0},marriage:{required:!0},hasChild:{required:!0},urgentContact:{required:!0,maxlength:32},urgentRelation:{required:!0,maxlength:10},urgentMobile:{required:!0,isMobile:!0},urgentContact2:{required:!0,maxlength:32},urgentRelation2:{required:!0,maxlength:10},urgentMobile2:{required:!0,isMobile:!0},office:{required:!0,maxlength:32},jobType:{required:!0},position:{required:!0,maxlength:10},province:{required:!0},city:{required:!0},officeType:{required:!0},officeDomain:{required:!0},officeScale:{required:!0},workYears:{required:!0},salary:{required:!0},workPhone:{required:!0,isPhone:!0},workEmail:{required:!0,isEmail:!0},officeAddress:{required:!0,maxlength:32},hasHouse:{required:!0},hasLoan:{required:!0},hasCar:{required:!0},carLoan:{required:!0},carBrand:{maxlength:15},carNumber:{maxlength:8}},userbasic:{graduation:{required:!0},university:{maxlength:20},marriage:{required:!0},address:{required:!0,maxlength:30},officeDomain:{required:!0},officeScale:{required:!0},position:{required:!0,maxlength:10},salary:{required:!0}},recharge:{bank:{required:!0},free:{required:!1},amount:{required:!0,isAmount:!0,min:1,max:5e5}},withdraw:{amount:{required:!0,isAmount:!0,maxlength:15,min:1,isEnough:!0},cashPassword:{required:!0,maxlength:16,isPassWord:!0},userBankId:{required:!0}},addcard:{bankDataId:{required:!0},address:{required:!0},deposit:{required:!0,maxlength:64,isCardDeposit:!0},cardId:{required:!0,minlength:12,maxlength:19,isBankCard:!0},reBankCard:{required:!0,equalTo:"#cardId",isBankCard:!0},validateCode:{required:!0,minlength:4,maxlength:4}},openaccount:{paymentType:{required:!0},paymentNo:{required:!0,minlength:12,maxlength:19,isBankCard:!0},mobile:{required:!0,minlength:11,maxlength:11},reBankCard:{required:!0,equalTo:"#cardId",isBankCard:!0},verifyCode:{required:!0,minlength:6,maxlength:6},agree:{required:!0}},modpsw:{oldPassword:{required:!0,minlength:6,maxlength:16},newPassword:{required:!0,isPassWord:!0,isPassNotAllNum:!0,isPassNotRepeat:!0,minlength:6,maxlength:16},newPassword2:{required:!0,minlength:6,maxlength:16,equalTo:"#newPassword"}},modCashPsw:{cashPassword:{required:!0,minlength:6,maxlength:16},newCashPwd:{required:!0,isPassWord:!0,minlength:6,maxlength:16},newCashPwd2:{required:!0,minlength:6,maxlength:16,equalTo:"#newCashPwd"}},findCashPswStepOne:{validateCode:{required:!0}},findCashPswStepTwo:{newCashPwd:{required:!0,isPassWord:!0,minlength:6,maxlength:16},newCashPwd2:{required:!0,minlength:6,maxlength:16,equalTo:"#newCashPwd"}},modMobileByPhoneStepOne:{validateCode:{required:!0},cashPassword:{required:!0}},modMobileByPhoneStepTwo:{phone:{required:!0,isMobile:!0},validateCode:{required:!0}},modMobileByIdStepOne:{idNo:{required:!0,isIDNum:!0},cashPassword:{required:!0}},modMobileByIdStepTwo:{phone:{required:!0,isMobile:!0},validateCode:{required:!0}},emailUpdateByOldStepOne:{code:{required:!0,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},emailUpdateByOldStepTwo:{email:{required:!0,isEmail:!0}},emailUpdateByMobileStepOne:{code:{required:!0},idCard:{required:!0,isIDNum:!0}},setId:{realName:{required:!0,isRealName:!0},idNo:{required:!0,isIDNum:!0}},setEmail:{email:{required:!0,isEmail:!0}},setMobile:{mobile:{required:!0,isMobile:!0},validCode:{required:!0}},setCashPwd:{cashPwd:{required:!0,isPassWord:!0,minlength:6,maxlength:16},cashPwd2:{required:!0,equalTo:"#cashPwd",minlength:6,maxlength:16}},setNickName:{nickName:{required:!0,isNickName:!0,isHasUnderlineFrontEnd:!0,isNickNameLength:!0,isHasYX:!0,remote:"/checkUserNickname!checkNickname.action"}},creditWeibo:{credit_web:{required:!0}},creditVideo:{usemail:{required:!0}},creditGraduation:{validCode:{required:!0,isEducationCode:!0}},notLoginFindPsw:{mobileOrEmail:{required:!0,isMobileOrEmail:!0},code:{required:!0,minlength:4,maxlength:4,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},notLoginFindPswByEmail:{email:{required:!0,isEmail:!0},code:{required:!0,minlength:4,maxlength:4,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},notLoginFindPswByMobile:{mobile:{required:!0,isMobile:!0},code:{required:!0,minlength:4,maxlength:4,remote:{url:"/account/checkCode.action",dataFilter:function(e){var r=a.parseJSON(e);return"true"==r.result?!0:!1}}}},notLoginFindPswByEmailCode:{validCode:{required:!0}},notLoginFindPswByMobileCode:{validCode:{required:!0}},notLoginFindPswResetPsw:{password:{required:!0,isPassWord:!0,isPassNotAllNum:!0,isPassNotRepeat:!0,minlength:6,maxlength:16},password2:{required:!0,equalTo:"#password"}},calculator:{borrowAmount:{required:!0,isBorrowAmount:!0},yearRate:{required:!0,isOneDecimal:!0,isRateOver:!0}},ucode:{ucodeSerial:{required:!0}},couponCode:{couponCode:{required:!0}},accontRsvConfirm:{contract:{required:!0}},confirmReserve:{randCode:{required:!0},joinContract:{required:!0},reserveContract:{required:!0}}},messages:{register:{nickName:{required:n.err.required,isNickName:n.err.isNickName,isHasUnderlineFrontEnd:n.err.isHasUnderlineFrontEnd,isNickNameLength:n.err.isNickNameLength,isHasYX:n.err.isHasYX,remote:n.err.nickNameRemote},username:{required:n.err.required,isMobile:n.err.isMobile,remote:n.err.userNameRemote},password:{required:n.err.required,isPassWord:n.err.isPassWord,isPassNotAllNum:n.err.isPassNotAllNum,isPassNotRepeat:n.err.isPassNotRepeat,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},confirm_password:{required:n.err.required,equalTo:n.err.equalTo},randCode:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength},agree:{required:n.err.agree},intention:{required:n.err.intention}},mobileCodeForReg:{mobileCode:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength}},login:{j_password:{required:n.err.required},password:{required:n.err.required},j_username:{required:n.err.required,isMobileOrEmail:n.err.isMobileOrEmail},username:{required:n.err.required,isMobileOrEmail:n.err.isMobileOrEmail},j_code:{required:n.err.required}},loaninfo:{borrowTitle:{required:n.err.required,maxlength:n.err.maxLoanTitle},borrowAmount:{required:n.err.required},apr:{required:n.err.required,isOneDecimal:n.err.isOneDecimal,isRateOver:n.err.isRateOver},repayTime:{required:n.err.required},endDate:{required:n.err.required},borrowDesc:{required:n.err.required,minlength:n.err.minLoanDescription,maxlength:n.err.maxLoanDescription},agree_contract:{required:n.err.agree},loanProductType:{required:n.err.loanProductType}},borrowerinfo:{realName:{required:n.err.required,minlength:n.err.minRealNameLength,maxlength:n.err.maxRealNameLength},idNo:{required:n.err.required,isIDNum:n.err.isIDNum},graduation:{required:n.err.required},university:{maxlength:n.err.length},homeProvince:{required:n.err.required},homeCity:{required:n.err.required},liveProvince:{required:n.err.required},liveCity:{required:n.err.required},address:{required:n.err.required,maxlength:n.err.length},postCode:{required:n.err.required,isPostCode:n.err.isPostCode},phone:{isPhone:n.err.isPhone},marriage:{required:n.err.required},hasChild:{required:n.err.required},urgentContact:{required:n.err.required},urgentRelation:{required:n.err.required,maxlength:n.err.length},urgentMobile:{required:n.err.required,isMobile:n.err.isMobile},urgentContact2:{required:n.err.required,maxlength:n.err.length},urgentRelation2:{required:n.err.required,maxlength:n.err.length},urgentMobile2:{required:n.err.required,isMobile:n.err.isMobile},office:{required:n.err.required,maxlength:n.err.length},jobType:{required:n.err.required},position:{required:n.err.required,maxlength:n.err.length},province:{required:n.err.required},city:{required:n.err.required},officeType:{required:n.err.required},officeDomain:{required:n.err.required},officeScale:{required:n.err.required},workYears:{required:n.err.required},salary:{required:n.err.required},workPhone:{required:n.err.required,isPhone:n.err.isPhone},workEmail:{required:n.err.required,isEmail:n.err.isEmail},officeAddress:{required:n.err.required,maxlength:n.err.length},hasHouse:{required:n.err.required},hasLoan:{required:n.err.required},hasCar:{required:n.err.required},carLoan:{required:n.err.required},carBrand:{maxlength:n.err.length},carNumber:{maxlength:n.err.length}},userbasic:{graduation:{required:n.err.required},university:{maxlength:n.err.length},marriage:{required:n.err.required},address:{required:n.err.required,maxlength:n.err.length},officeDomain:{required:n.err.required},officeScale:{required:n.err.required},position:{required:n.err.required,maxlength:n.err.length},salary:{required:n.err.required}},recharge:{bank:{required:n.err.bankRequired},amount:{required:n.err.required,isAmount:n.err.isAmount,min:n.err.minAmount,max:n.err.maxAmount}},withdraw:{amount:{required:n.err.required,isAmount:n.err.isAmount,min:n.err.minCachLength,maxlength:n.err.maxNumberLength,isEnough:n.err.isEnough},cashPassword:{required:n.err.required,maxlength:n.err.maxCashPasswordLength,isPassWord:n.err.isPassWord},userBankId:{required:n.err.userBankId}},addcard:{bankDataId:{required:n.err.required},address:{required:n.err.required},deposit:{required:n.err.required,maxlength:n.err.depositLength,isCardDeposit:n.err.isCardDeposit},card:{required:n.err.required,minlength:n.err.bankCardLength,maxlength:n.err.bankCardLength,isBankCard:n.err.isBankCard},reBankCard:{required:n.err.required,equalTo:n.err.equalToBank,isBankCard:n.err.isBankCard},validateCode:{required:n.err.phoneCodeMsg,minlength:n.err.phoneCodeMsgLength,maxlength:n.err.phoneCodeMsgLength}},openaccount:{paymentType:{required:n.err.required},mobile:{required:n.err.required,minlength:n.err.isPhone,maxlength:n.err.isPhone},paymentNo:{required:n.err.required,minlength:n.err.bankCardLength,maxlength:n.err.bankCardLength,isBankCard:n.err.isBankCard},reBankCard:{required:n.err.required,equalTo:n.err.equalToBank,isBankCard:n.err.isBankCard},verifyCode:{required:n.err.phoneCodeMsg,minlength:n.err.qianjinMsgLength,maxlength:n.err.qianjinMsgLength},agree:{required:n.err.agree}},modpsw:{oldPassword:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newPassword:{required:n.err.required,isPassWord:n.err.isPassWord,isPassNotAllNum:n.err.isPassNotAllNum,isPassNotRepeat:n.err.isPassNotRepeat,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newPassword2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},modCashPsw:{cashPassword:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newCashPwd:{required:n.err.required,isPassWord:n.err.isPassWord,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newCashPwd2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},findCashPswStepOne:{validateCode:{required:n.err.required}},findCashPswStepTwo:{newCashPwd:{required:n.err.required,isPassWord:n.err.isPassWord,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},newCashPwd2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},modMobileByPhoneStepOne:{validateCode:{required:n.err.required},cashPassword:{required:n.err.required}},modMobileByPhoneStepTwo:{phone:{required:n.err.required,isMobile:n.err.isMobile},validateCode:{required:n.err.required}},modMobileByIdStepOne:{idNo:{required:n.err.required,isIDNum:n.err.isIDNum},cashPassword:{required:n.err.required}},modMobileByIdStepTwo:{phone:{required:n.err.required,isMobile:n.err.isMobile},validateCode:{required:n.err.required}},emailUpdateByOldStepOne:{code:{required:n.err.required,remote:n.err.remoteCode}},emailUpdateByOldStepTwo:{email:{required:n.err.required,isEmail:n.err.isEmail}},emailUpdateByMobileStepOne:{code:{required:n.err.required},idCard:{required:n.err.required,isIDNum:n.err.isIDNum}},setId:{realName:{required:n.err.required,isRealName:n.err.isRealName},idNo:{required:n.err.required,isIDNum:n.err.isIDNum}},setEmail:{email:{required:n.err.required,isEmail:n.err.isEmail}},setMobile:{mobile:{required:n.err.required,isMobile:n.err.isMobile},validCode:{required:n.err.required}},setCashPwd:{cashPwd:{required:n.err.required,isPassWord:n.err.isPassWord,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},cashPwd2:{required:n.err.required,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength,equalTo:n.err.equalTo}},setNickName:{nickName:{required:n.err.required,isNickName:n.err.isNickName,isHasUnderlineFrontEnd:n.err.isHasUnderlineFrontEnd,isNickNameLength:n.err.isNickNameLength,isHasYX:n.err.isHasYX,remote:n.err.nickNameRemote}},creditWeibo:{credit_web:{required:n.err.required}},creditVideo:{usemail:{required:n.err.required}},creditGraduation:{validCode:{required:n.err.required,isEducationCode:n.err.isEducationCode}},notLoginFindPsw:{mobileOrEmail:{required:n.err.required,isMobileOrEmail:n.err.isMobileOrEmail},code:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength,remote:n.err.remoteCode}},notLoginFindPswByEmail:{email:{required:n.err.required,isEmail:n.err.isEmail},code:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength,remote:n.err.remoteCode}},notLoginFindPswByMobile:{mobile:{required:n.err.required,isMobile:n.err.isMobile},code:{required:n.err.required,minlength:n.err.codeLength,maxlength:n.err.codeLength,remote:n.err.remoteCode}},notLoginFindPswByEmailCode:{validCode:{required:n.err.required}},notLoginFindPswByMobileCode:{validCode:{required:n.err.required}},notLoginFindPswResetPsw:{password:{required:n.err.required,isPassWord:n.err.isPassWord,isPassNotAllNum:n.err.isPassNotAllNum,isPassNotRepeat:n.err.isPassNotRepeat,minlength:n.err.minPswLength,maxlength:n.err.maxPswLength},password2:{required:n.err.required,equalTo:n.err.equalTo}},calculator:{borrowAmount:{required:n.err.required,isBorrowAmount:n.err.isBorrowAmount},yearRate:{required:n.err.required,isOneDecimal:n.err.isOneDecimal,isRateOver:n.err.isRateOver}},ucode:{ucodeSerial:{required:n.err.required}},couponCode:{couponCode:{required:n.err.required}},accontRsvConfirm:{contract:{required:n.err.contractPay}},confirmReserve:{randCode:{required:n.err.required},joinContract:{required:n.err.contractPay},reserveContract:{required:n.err.contractPay}}}},n.log=function(){window.console&&window.console.log},n.msg=function(e,r,i){if(void 0!==e){if($msgafter=t(e),!$msgafter.length)return void n.log("'msgafter' element can't find!");void 0===i&&(i="log");var a=$msgafter.parent().find(".form-msg");if(a.length)return void a.html("<span class='"+i+"'>"+r+"</span>");a=t("<span class='form-msg'></span>").insertAfter($msgafter).slideUp().html("<span class='"+i+"'>"+r+"</span>").slideDown(),a.delay(3e3).slideUp(function(){t(this).remove()})}else n.log(r)},n.ajaxSubmit=function(e,r){function i(){function i(e){var r=null;try{e.contentWindow&&(r=e.contentWindow.document)}catch(i){}if(r)return r;try{r=e.contentDocument?e.contentDocument:e.document}catch(i){r=e.document}return r}function n(){function r(){try{var e=i(c).readyState;e&&"uninitialized"==e.toLowerCase()&&setTimeout(r,50)}catch(t){s(v),p&&clearTimeout(p),p=void 0}}var n=e.attr2("target"),d=e.attr2("action");f.setAttribute("target",u),a||f.setAttribute("method","POST"),d!=o.url&&f.setAttribute("action",o.url),o.skipEncodingOverride||a&&!/post/i.test(a)||e.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),o.timeout&&(p=setTimeout(function(){q=!0,s(x)},o.timeout));var m=[];try{if(o.extraData)for(var h in o.extraData)o.extraData.hasOwnProperty(h)&&m.push(t.isPlainObject(o.extraData[h])&&o.extraData[h].hasOwnProperty("name")&&o.extraData[h].hasOwnProperty("value")?t('<input type="hidden" name="'+o.extraData[h].name+'">').val(o.extraData[h].value).appendTo(f)[0]:t('<input type="hidden" name="'+h+'">').val(o.extraData[h]).appendTo(f)[0]);o.iframeTarget||(l.appendTo("body"),c.attachEvent?c.attachEvent("onload",s):c.addEventListener("load",s,!1)),setTimeout(r,15);try{f.submit()}catch(g){var F=document.createElement("form").submit;F.apply(f)}}finally{f.setAttribute("action",d),n?f.setAttribute("target",n):e.removeAttr("target"),t(m).remove()}}function s(e){if(!m.aborted&&!P){if(y=i(c),y||(e=v),e===x&&m)return m.abort("timeout"),void F.reject(m,"timeout");if(e==v&&m)return m.abort("server abort"),void F.reject(m,"error","server abort");if(y&&y.location.href!=o.iframeSrc||q){c.detachEvent?c.detachEvent("onload",s):c.removeEventListener("load",s,!1);var r,a="success";try{if(q)throw"timeout";var n="xml"==o.dataType||y.XMLDocument||t.isXMLDoc(y);if(!n&&window.opera&&(null===y.body||!y.body.innerHTML)&&--D)return void setTimeout(s,250);var u=y.body?y.body:y.documentElement;m.responseText=u?u.innerHTML:null,m.responseXML=y.XMLDocument?y.XMLDocument:y,n&&(o.dataType="xml"),m.getResponseHeader=function(e){var r={"content-type":o.dataType};return r[e]},u&&(m.status=Number(u.getAttribute("status"))||m.status,m.statusText=u.getAttribute("statusText")||m.statusText);var h=(o.dataType||"").toLowerCase(),g=/(json|script|text)/.test(h);if(g||o.textarea){var f=y.getElementsByTagName("textarea")[0];if(f)m.responseText=f.value,m.status=Number(f.getAttribute("status"))||m.status,m.statusText=f.getAttribute("statusText")||m.statusText;else if(g){var w=y.getElementsByTagName("pre")[0],b=y.getElementsByTagName("body")[0];w?m.responseText=w.textContent?w.textContent:w.innerText:b&&(m.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==h&&!m.responseXML&&m.responseText&&(m.responseXML=N(m.responseText));try{C=L(m,h,o)}catch(k){a="parsererror",m.error=r=k||a}}catch(k){a="error",m.error=r=k||a}m.aborted&&(a=null),m.status&&(a=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===a?(o.success&&o.success.call(o.context,C,"success",m),F.resolve(m.responseText,"success",m),d&&t.event.trigger("ajaxSuccess",[m,o])):a&&(void 0===r&&(r=m.statusText),o.error&&o.error.call(o.context,m,a,r),F.reject(m,"error",r),d&&t.event.trigger("ajaxError",[m,o,r])),d&&t.event.trigger("ajaxComplete",[m,o]),d&&!--t.active&&t.event.trigger("ajaxStop"),o.complete&&o.complete.call(o.context,m,a),P=!0,o.timeout&&clearTimeout(p),setTimeout(function(){o.iframeTarget||l.remove(),m.responseXML=null},100)}}}var o,d,u,l,c,m,h,g,q,p,f=e[0],F=t.Deferred();if(o=t.extend(!0,{},t.ajaxSettings,r),o.context=o.context||o,u="jqFormIO"+(new Date).getTime(),o.iframeTarget?(l=t(o.iframeTarget),g=l.attr2("name"),g?u=g:l.attr2("name",u)):(l=t('<iframe name="'+u+'" src="'+o.iframeSrc+'" />'),l.css({position:"absolute",top:"-1000px",left:"-1000px"})),c=l[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var r="timeout"===e?"timeout":"aborted";this.aborted=1;try{c.contentWindow.document.execCommand&&c.contentWindow.document.execCommand("Stop")}catch(i){}l.attr("src",o.iframeSrc),m.error=r,o.error&&o.error.call(o.context,m,r,e),d&&t.event.trigger("ajaxError",[m,o,r]),o.complete&&o.complete.call(o.context,m,r)}},d=o.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[m,o]),o.beforeSend&&o.beforeSend.call(o.context,m,o)===!1)return o.global&&t.active--,F.reject(),F;if(m.aborted)return F.reject(),F;h=f.clk,h&&(g=h.name,g&&!h.disabled&&(o.extraData=o.extraData||{},o.extraData[g]=h.value,"image"==h.type&&(o.extraData[g+".x"]=f.clk_x,o.extraData[g+".y"]=f.clk_y)));var x=1,v=2,w=t("meta[name=csrf-token]").attr("content"),b=t("meta[name=csrf-param]").attr("content");b&&w&&(o.extraData=o.extraData||{},o.extraData[b]=w),o.forceSync?n():setTimeout(n,10);var C,y,P,D=50,N=t.parseXML||function(e,r){return window.ActiveXObject?(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(e)):r=(new DOMParser).parseFromString(e,"text/xml"),r&&r.documentElement&&"parsererror"!=r.documentElement.nodeName?r:null},k=t.parseJSON||function(e){return window.eval("("+e+")")},L=function(e,r,i){var a=e.getResponseHeader("content-type")||"",n="xml"===r||!r&&a.indexOf("xml")>=0,s=n?e.responseXML:e.responseText;return n&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,r)),"string"==typeof s&&("json"===r||!r&&a.indexOf("json")>=0?s=k(s):("script"===r||!r&&a.indexOf("javascript")>=0)&&t.globalEval(s)),s};return F}if(e.length&&(!r||"object"==t.type(r))){var a,s,o,d,u;"function"==typeof r?r={success:r}:void 0===r&&(r={}),r.msg=function(e,i){n.msg(r.msgafter,e,i)},a=r.type||e.attr("method"),s=r.url||e.attr("action"),o="string"==typeof s?t.trim(s):"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),r.extraData&&(t.isPlainObject(r.extraData)||"array"==t.type(r.extraData))&&(u=t.param(r.extraData)),d=r.data?r.data:e.serialize(),d=u?d+"&"+u:d,r.debug&&n.log(d),r=t.extend(!0,{url:o,success:t.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var l=!!t.fn.prop;t.fn.attr2=function(){if(!l)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)};var c=e.find("input[type=file]"),m=c.length>0;r=t.extend({url:o,data:d,beforeSend:function(){this.msg("Loading...")},success:function(){this.msg("提交成功！")},error:function(){this.msg("服务器链接出错！","warn")},type:a||"GET"},r),m?i():t.ajax(r)}},n.is={isDate:function(e,r,i){if(isNaN(e)||isNaN(r)||isNaN(i))return!1;if(r>12||1>r)return!1;if(1>i||i>31)return!1;if((4==r||6==r||9==r||11==r)&&i>30)return!1;if(2==r){if(i>29)return!1;if((e%100===0&&e%400!==0||e%4!==0)&&i>28)return!1}return!0},isIDNum:function(e){var r;if(18!=e.length)return!1;if(r=/^\d{17}(\d|x|X)$/,!r.exec(e))return!1;if(!n.is.isDate(e.substring(6,10),e.substring(10,12),e.substring(12,14)))return!1;for(var i=["1","0","X","9","8","7","6","5","4","3","2"],t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],a=0,s=0;s<e.length-1;s++)a+=e.substring(s,s+1)*t[s];return a%=11,e.substring(e.length-1,e.length).toUpperCase()!=i[a]?!1:!0},isUserName:function(e){var r=/^\w+(@)\w+(\.\w+)(\.\w+|)$/,i=/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;return r.test(e)||i.test(e)},isRealName:function(e){return/^[\u4E00-\u9FA5]+$/.test(e)},isNickName:function(e){return/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(e)},isHasUnderlineFrontEnd:function(e){return/^(?!_)(?!.*?_$).*$/.test(e)},isHasYX:function(e){return!/^(YX_|yx_|yX_|Yx_).*|(.*(_YX|_yx|_yX|_Yx)$)/.test(e)},isNickNameLength:function(e){function r(e){for(var r=e.length,i=0,t=0;r>t;t++)e.charCodeAt(t)<27||e.charCodeAt(t)>126?i+=2:i++;return i}return r(t.trim(e))<=16&&r(t.trim(e))>=4},isPassWord:function(e){return/^[\@A-Za-z0-9\!\#\$\%\^\&\*\.\~]{1,}$/.test(e)},isPassNotAllNum:function(e){return!/^\d{1,}$/.test(e)},isPassNotRepeat:function(e){return!new RegExp(/^(.)\1+$/).test(e)},isMobile:function(e){return/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)},isPhone:function(e){return/^0\d{2,3}[-]?\d{8}$|^0\d{3}[-]?\d{7,8}$/.test(e)},isEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},isMobileOrEmail:function(e){return this.isMobile(e)||this.isEmail(e)},isUrl:function(e){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},isAmount:function(e){return/^[0-9]*(\.[0-9]{1,2})?$/.test(e)},isPostCode:function(e){return/^\d{6}$/.test(e)},isBankCard:function(e){return/^\d{12,19}$/.test(e)},isCardDeposit:function(e){return/^[a-zA-Z0-9\(\)\（\）\u4e00-\u9fa5]+$/.test(e)},isEducationCode:function(e){return/^\d{12}$/.test(e)},isIntNum:function(e){return/^\d+$/.test(e)},isOneDecimal:function(e){return/^(([1-9]{1}\d*)|([0]{1}))(\.(\d){1})?$/.test(e)},isLuhn:function(e){if(/[^0-9-\s]+/.test(e))return!1;var r=0,i=0,t=!1;e=e.replace(/\D/g,"");for(var a=e.length-1;a>=0;a--){var n=e.charAt(a);i=parseInt(n,10),t&&(i*=2)>9&&(i-=9),r+=i,t=!t}return r%10===0}},n.isEmptyObj=function(e){var r=!0;if("[object Array]"===Object.prototype.toString.call(e))r=!e.length;else{e=new Object(e);for(var i in e)return!1}return r},n.comma=function(e,r){var i=e;return(!r||1>r)&&(r=3),i=String(i).split("."),i[0]=i[0].replace(new RegExp("(\\d)(?=(\\d{"+r+"})+$)","ig"),"$1,"),i.join(".")},t.extend({uniqueArray:function(e,r){var i,t,a=e.length,n=e.slice(0);for("function"!=typeof r&&(r=function(e,r){return e===r});--a>0;)for(t=n[a],i=a;i--;)if(r(t,n[i])){n.splice(a,1);break}return n}}),n.addValidateMethod=function(e){"array"==t.type(e)&&t.each(e,function(e,r){a.validator.addMethod(r,function(e,i){return this.optional(i)||n.is[r](e)})})},n.placeholder=function(){t(".ui-form").on("click",".placeholder",function(){t(this).hide().parent().children("input").trigger("focus")}).on("focus","input",function(){t(this).parent().children(".placeholder").hide()}).on("blur","input",function(){this.value||t(this).parent().children(".placeholder").show()}).find("input").trigger("focus")},n.randImage=function(e){{var r=t("undefined"==typeof e?"#randImage":e);t("#randCode")}r.length>0&&(r.click(function(){t(this).attr("src","/image.jsp?"+Math.random())}),t("#refreshCode").click(function(){t("#randImage").trigger("click")}))},n.tipfocus=function(e,r){var i=e[0].offsetWidth+e.parent().children(".ui-label").width()+10,a=2;return $poptip=e.parent().children(".ui-poptip"),/code/.test(e[0].className)&&(i+=e.nextAll("button")[0].offsetWidth),$poptip.length?void $poptip.show():void t('<div class="ui-poptip ui-poptip-orange ui-poptip-new" style="z-index: 99; position: absolute; left: '+i+"px; top:"+a+'px;"><div class="ui-poptip-container"><div class="ui-poptip-arrow ui-poptip-arrow-10"><em></em><span></span></div><div data-role="content" class="ui-poptip-content" style="width: auto; height: auto;"></div></div></div>').appendTo(e.parent("div")).find(".ui-poptip-content").html(r)},n.tipblur=function(e){e.parent().children(".ui-poptip").hide()},n.setPhone=function(e,r,i){function a(){var e=n.val(),r=s.val();e&&r?o.val(e+"-"+r).keyup():o.val("").keyup()}var n=t("#"+e),s=t("#"+r),o=t("#"+i),d=t("#"+i).val();d&&/-/.test(d)?(n.val(d.split("-")[0]),s.val(d.split("-")[1])):s.val(o.val()),n.add(s).bind("keyup",function(){a()
}),n.add(s).bind("blur",function(){a(),o.trigger("blur")}),o.css({height:"0px",width:"0px",border:"1px dashed #fff"}).show().keyup()},n.sendPhoneCode=function(e,r,i,a){function s(){if(!m.hasClass("ui-button-disabled")){var e=c.length?c.val():"";if(c.length&&!n.is.isMobile(c.val()))return void n.msg("#"+r,"请输入正确手机号","warn");if(p&&!p.valid())return void n.msg("#"+r,"请输入正确的图片验证码","warn");m.addClass("ui-button-disabled"),d=setInterval(function(){0>=l?(m.removeClass("ui-button-disabled").html(h),clearInterval(d),l=u,a&&a.onClear&&t.isFunction(a.onClear)&&a.onClear()):(m.html(l+"秒后重新获取"),l--)},1e3);var i={};p&&1===p.length&&(i.randomCode=p.val()),t.ajax({url:g+e,data:i,type:"POST",success:function(e){a&&a.onSuccess&&t.isFunction(a.onSuccess)&&a.onSuccess(),e.result?n.msg("#"+r,e.result,"warn"):e.message&&n.msg("#"+r,e.message,"warn")}})}}function o(){clearInterval(d),l=u}var d,u=30,l=u,c=t("undefined"==typeof e?"#phone":"#"+e);r="undefined"==typeof r?"getMobileCode":r;var m=t("#"+r),h=m.html(),g="undefined"==typeof i?"/sendPhoneCode.action?phone=":i,q=a.randcodeValidate,p=null;return q&&(p=t(q)),a.unDisabled?m.bind("click",function(){"disabled"!=t(this).attr("disabled")&&(a&&a.onStart&&t.isFunction(a.onStart)&&a.onStart(),s())}):m.removeAttr("disabled").html(h).unbind("click").bind("click",function(e){e.preventDefault(),a&&a.onStart&&t.isFunction(a.onStart)&&a.onStart(),s()}),{send:s,clear:o}},n.notRequired=function(e){e.find(":text,[type='password'],[type='checkbox'],[type='radio'],[type='file'],select,textarea").each(function(){t(this).data("required","false")})},n.removeRequired=function(e){e.find(":text,[type='password'],[type='checkbox'],[type='radio'],[type='file'],select,textarea").each(function(){t(this).removeData("required")})},n.init=function(){},t.validator.prototype.checkForm=function(){this.prepareForm();for(var e=0,r=this.currentElements=this.elements();r[e];e++)if(this.findByName(r[e].name).length&&this.findByName(r[e].name).length>1)for(var i=0;i<this.findByName(r[e].name).length;i++)this.check(this.findByName(r[e].name)[i]);else this.check(r[e]);return this.valid()},function(e){if(document.all&&!document.querySelector&&e.fn.validate){var r=e.fn.validate,i=Array.prototype.slice;e.fn.validate=function(){var e=i.call(arguments,0),t=this.attr;return this.attr=function(){var e=i.call(arguments,0);return e.length>1&&"novalidate"===e[0]?this:t.apply(this,e)},r.apply(this,e)}}}(a);var s={success:function(e){e.addClass("valid")},highlight:function(e){t(e).removeClass("input-bg-gray").addClass("input-bg-red").addClass("error");var r=t(e).siblings(".icon"),i=r.attr("class");if(i&&/gray/.test(i)){var a=i.match(/input-icon-(.*)-gray/);r.removeClass(a[0]).addClass("input-icon-"+a[1]+"-red")}},unhighlight:function(e){t(e).removeClass("input-bg-red error").addClass("input-bg-gray");var r=t(e).siblings(".icon"),i=r.attr("class");if(i&&/red/.test(i)){var a=i.match(/input-icon-(.*)-red/);r.removeClass(a[0]).addClass("input-icon-"+a[1]+"-gray")}}},o={showErrors:function(){var e,r;for(e=0;this.errorList[e];e++){var i=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);break}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,r=this.validElements();r[e];e++)this.settings.unhighlight.call(this,r[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()}};n.ui={init:function(){t("input[type='checkbox']").each(function(){var e=t(this),r=e.prop("checked");$wrap=t("<span class='ui-select j-checkbox'></span>").on("click",function(r){"SPAN"==r.target.nodeName&&(e.prop("checked")?t(this).removeClass("j-checked"):t(this).addClass("j-checked"),e.trigger("click"))}),r&&$wrap.addClass("j-checked"),e.wrap($wrap)})},partInit:function(e){t("input[type='checkbox']",e).each(function(){var e=t(this),r=e.prop("checked");$wrap=t("<span class='ui-select j-checkbox'></span>").on("click",function(r){"SPAN"==r.target.nodeName&&(e.prop("checked")?t(this).removeClass("j-checked"):t(this).addClass("j-checked"),e.trigger("click"))}),r&&$wrap.addClass("j-checked"),e.wrap($wrap)})}},n.validate=function(e){var r,i,a,d={};i={name:null,target:"form",fieldArr:[],validateMethodArr:[],validateData:{},tip:{},showTip:!1,inputTheme:!1,before:function(){}};var u=function(e,r,i){var t={},a=0,n=r.length;for(a;n>a;a++)for(var s in e)if(r[a].name==s){t[s]=i&&"function"==typeof i?i.apply(this,[s,e[s],r[a],e]):e[s],delete e[s];break}return t};if(i=t.extend(i,e),r=t(i.target),i.tip=t.extend(n.tip,i.tip),i.name=i.name||r.data("name"),!i.name)throw"name is empty";if("array"==t.type(i.fieldArr)&&r.find("input[type='text'],input[type='password'],input[type='checkbox'],input[type='radio'],input[type='file'],select,textarea").each(function(){var e=t(this),r=e.data("is"),a=e.attr("name"),s={};if(r&&(r=t.trim(r).split(/\s+/)),r&&r.length)for(var o=0,d=r.length;d>o;o++)i.validateMethodArr.push(r[o]);a&&(s.name=a,"false"==e.data("required")?s.required=!1:"true"==e.data("required")&&(s.required=!0),s.label=e.parent().children(".ui-label").text().replace("*",""),i.fieldArr.push(s)),i.showTip&&t.each(i.tip,function(r,i){return i&&a==r?(e.focus(function(){n.tipfocus(e,i)}).blur(function(){n.tipblur(e)}),!1):void 0})}),a=i.fieldArr.length,!a)throw"fieldArr is empty";return i.validateData=t.extend(n.validateData,i.validateData),t.each(i.validateData,function(e,r){d[e]="rules"==e?u(r[i.name],i.fieldArr,function(e,r,i){return(i.required||i.required===!1)&&(r.required=!!i.required),r}):"messages"==e?u(r[i.name],i.fieldArr,function(e,r,i){return r.required==n.err.required&&(r.required=i.label+n.err.required),r}):r}),n.addValidateMethod(i.validateMethodArr),t(".placeholder").length&&n.placeholder(),i.before.call(this,n,r),i.inputTheme&&(d=t.extend(s,d)),i.showSingleError&&(d=t.extend(o,d)),r.validate(d)},i.exports=n});
;define("common:widget/oui/lib/simplePagination/1.5.0/simplePagination",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){var a=e("common:widget/oui/lib/jquery/1.9.1/jquery"),t={init:function(e){var i=a.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"上一页",nextText:"下一页",ellipseText:"&hellip;",cssStyle:"light-theme",selectOnClick:!0,onPageClick:function(){},onInit:function(){}},e||{}),n=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage-1,i.halfDisplayed=i.displayedPages/2,this.each(function(){n.addClass(i.cssStyle+" simple-pagination").data("pagination",i),t._draw.call(n)}),i.onInit(),this},selectPage:function(e){return t._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.currentPage>0&&t._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.currentPage<e.pages-1&&t._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},redraw:function(){return t._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),t._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),t._draw.call(this),this},_draw:function(){var e,i=this.data("pagination"),n=t._getInterval(i);t.destroy.call(this);var s="UL"===this.prop("tagName")?this:a("<ul></ul>").appendTo(this);if(i.prevText&&t._appendItem.call(this,i.currentPage-1,{text:i.prevText,classes:"prev"}),n.start>0&&i.edges>0){var l=Math.min(i.edges,n.start);for(e=0;l>e;e++)t._appendItem.call(this,e);i.edges<n.start&&n.start-i.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):n.start-i.edges==1&&t._appendItem.call(this,i.edges)}for(e=n.start;e<n.end;e++)t._appendItem.call(this,e);if(n.end<i.pages&&i.edges>0){i.pages-i.edges>n.end&&i.pages-i.edges-n.end!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-n.end==1&&t._appendItem.call(this,n.end++);var r=Math.max(i.pages-i.edges,n.end);for(e=r;e<i.pages;e++)t._appendItem.call(this,e)}i.nextText&&t._appendItem.call(this,i.currentPage+1,{text:i.nextText,classes:"next"})},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(e,i){var n,s,l=this,r=l.data("pagination"),p=a("<li></li>"),d=l.find("ul");e=0>e?0:e<r.pages?e:r.pages-1,n=a.extend({text:e+1,classes:""},i||{}),e==r.currentPage||r.disabled?(p.addClass(r.disabled?"disabled":"active"),s=a('<span class="current">'+n.text+"</span>")):(s=a('<a href="'+r.hrefTextPrefix+(e+1)+r.hrefTextSuffix+'" class="page-link">'+n.text+"</a>"),s.click(function(a){return t._selectPage.call(l,e,a)})),n.classes&&s.addClass(n.classes),p.append(s),d.length?d.append(p):l.append(p)},_selectPage:function(e,a){var i=this.data("pagination");return i.currentPage=e,i.selectOnClick&&t._draw.call(this),i.onPageClick(e+1,a)}};a.fn.pagination=function(e){return t[e]&&"_"!=e.charAt(0)?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void a.error("Method "+e+" does not exist on jQuery.pagination"):t.init.apply(this,arguments)}});
;define("common:widget/oui/widgets/list",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/lib/simplePagination/1.5.0/simplePagination"],function(t,e,i){var a=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=t("common:widget/oui/common"),s=t("common:widget/oui/protocol");t("common:widget/oui/lib/simplePagination/1.5.0/simplePagination"),DEFAULT_DELAY=750;var r=function(t,e){a.extend(this,{conf:t,activeClass:t.activeClass,delay:t.delay||DEFAULT_DELAY,container:t.container,checkboxTrigger:t.checkboxTrigger,isMultiterm:t.isMultiterm||!1,categoryTag:t.categoryTag||".category-tag",changed:t.changed,switcher:".ui-filter-switcher",status:null,list:e,timer:null})};a.extend(r.prototype,{init:function(){return this.initTags(),this.initSwitcher(),this.loadStatus(),this},getParams:function(){var t=this,e=arguments.callee.getRowValue;void 0===e&&(e=function(t,e){var i=[];return 0===t.length?"boolean"==e?"false":"":(t.each(function(t,e){var a=e.value;"all"==a&&(a=""),i.push(a)}),"boolean"==e?"true":i.join(","))});for(var i,n=function(){var e=[],i=t.container.find("ul.category");return i.each(function(){e.push(a(this).data("category"))}),e}(),s=0,r={};s<n.length;s++)i=e(a("input[name="+n[s]+"][checked=checked]")),""!==i&&(r[n[s]]=i);return r},loadStatus:function(){var t=this.getParams(),e=a.param(t);null!==this.status&&this.status!==e&&this.changed(this.list,t),this.status=e},initSwitcher:function(){var t=this;a(t.switcher).click(function(){t.isMultiterm?(a(this).removeClass("active"),t.isMultiterm=!1,t.container.find("li.all").click()):(a(this).addClass("active"),t.isMultiterm=!0)})},activate:function(t){t.addClass("active"),t.children("input").attr("checked","checked")},deactivate:function(t){t.removeClass("active"),t.children("input").removeAttr("checked")},initTags:function(){var t=this;a(t.categoryTag).click(function(){var e=a(this),i=e.siblings("li.all");t.isMultiterm&&!e.hasClass("all")?e.hasClass("active")?(0===e.siblings(".active").length&&t.activate(i),t.deactivate(e)):(i.hasClass("active")&&t.deactivate(i),t.activate(e)):(t.deactivate(e.siblings()),t.activate(e)),t.timer&&window.clearTimeout(t.timer),t.timer=window.setTimeout(function(){t.loadStatus()},t.delay)})}});var o=function(t,e){a.extend(this,{list:e,id:t.id,clicked:t.clicked||function(){},delay:t.delay||DEFAULT_DELAY,_timer:null,_status:{sortable:{},filterable:{}},_ui:{}})};a.extend(o.prototype,{init:function(){return this.update(),this},_clicked:function(){var t=this;t._timer&&window.clearTimeout(t._timer),t._timer=window.setTimeout(function(){t.clicked(t.list)},t.delay)},render2:function(){var t=this,e=this._ui;a.each(e.sortable,function(e,i){var n=a(i),s=n.attr("name");t._status.sortable.orderBy==s&&(n.addClass(t._status.sortable.order),n.hasClass("asc")||n.hasClass("desc"))}),a.each(e.filterable,function(e,i){var n=a(i),s=n.data("name");t._status.filterable[s]&&n.addClass(t._status.filterable[s])})},update:function(){var t=this,e=this._ui,i=a(this.id);e.sortable=i.children(".ui-list-title-sortable"),e.sortable.length<1&&(e.sortable=i.find(".ui-list-title-sortable")),e.filterable=i.children(".ui-list-title-filterable"),this.render2(),e.sortable.unbind("click").bind("click",function(e){e.stopPropagation();var i=a(this),n=i.attr("name"),s=i.attr("next");if(-1==s)return!1;var r=t._status.sortable;if(i.siblings(".ui-list-title-sortable").removeClass("asc").removeClass("desc"),r.orderBy=n,"REFRESH"!=n){if(i.hasClass("desc")||i.hasClass("asc")){var o="asc"==s?"desc":"asc";i.hasClass(s)?(i.removeClass(s),i.addClass(o),r.order=o):(i.removeClass(o),i.addClass(s),r.order=s)}else i.addClass(s),r.order=s;i.hasClass("asc")||i.hasClass("desc")}else i.removeClass("asc").removeClass("desc"),r.order="";t._clicked()}),e.filterable.click(function(){var e=a(this),i=e.data("name"),n=t._status.filterable;e.hasClass("checked")?(e.removeClass("checked"),n[i]=""):(e.addClass("checked"),n[i]="checked"),t._clicked()})},getParams:function(){var t,e,i,n={},s=this._ui.sortable;for(t=0;t<s.length;t++)e=a(s[t]),i=e.attr("name"),e.hasClass("asc")?(n.orderBy=i,n.order="ASC"):e.hasClass("desc")&&(n.orderBy=i,n.order="DESC");var r=this._ui.filterable;for(t=0;t<r.length;t++)e=a(r[t]),i=e.data("name"),e.hasClass("checked")&&(n[i]=!0);return n}});var l=function(t,e){a.extend(this,{list:e,container:t.container,clicked:t.clicked||function(){},_count:null,_index:null})};a.extend(l.prototype,{init:function(t,e){return this.update(t,e),this},update:function(t,e){if(e!=this._count||t!=this._index){if(this.container.empty(),this._count=e,this._index=t,1>=e)return;var i=this;this.container.pagination({cssStyle:"ui-pagination",pages:e,currentPage:t,onPageClick:function(t){i.clicked(i.list,t)}})}}});var c=function(t){a.extend(this,{name:t.name,api:t.api,hasFilter:t.filter,hasHeader:t.header,hasMore:t.more,hasPagination:t.pagination,rendered:t.rendered||function(){},delay:t.delay||DEFAULT_DELAY,container:t.container||a("#"+t.name),template:t.template||a("#"+t.name+"-template"),templateForItem:t.templateForItem||a("#"+t.name+"-item-template"),renderMode:t.renderMode,_params:t.params||{},_filter:null,_header:null,_isLoading:!1,isNeedLoading:t.isNeedLoading?!1:!0})};a.extend(c.prototype,{init:function(t){if(this.isNeedLoading&&this.startLoading(),this.hasFilter&&this._initFilter(),t){var e=0,i=0;t.data&&(t.data=s.translator.translate(this.api,t.data),e=t.data.pageIndex,i=t.data.pageCount),this.render(t),this.hasHeader&&this._initHeader(),this.hasPagination&&this._initPagination(e,i)}return this.stopLoading(),this},_initFilter:function(){var t=this.hasFilter;"boolean"==typeof this.hasFilter&&(t={container:a("#"+this.name+"-filter"),changed:function(t,e){var i=t.getParams(!0);a.extend(i,e),t._update(i)}}),this._filter=new r(t,this).init()},_initHeader:function(){var t=this.hasHeader;"boolean"==typeof t&&(t={id:"#"+this.name+"-header",clicked:function(t){t._update(t.getParams())}}),this._header=new o(t,this).init()},_initPagination:function(t,e){var i=this.hasPagination;"boolean"==typeof i&&(i={container:a("#"+this.name+"-pagination"),clicked:function(t,e){var i=t.getParams();i.pageIndex=e,t._update(i)}}),this._pagination=new l(i,this).init(t,e)},_update:function(t,e){if(this.api){var i=this;i.isNeedLoading&&i.startLoading(),s[this.api](t,function(t,a,n){i.render({status:t,message:a,data:n}),i.stopLoading(),e&&e(t,a,n)})}},getParams:function(t,e){var i=jQuery.extend(!0,{},this._params);return this.hasFilter&&!t&&a.extend(i,this._filter.getParams()),this.hasHeader&&!e&&a.extend(i,this._header.getParams()),i},render:function(t){var e=t.data;e._hasHeader=this.hasHeader,e._hasMore=this.hasMore,0!==t.status&&(e._message=t.message);var i=n.fillTemplate({data:e,template:this.template});this.container.html(i),this.hasHeader&&(this._header?this._header.update():this._initHeader()),this.hasPagination&&(this._pagination?this._pagination.update(e.pageIndex,e.pageCount):this._initPagination(e.pageIndex,e.pageCount)),this.rendered(t)},add:function(t,e,i){var a=i||this.templateForItem,s=n.fillTemplate({data:t,template:a});if(e){var r=this.container.children(".ui-list-header");r.length>0?r.after(s):this.container.prepend(s)}else{var o=this.container.children(".ui-list-more");o.length>0?o.before(s):this.container.append(s)}var l=this.container.children(".ui-list-status");l.length>0&&l.remove()},startLoading:function(){this._isLoading=!0,0===this.container.children("li.ui-list-loading").length&&this.container.append('<li class="ui-list-loading" style="display: none;"></li>'),this.container.children("li.ui-list-loading").show()},stopLoading:function(){this._isLoading=!1,this.container.children("li.ui-list-loading").hide()}}),i.exports=c});
;define("common:widget/oui/widgets/tab",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,i,e){var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=function(t){n.extend(this,{name:t.name,tabs:t.tabsContainer||n("#"+t.name+"-tab"),contents:t.contentsContainer||n("#"+t.name+"-tab-content"),switched:t.switched||function(){},clicked:t.clicked||function(){},_current:null}),this.tabItems=this.tabs.find(".ui-tab-item"),this.contentItems=this.contents.find(".ui-tab-content"),this.ui={};var i=this;n.each(this.tabItems,function(t,e){var a=n(e);name=a.data("name"),i.ui[name]||(i.ui[name]={}),i.ui[name].tab=a,i.ui[name].initialized=!1}),n.each(this.contentItems,function(t,e){var a=n(e);name=a.data("name"),i.ui[name].content=a})};n.extend(a.prototype,{init:function(){this._current=this.getName(this.tabs.find(".ui-tab-item-current")),this.ui[this._current].initialized=!0;var t=this;this.tabItems.click(function(){var i=t._current,e=t.getName(n(this));if(t._current=e,t.clicked(e,t.ui[e].initialized),i!=e){t.ui[i].tab.removeClass("ui-tab-item-current"),t.ui[i].content.removeClass("ui-tab-content-current"),t.ui[e].tab.addClass("ui-tab-item-current"),t.ui[e].content.addClass("ui-tab-content-current");var a=t.switched(i,e,t.ui[e].initialized);t.ui[e].initialized=a}})},getName:function(t){return t.data("name")}}),e.exports=a});
;define("common:widget/oui/widgets/slider",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e,a,n){var s=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=function(e){function a(){u.each(function(e){var a=e+1,n=u.eq(e).data("background");n=n.replace(/url\(/,"").replace(/\) no-repeat 50\% 50\%/,""),s('<li><a href="#">'+a+"</a></li>").appendTo(g),f.push(n)}),u.eq(c).show(),e.target.parent().css("background","none"),g.find("li").eq(c).addClass(e.curClass)}function n(){s(e.target).find("li").hover(function(){clearInterval(o)},l),g.find("li").on("click",function(a){c=s(this).index(),t(c),s(this).addClass(e.curClass).siblings().removeClass(e.curClass),u.eq(c).fadeIn("slow").siblings().fadeOut("slow"),a.preventDefault(),clearInterval(o),i(c),l()})}function i(a){t(a),e.targetNav.find("li").eq(a).addClass(e.curClass).siblings().removeClass(e.curClass),u.eq(a).fadeIn("slow").siblings().fadeOut("slow")}function l(){o=setInterval(function(){i(c),c++,c>=g.find("li").length&&(c=0),t(c),u.eq(c).fadeIn().siblings().fadeOut(),g.find("li").eq(c).addClass(e.curClass).siblings().removeClass(e.curClass)},e.delay)}function t(e){var a=u.eq(e);a.data("isLoadImg")||a.data("isLoadImg",!0).css("background","url("+f[e]+") no-repeat 50% 50%")}function r(e){if(e++,e!=u.length+1){var a=new Image;a.src=f[e-1],a.onload=function(){r(e)}}}function d(){a(),n(),i(c),r(0),t(c),l()}e=s.extend({target:s("#slides"),targetNav:s("#slider_nav"),curIndex:0,delay:5e3,curClass:"active"},e);var o,u=e.target.find("li"),c=(u.length,e.curIndex),f=[],g=s("<ul>").addClass("slider-nav-pointer").appendTo(e.targetNav);d()};n.exports=i});
;define("common:widget/oui/widgets/goTop",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(o,e,i){var n=o("common:widget/oui/lib/jquery/1.9.1/jquery");i.exports=function(o){function e(){var o=(n(window).width()-960)/2;o>0&&i.css("left",960+o+20+"px")}o=n.extend({elem:".ui-goTop"},{},o);var i=n(o.elem);i.on("click",function(){return n("body,html").animate({scrollTop:0},800),!1}).hide(),n(window).scroll(function(){n(this).scrollTop()>200?i.fadeIn():i.fadeOut()}).resize(function(){e()}),e()}});
;define("common:widget/oui/widgets/pswLevel",function(e,t,n){var g=function(e){var t,n=e.match(/\d/g),g=e.match(/[a-z]/g),h=e.match(/[A-Z]/g),c=e.match(/[!%#$\^*~.&]/g),l=e.length,a=n?n.length:0,o=g?g.length:0,i=h?h.length:0,m=c?c.length:0,r=!1,d=!1,s=!1,u=!1,v=0,f={};return 6>=l&&l>=8?v+=10:l>8&&(v+=25),o>0&&i>0?(d=!0,r=!0,v+=20):(o||i)&&(r=!0,v+=10),a>=1&&2>=a?(s=!0,v+=10):a>=3&&(s=!0,v+=20),1==m?(u=!0,v+=10):m>1&&(u=!0,v+=25),d&&s&&u?v+=10:r&&s&&u?v+=5:r&&s&&(v+=2),t=v>80?"强":v>=50&&80>=v?"中":"弱",f.score=v,f.level=t,f};n.exports=g});
;define("common:widget/oui/widgets/widgets",["require","exports","module","common:widget/oui/widgets/captcha","common:widget/oui/widgets/counter","common:widget/oui/widgets/form","common:widget/oui/widgets/list","common:widget/oui/widgets/tab","common:widget/oui/widgets/slider","common:widget/oui/widgets/goTop","common:widget/oui/widgets/pswLevel"],function(o,i,e){var t={};t.Captcha=o("common:widget/oui/widgets/captcha"),t.Counter=o("common:widget/oui/widgets/counter"),t.Form=o("common:widget/oui/widgets/form"),t.List=o("common:widget/oui/widgets/list"),t.Tab=o("common:widget/oui/widgets/tab"),t.Slider=o("common:widget/oui/widgets/slider"),t.GoTop=o("common:widget/oui/widgets/goTop"),t.pswLevel=o("common:widget/oui/widgets/pswLevel"),e.exports=t});
;define("common:widget/oui/components/latest-financial-plan",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(s,e,t){var n=s("common:widget/oui/lib/jquery/1.9.1/jquery"),i=s("common:widget/oui/widgets/widgets"),o=function(){};n.extend(o.prototype,{init:function(){var s=n("#counter");s.length>0&&s.is(":visible")&&(new i.Counter({container:s,start:s.data("now"),end:s.data("end"),daysStyle:"big",minDays:3,stopped:function(){n("#plan-status-presale").hide(),n("#plan-status-in-progress").show(),n("#plan-status-in-progress .plan-progress").hide(),n("#plan-status-in-progress .ui-progressbar-circle").show()}}).init(),n(".plan-status").hasClass("seconds")&&n(".ui-counter-text .suffix").text("开始预定")),n(".ui-plan-latest").hover(function(){n("#plan-status-in-progress .plan-progress").hide(),n("#plan-status-in-progress .ui-progressbar-circle").show()},function(){n("#plan-status-in-progress .ui-progressbar-circle").hide(),n("#plan-status-in-progress .plan-progress").show()})}}),t.exports=o});
;define("common:widget/oui/lib/highcharts/3.0.5/highcharts",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,e,i){var s=(t("common:widget/oui/lib/jquery/1.9.1/jquery"),{});!function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments.length,i={},s=function(t,e){var i,n;"object"!=typeof t&&(t={});for(n in e)e.hasOwnProperty(n)&&(i=e[n],t[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?s(t[n]||{},i):e[n]);return t};for(t=0;e>t;t++)i=s(i,arguments[t]);return i}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function o(t){return"object"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function a(t){return"number"==typeof t}function h(t){return ue.log(t)/ue.LN10}function l(t){return ue.pow(10,t)}function c(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function d(t){return t!==j&&null!==t}function p(t,e,i){var s,r;if(n(e))d(i)?t.setAttribute(e,i):t&&t.getAttribute&&(r=t.getAttribute(e));else if(d(e)&&o(e))for(s in e)t.setAttribute(s,e[s]);return r}function u(t){return r(t)?t:[t]}function g(){var t,e,i=arguments,s=i.length;for(t=0;s>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function f(e,i){Pe&&i&&i.opacity!==j&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function m(e,i,s,n,o){return e=de.createElement(e),i&&t(e,i),o&&f(e,{padding:0,border:Ge,margin:0}),s&&f(e,s),n&&n.appendChild(e),e}function x(e,i){var s=function(){};return s.prototype=new e,t(s.prototype,i),s}function y(t,e,s,n){var o=Z.lang,t=+t||0,r=-1===e?(t.toString().split(".")[1]||"").length:isNaN(e=ve(e))?2:e,e=void 0===s?o.decimalPoint:s,n=void 0===n?o.thousandsSep:n,o=0>t?"-":"",s=String(i(t=ve(t).toFixed(r))),a=s.length>3?s.length%3:0;return o+(a?s.substr(0,a)+n:"")+s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(r?e+ve(t-s).toFixed(r).slice(2):"")}function v(t,e){return Array((e||2)+1-String(t).length).join(0)+t}function b(t,e,i){var s=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(s),i.apply(this,t)}}function k(t,e){for(var i,s,n,o,r,a="{",h=!1,l=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),h){for(s=i.split(":"),n=s.shift().split("."),r=n.length,i=e,o=0;r>o;o++)i=i[n[o]];s.length&&(s=s.join(":"),n=/\.([0-9])/,o=Z.lang,r=void 0,/f$/.test(s)?(r=(r=s.match(n))?r[1]:-1,i=y(i,r,o.decimalPoint,s.indexOf(",")>-1?o.thousandsSep:"")):i=K(s,i))}l.push(i),t=t.slice(a+1),a=(h=!h)?"}":"{"}return l.push(t),l.join("")}function w(t){return ue.pow(10,fe(ue.log(t)/ue.LN10))}function T(t,e,i,s){var n,i=g(i,1);for(n=t/i,e||(e=[1,2,2.5,5,10],s&&s.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),s=0;s<e.length&&(t=e[s],!(n<=(e[s]+(e[s+1]||e[s]))/2));s++);return t*=i}function L(t,e){var i,s=e||[[Fe,[1,2,5,10,20,25,50,100,200,500]],[Ve,[1,2,5,10,15,30]],[je,[1,2,5,10,15,30]],[_e,[1,2,3,4,6,8,12]],[Ue,[1,2]],[Ze,[1,2]],[Ke,[1,2,3,4,6]],[qe,null]],n=s[s.length-1],o=J[n[0]],r=n[1];for(i=0;i<s.length&&(n=s[i],o=J[n[0]],r=n[1],!(s[i+1]&&t<=(o*r[r.length-1]+J[s[i+1][0]])/2));i++);return o===J[qe]&&5*o>t&&(r=[1,2,5]),o===J[qe]&&5*o>t&&(r=[1,2,5]),s=T(t/o,r,n[0]===qe?w(t/o):1),{unitRange:o,count:s,unitName:n[0]}}function S(e,i,s,n){var o,r=[],a={},h=Z.global.useUTC,l=new Date(i),c=e.unitRange,p=e.count;if(d(i)){c>=J[Ve]&&(l.setMilliseconds(0),l.setSeconds(c>=J[je]?0:p*fe(l.getSeconds()/p))),c>=J[je]&&l[re](c>=J[_e]?0:p*fe(l[te]()/p)),c>=J[_e]&&l[ae](c>=J[Ue]?0:p*fe(l[ee]()/p)),c>=J[Ue]&&l[he](c>=J[Ke]?1:p*fe(l[se]()/p)),c>=J[Ke]&&(l[le](c>=J[qe]?0:p*fe(l[ne]()/p)),o=l[oe]()),c>=J[qe]&&(o-=o%p,l[ce](o)),c===J[Ze]&&l[he](l[se]()-l[ie]()+g(n,1)),i=1,o=l[oe]();for(var n=l.getTime(),u=l[ne](),f=l[se](),m=h?0:(864e5+6e4*l.getTimezoneOffset())%864e5;s>n;)r.push(n),c===J[qe]?n=Q(o+i*p,0):c===J[Ke]?n=Q(o,u+i*p):h||c!==J[Ue]&&c!==J[Ze]?n+=c*p:n=Q(o,u,f+i*p*(c===J[Ue]?1:7)),i++;r.push(n),ni(oi(r,function(t){return c<=J[_e]&&t%J[Ue]===m}),function(t){a[t]=Ue})}return r.info=t(e,{higherRanks:a,totalRange:c*p}),r}function P(){this.symbol=this.color=0}function M(t,e){var i,s,n=t.length;for(s=0;n>s;s++)t[s].ss_i=s;for(t.sort(function(t,s){return i=e(t,s),0===i?t.ss_i-s.ss_i:i}),s=0;n>s;s++)delete t[s].ss_i}function A(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function C(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function D(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function I(t){U||(U=m(Ye)),t&&U.appendChild(t),U.innerHTML=""}function B(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;pe.console&&console.log(i)}function z(t){return parseFloat(t.toPrecision(14))}function O(t,e){q=g(t,e.animation)}function R(){var t=Z.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Q=t?Date.UTC:function(t,e,i,s,n,o){return new Date(t,e,g(i,1),g(s,0),g(n,0),g(o,0)).getTime()},te=e+"Minutes",ee=e+"Hours",ie=e+"Day",se=e+"Date",ne=e+"Month",oe=e+"FullYear",re=i+"Minutes",ae=i+"Hours",he=i+"Date",le=i+"Month",ce=i+"FullYear"}function H(){}function X(t,e,i,s){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!s&&this.addLabel()}function W(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}function E(t,e,i,s,n,o){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=s,this.total=null,this.points={},this.stack=n,this.percent="percent"===o,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:g(e.y,r?4:i?14:-6),x:g(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")}function Y(){this.init.apply(this,arguments)}function G(){this.init.apply(this,arguments)}function N(t,e){this.init(t,e)}function F(t,e){this.init(t,e)}function V(){this.init.apply(this,arguments)}var j,_,U,Z,K,q,$,J,Q,te,ee,ie,se,ne,oe,re,ae,he,le,ce,de=document,pe=window,ue=Math,ge=ue.round,fe=ue.floor,me=ue.ceil,xe=ue.max,ye=ue.min,ve=ue.abs,be=ue.cos,ke=ue.sin,we=ue.PI,Te=2*we/360,Le=navigator.userAgent,Se=pe.opera,Pe=/msie/i.test(Le)&&!Se,Me=8===de.documentMode,Ae=/AppleWebKit/.test(Le),Ce=/Firefox/.test(Le),De=/(Mobile|Android|Windows Phone)/.test(Le),Ie="http://www.w3.org/2000/svg",Be=!!de.createElementNS&&!!de.createElementNS(Ie,"svg").createSVGRect,ze=Ce&&parseInt(Le.split("Firefox/")[1],10)<4,Oe=!Be&&!Pe&&!!de.createElement("canvas").getContext,Re=de.documentElement.ontouchstart!==j,He={},Xe=0,We=function(){},Ee=[],Ye="div",Ge="none",Ne="rgba(192,192,192,"+(Be?1e-4:.002)+")",Fe="millisecond",Ve="second",je="minute",_e="hour",Ue="day",Ze="week",Ke="month",qe="year",$e="stroke-width",Je={};pe.Highcharts=pe.Highcharts?B(16,!0):{},K=function(e,i,n){if(!d(i)||isNaN(i))return"Invalid date";var o,e=g(e,"%Y-%m-%d %H:%M:%S"),r=new Date(i),a=r[ee](),h=r[ie](),l=r[se](),c=r[ne](),p=r[oe](),u=Z.lang,f=u.weekdays,r=t({a:f[h].substr(0,3),A:f[h],d:v(l),e:l,b:u.shortMonths[c],B:u.months[c],m:v(c+1),y:p.toString().substr(2,2),Y:p,H:v(a),I:v(a%12||12),l:a%12||12,M:v(r[te]()),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:v(r.getSeconds()),L:v(ge(i%1e3),3)},s.dateFormats);for(o in r)for(;-1!==e.indexOf("%"+o);)e=e.replace("%"+o,"function"==typeof r[o]?r[o](i):r[o]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},P.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},J=function(){for(var t=0,e=arguments,i=e.length,s={};i>t;t++)s[e[t++]]=e[t];return s}(Fe,1,Ve,1e3,je,6e4,_e,36e5,Ue,864e5,Ze,6048e5,Ke,26784e5,qe,31556952e3),$={init:function(t,e,i){var s,n,o,e=e||"",r=t.shift,a=e.indexOf("C")>-1,h=a?7:3,e=e.split(" "),i=[].concat(i),l=function(t){for(s=t.length;s--;)"M"===t[s]&&t.splice(s+1,0,t[s+1],t[s+2],t[s+1],t[s+2])};if(a&&(l(e),l(i)),t.isArea&&(n=e.splice(e.length-6,6),o=i.splice(i.length-6,6)),r<=i.length/h)for(;r--;)i=[].concat(i).splice(0,h).concat(i);if(t.shift=0,e.length)for(t=i.length;e.length<t;)r=[].concat(e).splice(e.length-h,h),a&&(r[h-6]=r[h-2],r[h-5]=r[h-1]),e=e.concat(r);return n&&(e=e.concat(n),i=i.concat(o)),[e,i]},step:function(t,e,i,s){var n=[],o=t.length;if(1===i)n=s;else if(o===e.length&&1>i)for(;o--;)s=parseFloat(t[o]),n[o]=isNaN(s)?t[o]:i*parseFloat(e[o]-s)+s;else n=e;return n}},function(e){pe.HighchartsAdapter=pe.HighchartsAdapter||e&&{init:function(t){var i,o=e.fx,r=o.step,a=e.Tween,h=a&&a.propHooks;i=e.cssHooks.opacity,e.extend(e.easing,{easeOutQuad:function(t,e,i,s,n){return-s*(e/=n)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,s,n=r;"cur"===e?n=o.prototype:"_default"===e&&a&&(n=h[e],e="set"),(i=n[e])&&(n[e]=function(n){return n=t?n:this,s=n.elem,s.attr?s.attr(n.prop,"cur"===e?j:n.now):i.apply(this,arguments)})}),b(i,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),i=function(e){var i,s=e.elem;e.started||(i=t.init(s,s.d,s.toD),e.start=i[0],e.end=i[1],e.started=!0),s.attr("d",t.step(e.start,e.end,e.pos,s.toD))},a?h.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,s=t.length;s>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i="Chart",o=arguments;return n(o[0])&&(i=o[0],o=Array.prototype.slice.call(o,1)),t=o[0],t!==j&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new s[i](t,o[1]),e=this),t===j&&(e=Ee[p(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],s=0,n=t.length;n>s;s++)i[s]=e.call(t[s],t[s],s,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,s){e(t).bind(i,s)},removeEvent:function(t,i,s){var n=de.removeEventListener?"removeEventListener":"detachEvent";de[n]&&t&&!t[n]&&(t[n]=function(){}),e(t).unbind(i,s)},fireEvent:function(i,s,n,o){var r,a=e.Event(s),h="detached"+s;!Pe&&n&&(delete n.layerX,delete n.layerY),t(a,n),i[s]&&(i[h]=i[s],i[s]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(r=!0)}}}),e(i).trigger(a),i[h]&&(i[s]=i[h],i[h]=null),o&&!a.isDefaultPrevented()&&!r&&o(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===j&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,s){var n=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),n.stop(),i.opacity!==j&&t.attr&&(i.opacity+="px"),n.animate(i,s)},stop:function(t){e(t).stop()}}}(pe.jQuery);var Qe=pe.HighchartsAdapter,ti=Qe||{};Qe&&Qe.init.call(Qe,$);var ei=ti.adapterRun,ii=ti.getScript,si=ti.inArray,ni=ti.each,oi=ti.grep,ri=ti.offset,ai=ti.map,hi=ti.addEvent,li=ti.removeEvent,ci=ti.fireEvent,di=ti.washMouseEvent,pi=ti.animate,ui=ti.stop,ti={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};Z={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(ti,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Be,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:De?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var gi=Z.plotOptions,Qe=gi.line;R();var fi=function(t){var s,n,o=[];return function(t){t&&t.stops?n=ai(t.stops,function(t){return fi(t[1])}):(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?o=[i(s[1]),i(s[2]),i(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?o=[i(s[1],16),i(s[2],16),i(s[3],16),1]:(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))&&(o=[i(s[1]),i(s[2]),i(s[3]),1])}(t),{get:function(i){var s;return n?(s=e(t),s.stops=[].concat(s.stops),ni(n,function(t,e){s.stops[e]=[s.stops[e][0],t.get(i)]})):s=o&&!isNaN(o[0])?"rgb"===i?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===i?o[3]:"rgba("+o.join(",")+")":t,s},brighten:function(t){if(n)ni(n,function(e){e.brighten(t)});else if(a(t)&&0!==t){var e;for(e=0;3>e;e++)o[e]+=i(255*t),o[e]<0&&(o[e]=0),o[e]>255&&(o[e]=255)}return this},rgba:o,setOpacity:function(t){return o[3]=t,this}}};H.prototype={init:function(t,e){this.element="span"===e?m(e):de.createElementNS(Ie,e),this.renderer=t,this.attrSetters={}},opacity:1,animate:function(t,i,s){i=g(i,q,!0),ui(this),i?(i=e(i),s&&(i.complete=s),pi(this,t,i)):(this.attr(t),s&&s())},attr:function(t,e){var s,o,r,a,h,l,c,u=this.element,f=u.nodeName.toLowerCase(),m=this.renderer,x=this.attrSetters,y=this.shadows,v=this;if(n(t)&&d(e)&&(s=t,t={},t[s]=e),n(t))s=t,"circle"===f?s={x:"cx",y:"cy"}[s]||s:"strokeWidth"===s&&(s="stroke-width"),v=p(u,s)||this[s]||0,"d"!==s&&"visibility"!==s&&(v=parseFloat(v));else{for(s in t)if(h=!1,o=t[s],r=x[s]&&x[s].call(this,o,s),r!==!1){if(r!==j&&(o=r),"d"===s)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===s&&"text"===f)for(r=0;r<u.childNodes.length;r++)a=u.childNodes[r],p(a,"x")===p(u,"x")&&p(a,"x",o);else if(!this.rotation||"x"!==s&&"y"!==s)if("fill"===s)o=m.color(o,u,s);else if("circle"!==f||"x"!==s&&"y"!==s)if("rect"===f&&"r"===s)p(u,{rx:o,ry:o}),h=!0;else if("translateX"===s||"translateY"===s||"rotation"===s||"verticalAlign"===s||"scaleX"===s||"scaleY"===s)h=c=!0;else if("stroke"===s)o=m.color(o,u,s);else if("dashstyle"===s){if(s="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ge;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),r=o.length;r--;)o[r]=i(o[r])*g(t["stroke-width"],this["stroke-width"]);o=o.join(",")}}else"width"===s?o=i(o):"align"===s?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===s&&(r=u.getElementsByTagName("title")[0],r||(r=de.createElementNS(Ie,"title"),u.appendChild(r)),r.textContent=o);else s={x:"cx",y:"cy"}[s]||s;else c=!0;if("strokeWidth"===s&&(s="stroke-width"),("stroke-width"===s||"stroke"===s)&&(this[s]=o,this.stroke&&this["stroke-width"]?(p(u,"stroke",this.stroke),p(u,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===s&&0===o&&this.hasStroke&&(u.removeAttribute("stroke"),this.hasStroke=!1),h=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(l||(this.symbolAttr(t),l=!0),h=!0),y&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s))for(r=y.length;r--;)p(y[r],s,"height"===s?xe(o-(y[r].cutHeight||0),0):o);("width"===s||"height"===s)&&"rect"===f&&0>o&&(o=0),this[s]=o,"text"===s?(o!==this.textStr&&delete this.bBox,this.textStr=o,this.added&&m.buildText(this)):h||p(u,s,o)}c&&this.updateTransform()}return v},addClass:function(t){var e=this.element,i=p(e,"class")||"";return-1===i.indexOf(t)&&p(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;ni("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=g(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ge)},crisp:function(t,e,i,s,n){var o,r,a={},h={},t=t||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;r=ge(t)%2/2,h.x=fe(e||this.x||0)+r,h.y=fe(i||this.y||0)+r,h.width=fe((s||this.width||0)-2*r),h.height=fe((n||this.height||0)-2*r),h.strokeWidth=t;for(o in h)this[o]!==h[o]&&(this[o]=a[o]=h[o]);return a},css:function(e){var i,s=this.element,n=e&&e.width&&"text"===s.nodeName.toLowerCase(),o="",r=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),this.styles=e=t(this.styles,e),Oe&&n&&delete e.width,Pe&&!Be)n&&delete e.width,f(this.element,e);else{for(i in e)o+=i.replace(/([A-Z])/g,r)+":"+e[i]+";";p(s,"style",o)}return n&&this.added&&this.renderer.buildText(this),this},on:function(t,e){var i=this.element;return Re&&"click"===t&&(i.ontouchstart=function(t){t.preventDefault(),e.call(i,t)}),i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(e){var i=this.element;return(i=e&&"SPAN"===i.tagName&&e.width)&&(delete e.width,this.textWidth=i,this.updateTransform()),this.styles=t(this.styles,e),f(this.element,e),this},htmlGetBBox:function(){var t=this.element,e=this.bBox;return e||("text"===t.nodeName&&(t.style.position="absolute"),e=this.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),e},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,s=this.translateX||0,n=this.translateY||0,o=this.x||0,r=this.y||0,a=this.textAlign||"left",h={left:0,center:.5,right:1}[a],l=a&&"left"!==a,c=this.shadows;if(f(e,{marginLeft:s,marginTop:n}),c&&ni(c,function(t){f(t,{marginLeft:s+1,marginTop:n+1})}),this.inverted&&ni(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var p,u,m,c=this.rotation;p=0;var x,y=1,v=0;m=i(this.textWidth);var b=this.xCorr||0,k=this.yCorr||0,w=[c,a,e.innerHTML,this.textWidth].join(",");w!==this.cTT&&(d(c)&&(p=c*Te,y=be(p),v=ke(p),this.setSpanRotation(c,v,y)),p=g(this.elemWidth,e.offsetWidth),u=g(this.elemHeight,e.offsetHeight),p>m&&/[ \-]/.test(e.textContent||e.innerText)&&(f(e,{width:m+"px",display:"block",whiteSpace:"normal"}),p=m),m=t.fontMetrics(e.style.fontSize).b,b=0>y&&-p,k=0>v&&-u,x=0>y*v,b+=v*m*(x?1-h:h),k-=y*m*(c?x?h:1-h:1),l&&(b-=p*h*(0>y?-1:1),c&&(k-=u*h*(0>v?-1:1)),f(e,{textAlign:a})),this.xCorr=b,this.yCorr=k),f(e,{left:o+b+"px",top:r+k+"px"}),Ae&&(u=e.offsetHeight),this.cTT=w}}else this.alignOnAdd=!0},setSpanRotation:function(t){var e={};e[Pe?"-ms-transform":Ae?"-webkit-transform":Ce?"MozTransform":Se?"-o-transform":""]=e.transform="rotate("+t+"deg)",f(this.element,e)},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,s=this.scaleY,n=this.inverted,o=this.rotation;n&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],n?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(this.x||0)+" "+(this.y||0)+")"),(d(i)||d(s))&&t.push("scale("+g(i,1)+" "+g(s,1)+")"),t.length&&p(this.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var s,o,r,a,h={};return o=this.renderer,r=o.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||n(i))&&(this.alignTo=s=i||"renderer",c(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),i=g(i,o[s],o),s=t.align,o=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===s||"center"===s)&&(r+=(i.width-(t.width||0))/{right:1,center:2}[s]),h[e?"translateX":"x"]=ge(r),("bottom"===o||"middle"===o)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),h[e?"translateY":"y"]=ge(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(){var e,i=this.bBox,s=this.renderer,n=this.rotation;e=this.element;var o=this.styles,r=n*Te;if(!i){if(e.namespaceURI===Ie||s.forExport){try{i=e.getBBox?t({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight}}catch(a){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();s.isSVG&&(s=i.width,e=i.height,Pe&&o&&"11px"===o.fontSize&&"22.7"===e.toPrecision(3)&&(i.height=e=14),n&&(i.width=ve(e*ke(r))+ve(s*be(r)),i.height=ve(e*be(r))+ve(s*ke(r)))),this.bBox=i}return i},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,s=this.renderer,n=t||s,o=n.element||s.box,r=o.childNodes,a=this.element,h=p(a,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),h&&(n.handleZ=!0,h=i(h)),n.handleZ)for(n=0;n<r.length;n++)if(t=r[n],s=p(t,"zIndex"),t!==a&&(i(s)>h||!d(h)&&d(s))){o.insertBefore(a,t),e=!0;break}return e||o.appendChild(a),this.added=!0,ci(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,s=i.element||{},n=i.shadows,o=i.renderer.isSVG&&"SPAN"===s.nodeName&&s.parentNode;if(s.onclick=s.onmouseout=s.onmouseover=s.onmousemove=s.point=null,ui(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(s),n&&ni(n,function(t){i.safeRemoveChild(t)});o&&0===o.childNodes.length;)s=o.parentNode,i.safeRemoveChild(o),o=s;i.alignTo&&c(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var s,n,o,r,a,h,l=[],c=this.element;if(t){for(r=g(t.width,3),a=(t.opacity||.15)/r,h=this.parentInverted?"(-1,-1)":"("+g(t.offsetX,1)+", "+g(t.offsetY,1)+")",s=1;r>=s;s++)n=c.cloneNode(0),o=2*r+1-2*s,p(n,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*s,"stroke-width":o,transform:"translate"+h,fill:Ge}),i&&(p(n,"height",xe(p(n,"height")-o,0)),n.cutHeight=o),e?e.element.appendChild(n):c.parentNode.insertBefore(n,c),l.push(n);this.shadows=l}return this}};var mi=function(){this.init.apply(this,arguments)};mi.prototype={Element:H,init:function(t,e,i,s){var n,o,r=location;n=this.createElement("svg").attr({version:"1.1"}),o=n.element,t.appendChild(o),-1===t.innerHTML.indexOf("xmlns")&&p(o,"xmlns",Ie),this.isSVG=!0,this.box=o,this.boxWrapper=n,this.alignedObjects=[],this.url=(Ce||Ae)&&de.getElementsByTagName("base").length?r.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(de.createTextNode("Created with Highcharts 3.0.5")),this.defs=this.createElement("defs").add(),this.forExport=s,this.gradients={},this.setSize(e,i,!1);var a;Ce&&t.getBoundingClientRect&&(this.subPixelFix=e=function(){f(t,{left:0,top:0}),a=t.getBoundingClientRect(),f(t,{left:me(a.left)-a.left+"px",top:me(a.top)-a.top+"px"})},e(),hi(pe,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),D(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.subPixelFix&&li(pe,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,s=this,n=s.forExport,o=g(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),r=e.childNodes,a=/style="([^"]+)"/,h=/href="(http[^"]+)"/,l=p(e,"x"),c=t.styles,d=c&&c.width&&i(c.width),u=c&&c.lineHeight,m=r.length;m--;)e.removeChild(r[m]);d&&!t.added&&this.box.appendChild(e),""===o[o.length-1]&&o.pop(),ni(o,function(i,o){var r,g=0,i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");r=i.split("|||"),ni(r,function(i){if(""!==i||1===r.length){var m,x={},y=de.createElementNS(Ie,"tspan");if(a.test(i)&&(m=i.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),p(y,"style",m)),h.test(i)&&!n&&(p(y,"onclick",'location.href="'+i.match(h)[1]+'"'),f(y,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==i&&(y.appendChild(de.createTextNode(i)),g?x.dx=0:x.x=l,p(y,x),!g&&o&&(!Be&&n&&f(y,{display:"block"}),p(y,"dy",u||s.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:c.fontSize).h,Ae&&y.offsetHeight)),e.appendChild(y),g++,d))for(var v,i=i.replace(/([^\^])-/g,"$1- ").split(" "),b=[];i.length||b.length;)delete t.bBox,v=t.getBBox().width,x=v>d,x&&1!==i.length?(y.removeChild(y.firstChild),b.unshift(i.pop())):(i=b,b=[],i.length&&(y=de.createElementNS(Ie,"tspan"),p(y,{dy:u||16,x:l}),m&&p(y,"style",m),e.appendChild(y),v>d&&(d=v))),i.length&&y.appendChild(de.createTextNode(i.join(" ").replace(/- /g,"-")))}})})},button:function(i,s,n,o,r,a,h,l){var c,d,p,u,g,f,m=this.label(i,s,n,null,null,null,null,null,"button"),x=0,i={x1:0,y1:0,x2:0,y2:1},r=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:i,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return p=r.style,delete r.style,a=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),u=a.style,delete a.style,h=e(r,{stroke:"#68A",fill:{linearGradient:i,stops:[[0,"#9BD"],[1,"#CDF"]]}},h),g=h.style,delete h.style,l=e(r,{style:{color:"#CCC"}},l),f=l.style,delete l.style,hi(m.element,Pe?"mouseover":"mouseenter",function(){3!==x&&m.attr(a).css(u)}),hi(m.element,Pe?"mouseout":"mouseleave",function(){3!==x&&(c=[r,a,h][x],d=[p,u,g][x],m.attr(c).css(d))}),m.setState=function(t){(m.state=x=t)?2===t?m.attr(h).css(g):3===t&&m.attr(l).css(f):m.attr(r).css(p)},m.on("click",function(){3!==x&&o.call(m)}).attr(r).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ge(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ge(t[2])+e%2/2),t},path:function(e){var i={fill:Ge};return r(e)?i.d=e:o(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){return t=o(t)?t:{x:t,y:e,r:i},this.createElement("circle").attr(t)},arc:function(t,e,i,s,n,r){return o(t)&&(e=t.y,i=t.r,s=t.innerR,n=t.start,r=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:s||0,start:n||0,end:r||0}),t.r=i,t},rect:function(t,e,i,s,n,r){return n=o(t)?t.r:n,n=this.createElement("rect").attr({rx:n,ry:n,fill:Ge}),n.attr(o(t)?t:n.crisp(r,t,e,xe(i,0),xe(s,0)))},setSize:function(t,e,i){var s=this.alignedObjects,n=s.length;for(this.width=t,this.height=e,this.boxWrapper[g(i,!0)?"animate":"attr"]({width:t,height:e});n--;)s[n].align()},g:function(t){var e=this.createElement("g");return d(t)?e.attr({"class":"highcharts-"+t}):e},image:function(e,i,s,n,o){var r={preserveAspectRatio:Ge};return arguments.length>1&&t(r,{x:i,y:s,width:n,height:o}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,i,s,n,o,r){var a,h,l,c=this.symbols[e],c=c&&c(ge(i),ge(s),n,o,r),d=/^url\((.*?)\)$/;return c?(a=this.path(c),t(a,{symbolName:e,x:i,y:s,width:n,height:o}),r&&t(a,r)):d.test(e)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ge((n-e[0])/2),ge((o-e[1])/2)))},h=e.match(d)[1],e=He[h],a=this.image(h).attr({x:i,y:s}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),m("img",{onload:function(){l(a,He[h]=[this.width,this.height])},src:h}))),a},symbols:{circle:function(t,e,i,s){var n=.166*i;return["M",t+i/2,e,"C",t+i+n,e,t+i+n,e+s,t+i/2,e+s,"C",t-n,e+s,t-n,e,t+i/2,e,"Z"]},square:function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i,e+s,t,e+s,"Z"]},triangle:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s,t,e+s,"Z"]},"triangle-down":function(t,e,i,s){return["M",t,e,"L",t+i,e,t+i/2,e+s,"Z"]},diamond:function(t,e,i,s){return["M",t+i/2,e,"L",t+i,e+s/2,t+i/2,e+s,t,e+s/2,"Z"]},arc:function(t,e,i,s,n){var o=n.start,i=n.r||i||s,r=n.end-.001,s=n.innerR,a=n.open,h=be(o),l=ke(o),c=be(r),r=ke(r),n=n.end-o<we?0:1;return["M",t+i*h,e+i*l,"A",i,i,0,n,1,t+i*c,e+i*r,a?"M":"L",t+s*c,e+s*r,"A",s,s,0,n,0,t+s*h,e+s*l,a?"":"Z"]}},clipRect:function(t,e,i,s){var n="highcharts-"+Xe++,o=this.createElement("clipPath").attr({id:n}).add(this.defs),t=this.rect(t,e,i,s,0).add(o);return t.id=n,t.clipPath=o,t},color:function(t,i,s){var n,o,a,h,l,c,u,g,f=this,m=/^rgba/,x=[];if(t&&t.linearGradient?o="linearGradient":t&&t.radialGradient&&(o="radialGradient"),o){s=t[o],a=f.gradients,l=t.stops,i=i.radialReference,r(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&i&&!d(s.gradientUnits)&&(s=e(s,{cx:i[0]-i[2]/2+s.cx*i[2],cy:i[1]-i[2]/2+s.cy*i[2],r:s.r*i[2],gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&x.push(g,s[g]);for(g in l)x.push(l[g]);return x=x.join(","),a[x]?t=a[x].id:(s.id=t="highcharts-"+Xe++,a[x]=h=f.createElement(o).attr(s).add(f.defs),h.stops=[],ni(l,function(t){m.test(t[1])?(n=fi(t[1]),c=n.get("rgb"),u=n.get("a")):(c=t[1],u=1),t=f.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":u}).add(h),h.stops.push(t)})),"url("+f.url+"#"+t+")"}return m.test(t)?(n=fi(t),p(i,s+"-opacity",n.get("a")),n.get("rgb")):(i.removeAttribute(s+"-opacity"),t)},text:function(t,e,i,s){var n=Z.chart.style,o=Oe||!Be&&this.forExport;return s&&!this.forExport?this.html(t,e,i):(e=ge(g(e,0)),i=ge(g(i,0)),t=this.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:n.fontFamily,fontSize:n.fontSize}),o&&t.css({position:"absolute"}),t.x=e,t.y=i,t)},html:function(e,i,s){var n=Z.chart.style,o=this.createElement("span"),r=o.attrSetters,a=o.element,h=o.renderer;return r.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},r.x=r.y=r.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1
},o.attr({text:e,x:ge(i),y:ge(s)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize}),o.css=o.htmlCss,h.isSVG&&(o.add=function(e){var i,s=h.box.parentNode,n=[];if(e){if(i=e.div,!i){for(;e;)n.push(e),e=e.parentGroup;ni(n.reverse(),function(e){var n;i=e.div=e.div||m(Ye,{className:p(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},i||s),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+"px"},translateY:function(t){n.top=t+"px"},visibility:function(t,e){n[e]=t}})})}}else i=s;return i.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){var t=i(t||11),t=24>t?t+4:ge(1.2*t),e=ge(.8*t);return{h:t,b:e}},label:function(i,s,n,o,r,a,h,l,c){function p(){var t,i;t=P.element.style,x=(void 0===y||void 0===v||S.styles.textAlign)&&P.getBBox(),S.width=(y||x.width||0)+2*A+C,S.height=(v||x.height||0)+2*A,w=A+L.fontMetrics(t&&t.fontSize).b,T&&(m||(t=ge(-M*A),i=l?-w:0,S.box=m=o?L.symbol(o,t,i,S.width,S.height):L.rect(t,i,S.width,S.height,0,I[$e]),m.add(S)),m.isImg||m.attr(e({width:S.width,height:S.height},I)),I=null)}function u(){var t,e=S.styles,e=e&&e.textAlign,i=C+A*(1-M);t=l?0:w,!d(y)||"center"!==e&&"right"!==e||(i+={center:.5,right:1}[e]*(y-x.width)),(i!==P.x||t!==P.y)&&P.attr({x:i,y:t}),P.x=i,P.y=t}function g(t,e){m?m.attr(t,e):I[t]=e}function f(){P.add(S),S.attr({text:i,x:s,y:n}),m&&d(r)&&S.attr({anchorX:r,anchorY:a})}var m,x,y,v,b,k,w,T,L=this,S=L.g(c),P=L.text("",0,0,h).attr({zIndex:1}),M=0,A=3,C=0,D=0,I={},h=S.attrSetters;hi(S,"add",f),h.width=function(t){return y=t,!1},h.height=function(t){return v=t,!1},h.padding=function(t){return d(t)&&t!==A&&(A=t,u()),!1},h.paddingLeft=function(t){return d(t)&&t!==C&&(C=t,u()),!1},h.align=function(t){return M={left:0,center:.5,right:1}[t],!1},h.text=function(t,e){return P.attr(e,t),p(),u(),!1},h[$e]=function(t,e){return T=!0,D=t%2/2,g(e,t),!1},h.stroke=h.fill=h.r=function(t,e){return"fill"===e&&(T=!0),g(e,t),!1},h.anchorX=function(t,e){return r=t,g(e,t+D-b),!1},h.anchorY=function(t,e){return a=t,g(e,t-k),!1},h.x=function(t){return S.x=t,t-=M*((y||x.width)+A),b=ge(t),S.attr("translateX",b),!1},h.y=function(t){return k=S.y=ge(t),S.attr("translateY",k),!1};var B=S.css;return t(S,{css:function(t){if(t){var i={},t=e(t);ni("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(e){t[e]!==j&&(i[e]=t[e],delete t[e])}),P.css(i)}return B.call(S,t)},getBBox:function(){return{width:x.width+2*A,height:x.height+2*A,x:x.x-A,y:x.y-A}},shadow:function(t){return m&&m.shadow(t),S},destroy:function(){li(S,"add",f),li(S.element,"mouseenter"),li(S.element,"mouseleave"),P&&(P=P.destroy()),m&&(m=m.destroy()),H.prototype.destroy.call(S),S=L=p=u=g=f=null}})}},_=mi;var xi;if(!Be&&!Oe){s.VMLElement=xi={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],s=["position: ","absolute",";"],n=e===Ye;("shape"===e||n)&&s.push("left:0;top:0;width:1px;height:1px;"),s.push("visibility: ",n?"hidden":"visible"),i.push(' style="',s.join(""),'"/>'),e&&(i=n||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=m(i)),this.renderer=t,this.attrSetters={}},add:function(t){var e=this.renderer,i=this.element,s=e.box,s=t?t.element||t:s;return t&&t.inverted&&e.invertChild(i,s),s.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),ci(this,"add"),this},updateTransform:H.prototype.htmlUpdateTransform,setSpanRotation:function(t,e,i){f(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",i,", M12=",-e,", M21=",e,", M22=",i,", sizingMethod='auto expand')"].join(""):Ge})},pathToVML:function(t){for(var e,i=t.length,s=[];i--;)a(t[i])?s[i]=ge(10*t[i])-5:"Z"===t[i]?s[i]="x":(s[i]=t[i],!t.isArc||"wa"!==t[i]&&"at"!==t[i]||(e="wa"===t[i]?1:-1,s[i+5]===s[i+7]&&(s[i+7]-=e),s[i+6]===s[i+8]&&(s[i+8]-=e)));return s.join(" ")||"x"},attr:function(t,e){var i,s,o,r,h,l=this.element||{},c=l.style,u=l.nodeName,g=this.renderer,f=this.symbolName,x=this.shadows,y=this.attrSetters,v=this;if(n(t)&&d(e)&&(i=t,t={},t[i]=e),n(t))i=t,v="strokeWidth"===i||"stroke-width"===i?this.strokeweight:this[i];else for(i in t)if(s=t[i],h=!1,o=y[i]&&y[i].call(this,s,i),o!==!1&&null!==s){if(o!==j&&(s=o),f&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))r||(this.symbolAttr(t),r=!0),h=!0;else if("d"===i){if(s=s||[],this.d=s.join(" "),l.path=s=this.pathToVML(s),x)for(o=x.length;o--;)x[o].path=x[o].cutOff?this.cutOffPath(s,x[o].cutOff):s;h=!0}else if("visibility"===i){if(x)for(o=x.length;o--;)x[o].style[i]=s;"DIV"===u&&(s="hidden"===s?"-999em":0,Me||(c[i]=s?"visible":"hidden"),i="top"),c[i]=s,h=!0}else"zIndex"===i?(s&&(c[i]=s),h=!0):-1!==si(i,["x","y","width","height"])?(this[i]=s,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:s=xe(0,s),this.updateClipping?(this[i]=s,this.updateClipping()):c[i]=s,h=!0):"class"===i&&"DIV"===u?l.className=s:"stroke"===i?(s=g.color(s,l,i),i="strokecolor"):"stroke-width"===i||"strokeWidth"===i?(l.stroked=s?!0:!1,i="strokeweight",this[i]=s,a(s)&&(s+="px")):"dashstyle"===i?((l.getElementsByTagName("stroke")[0]||m(g.prepVML(["<stroke/>"]),null,null,l))[i]=s||"solid",this.dashstyle=s,h=!0):"fill"===i?"SPAN"===u?c.color=s:"IMG"!==u&&(l.filled=s!==Ge?!0:!1,s=g.color(s,l,i,this),i="fillcolor"):"opacity"===i?h=!0:"shape"===u&&"rotation"===i?(this[i]=l.style[i]=s,l.style.left=-ge(ke(s*Te)+1)+"px",l.style.top=ge(be(s*Te))+"px"):"translateX"===i||"translateY"===i||"rotation"===i?(this[i]=s,this.updateTransform(),h=!0):"text"===i&&(this.bBox=null,l.innerHTML=s,h=!0);h||(Me?l[i]=s:p(l,i,s))}return v},clip:function(t){var e,i=this;return t?(e=t.members,c(e,i),e.push(i),i.destroyClip=function(){c(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:Me?"inherit":"rect(auto)"}),i.css(t)},css:H.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&I(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),H.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=pe.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var s,t=t.split(/[ ,]/);return s=t.length,(9===s||11===s)&&(t[s-4]=t[s-2]=i(t[s-2])-10*e),t.join(" ")},shadow:function(t,e,s){var n,o,r,a,h,l,c,d=[],p=this.element,u=this.renderer,f=p.style,x=p.path;if(x&&"string"!=typeof x.value&&(x="x"),h=x,t){for(l=g(t.width,3),c=(t.opacity||.15)/l,n=1;3>=n;n++)a=2*l+1-2*n,s&&(h=this.cutOffPath(x.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',h,'" coordsize="10 10" style="',p.style.cssText,'" />'],o=m(u.prepVML(r),null,{left:i(f.left)+g(t.offsetX,1),top:i(f.top)+g(t.offsetY,1)}),s&&(o.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',c*n,'"/>'],m(u.prepVML(r),null,null,o),e?e.element.appendChild(o):p.parentNode.insertBefore(o,p),d.push(o);this.shadows=d}return this}},xi=x(H,xi);var yi={Element:xi,isIE8:Le.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var s,n;this.alignedObjects=[],s=this.createElement(Ye),n=s.element,n.style.position="relative",t.appendChild(s.element),this.isVML=!0,this.box=n,this.boxWrapper=s,this.setSize(e,i,!1),de.namespaces.hcv||(de.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),de.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,s,n){var r=this.createElement(),a=o(e);return t(r,{members:[],left:(a?e.x:e)+1,top:(a?e.y:i)+1,width:(a?e.width:s)-1,height:(a?e.height:n)-1,getCSS:function(e){var i=e.element,s=i.nodeName,e=e.inverted,n=this.top-("shape"===s?i.offsetTop:0),o=this.left,i=o+this.width,r=n+this.height,n={clip:"rect("+ge(e?o:n)+"px,"+ge(e?r:i)+"px,"+ge(e?i:r)+"px,"+ge(e?n:o)+"px)"};return!e&&Me&&"DIV"===s&&t(n,{width:i+"px",height:r+"px"}),n},updateClipping:function(){ni(r.members,function(t){t.css(r.getCSS(t))})}})},color:function(t,e,i,s){var n,o,r,a=this,h=/^rgba/,l=Ge;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var c,d,p,u,g,f,x,y,v=t.linearGradient||t.radialGradient,b="",t=t.stops,k=[],w=function(){o=['<fill colors="'+k.join(",")+'" opacity="',g,'" o:opacity2="',u,'" type="',r,'" ',b,'focus="100%" method="any" />'],m(a.prepVML(o),null,null,e)};if(p=t[0],y=t[t.length-1],p[0]>0&&t.unshift([0,p[1]]),y[0]<1&&t.push([1,y[1]]),ni(t,function(t,e){h.test(t[1])?(n=fi(t[1]),c=n.get("rgb"),d=n.get("a")):(c=t[1],d=1),k.push(100*t[0]+"% "+c),e?(g=d,f=c):(u=d,x=c)}),"fill"===i)if("gradient"===r)i=v.x1||v[0]||0,t=v.y1||v[1]||0,p=v.x2||v[2]||0,v=v.y2||v[3]||0,b='angle="'+(90-180*ue.atan((v-t)/(p-i))/we)+'"',w();else{var T,l=v.r,L=2*l,S=2*l,P=v.cx,M=v.cy,A=e.radialReference,l=function(){A&&(T=s.getBBox(),P+=(A[0]-T.x)/T.width-.5,M+=(A[1]-T.y)/T.height-.5,L*=A[2]/T.width,S*=A[2]/T.height),b='src="'+Z.global.VMLRadialGradientURL+'" size="'+L+","+S+'" origin="0.5,0.5" position="'+P+","+M+'" color2="'+x+'" ',w()};s.added?l():hi(s,"add",l),l=f}else l=c}else h.test(t)&&"IMG"!==e.tagName?(n=fi(t),o=["<",i,' opacity="',n.get("a"),'"/>'],m(this.prepVML(o),null,null,e),l=n.get("rgb")):(l=e.getElementsByTagName(i),l.length&&(l[0].opacity=1,l[0].type="solid"),l=t);return l},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:mi.prototype.html,path:function(e){var i={coordsize:"10 10"};return r(e)?i.d=e:o(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var s=this.symbol("circle");return o(t)&&(i=t.r,e=t.y,t=t.x),s.isCircle=!0,s.attr({x:t,y:e,width:2*i,height:2*i})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Ye).attr(e)},image:function(t,e,i,s,n){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:s,height:n}),o},rect:function(t,e,i,s,n,r){var a=this.symbol("rect");return a.r=o(t)?t.r:n,a.attr(o(t)?t:a.crisp(r,t,e,xe(i,0),xe(s,0)))},invertChild:function(t,e){var s=e.style;f(t,{flip:"x",left:i(s.width)-1,top:i(s.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,s,n){var o=n.start,r=n.end,a=n.r||i||s,i=n.innerR,s=be(o),h=ke(o),l=be(r),c=ke(r);return r-o===0?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*s,e+a*h,t+a*l,e+a*c],n.open&&!i&&o.push("e","M",t,e),o.push("at",t-i,e-i,t+i,e+i,t+i*l,e+i*c,t+i*s,e+i*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,s,n){return n&&n.isCircle&&(t-=i/2,e-=s/2),["wa",t,e,t+i,e+s,t+i,e+s/2,t+i,e+s/2,"e"]},rect:function(t,e,i,s,n){var o,r=t+i,a=e+s;return d(n)&&n.r?(o=ye(n.r,i,s),r=["M",t+o,e,"L",r-o,e,"wa",r-2*o,e,r,e+2*o,r-o,e,r,e+o,"L",r,a-o,"wa",r-2*o,a-2*o,r,a,r,a-o,r-o,a,"L",t+o,a,"wa",t,a-2*o,t+2*o,a,t+o,a,t,a-o,"L",t,e+o,"wa",t,e,t+2*o,e+2*o,t,e+o,t+o,e,"x","e"]):r=mi.prototype.symbols.square.apply(0,arguments),r}}};s.VMLRenderer=xi=function(){this.init.apply(this,arguments)},xi.prototype=e(mi.prototype,yi),_=xi}var vi;Oe&&(s.CanVGRenderer=xi=function(){Ie="http://www.w3.org/1999/xhtml"},xi.prototype.symbols={},vi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,s){0===e.length&&ii(s,t),e.push(i)}}}(),_=xi),X.prototype={addLabel:function(){var e,i=this.axis,s=i.options,n=i.chart,o=i.horiz,r=i.categories,h=i.series[0]&&i.series[0].names,c=this.pos,p=s.labels,u=i.tickPositions,o=o&&r&&!p.step&&!p.staggerLines&&!p.rotation&&n.plotWidth/u.length||!o&&(n.optionsMarginLeft||.33*n.chartWidth),f=c===u[0],m=c===u[u.length-1],h=r?g(r[c],h&&h[c],c):c,r=this.label,u=u.info;i.isDatetimeAxis&&u&&(e=s.dateTimeLabelFormats[u.higherRanks[c]||u.unitName]),this.isFirst=f,this.isLast=m,s=i.labelFormatter.call({axis:i,chart:n,isFirst:f,isLast:m,dateTimeLabelFormat:e,value:i.isLog?z(l(h)):h}),c=o&&{width:xe(1,ge(o-2*(p.padding||10)))+"px"},c=t(c,p.style),d(r)?r&&r.attr({text:s}).css(c):(o={align:i.labelAlign},a(p.rotation)&&(o.rotation=p.rotation),this.label=d(s)&&p.enabled?n.renderer.text(s,0,0,p.useHTML).attr(o).css(c).add(i.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.axis,e=this.labelBBox.width,t=e*{left:0,center:.5,right:1}[t.labelAlign]-t.options.labels.x;return[-t,e-t]},handleOverflow:function(t,e){var i=!0,s=this.axis,n=s.chart,o=this.isFirst,r=this.isLast,a=e.x,h=s.reversed,l=s.tickPositions;if(o||r){var c=this.getLabelSides(),d=c[0],c=c[1],n=n.plotLeft,p=n+s.len,l=(s=s.ticks[l[t+(o?1:-1)]])&&s.label.xy&&s.label.xy.x+s.getLabelSides()[o?0:1];o&&!h||r&&h?n>a+d&&(a=n-d,s&&a+c>l&&(i=!1)):a+c>p&&(a=p-c,s&&l>a+d&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,s){var n=this.axis,o=n.chart,r=s&&o.oldChartHeight||o.chartHeight;return{x:t?n.translate(e+i,null,null,s)+n.transB:n.left+n.offset+(n.opposite?(s&&o.oldChartWidth||o.chartWidth)-n.right-n.left:0),y:t?r-n.bottom+n.offset-(n.opposite?n.height:0):r-n.translate(e+i,null,null,s)-n.transB}},getLabelPosition:function(t,e,i,s,n,o,r,a){var h=this.axis,l=h.transA,c=h.reversed,p=h.staggerLines,u=h.chart.renderer.fontMetrics(n.style.fontSize).b,g=n.rotation,t=t+n.x-(o&&s?o*l*(c?-1:1):0),e=e+n.y-(o&&!s?o*l*(c?1:-1):0);return g&&2===h.side&&(e-=u-u*be(g*Te)),!d(n.y)&&!g&&(e+=u-i.getBBox().height/2),p&&(e+=r/(a||1)%p*(h.labelOffset/p)),{x:t,y:e}},getMarkPath:function(t,e,i,s,n,o){return o.crispLine(["M",t,e,"L",t+(n?0:-i),e+(n?i:0)],s)},render:function(t,e,i){var s=this.axis,n=s.options,o=s.chart.renderer,r=s.horiz,a=this.type,h=this.label,l=this.pos,c=n.labels,d=this.gridLine,p=a?a+"Grid":"grid",u=a?a+"Tick":"tick",f=n[p+"LineWidth"],m=n[p+"LineColor"],x=n[p+"LineDashStyle"],y=n[u+"Length"],p=n[u+"Width"]||0,v=n[u+"Color"],b=n[u+"Position"],u=this.mark,k=c.step,w=!0,T=s.tickmarkOffset,L=this.getPosition(r,l,T,e),S=L.x,L=L.y,P=r&&S===s.pos+s.len||!r&&L===s.pos?-1:1,M=s.staggerLines;this.isActive=!0,f&&(l=s.getPlotLinePath(l+T,f*P,e,!0),d===j&&(d={stroke:m,"stroke-width":f},x&&(d.dashstyle=x),a||(d.zIndex=1),e&&(d.opacity=0),this.gridLine=d=f?o.path(l).attr(d).add(s.gridGroup):null),!e&&d&&l&&d[this.isNew?"attr":"animate"]({d:l,opacity:i})),p&&y&&("inside"===b&&(y=-y),s.opposite&&(y=-y),e=this.getMarkPath(S,L,y,p*P,r,o),u?u.animate({d:e,opacity:i}):this.mark=o.path(e).attr({stroke:v,"stroke-width":p,opacity:i}).add(s.axisGroup)),h&&!isNaN(S)&&(h.xy=L=this.getLabelPosition(S,L,h,r,c,T,t,k),this.isFirst&&!this.isLast&&!g(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!g(n.showLastLabel,1)?w=!1:!M&&r&&"justify"===c.overflow&&!this.handleOverflow(t,L)&&(w=!1),k&&t%k&&(w=!1),w&&!isNaN(L.y)?(L.opacity=i,h[this.isNew?"attr":"animate"](L),this.isNew=!1):h.attr("y",-9999))},destroy:function(){D(this,this.axis)}},W.prototype={render:function(){var t,i=this,s=i.axis,n=s.horiz,o=(s.pointRange||0)/2,r=i.options,a=r.label,l=i.label,c=r.width,p=r.to,u=r.from,f=d(u)&&d(p),m=r.value,x=r.dashStyle,y=i.svgElem,v=[],b=r.color,k=r.zIndex,w=r.events,T=s.chart.renderer;if(s.isLog&&(u=h(u),p=h(p),m=h(m)),c)v=s.getPlotLinePath(m,c),o={stroke:b,"stroke-width":c},x&&(o.dashstyle=x);else{if(!f)return;u=xe(u,s.min-o),p=ye(p,s.max+o),v=s.getPlotBandPath(u,p,r),o={fill:b},r.borderWidth&&(o.stroke=r.borderColor,o["stroke-width"]=r.borderWidth)}if(d(k)&&(o.zIndex=k),y)v?y.animate({d:v},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()});else if(v&&v.length&&(i.svgElem=y=T.path(v).attr(o).add(),w))for(t in r=function(t){y.on(t,function(e){w[t].apply(i,[e])})},w)r(t);return a&&d(a.text)&&v&&v.length&&s.width>0&&s.height>0?(a=e({align:n&&f&&"center",x:n?!f&&4:10,verticalAlign:!n&&f&&"middle",y:n?f?16:10:f?6:-4,rotation:n&&!f&&90},a),l||(i.label=l=T.text(a.text,0,0,a.useHTML).attr({align:a.textAlign||a.align,rotation:a.rotation,zIndex:k}).css(a.style).add()),s=[v[1],v[4],g(v[6],v[1])],v=[v[2],v[5],g(v[7],v[2])],n=A(s),f=A(v),l.align(a,!1,{x:n,y:f,width:C(s)-n,height:C(v)-f}),l.show()):l&&l.hide(),i},destroy:function(){c(this.axis.plotLinesAndBands,this),delete this.axis,D(this)}},E.prototype={destroy:function(){D(this,this.axis)},setTotal:function(t){this.cum=this.total=t},addValue:function(t){this.setTotal(z(this.total+t))},render:function(t){var e=this.options,i=e.format,i=i?k(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},cacheExtremes:function(t,e){this.points[t.index]=e},setOffset:function(t,e){var i=this.axis,s=i.chart,n=s.inverted,o=this.isNegative,r=i.translate(this.percent?100:this.total,0,0,0,1),i=i.translate(0),i=ve(r-i),a=s.xAxis[0].translate(this.x)+t,h=s.plotHeight,o={x:n?o?r:r-i:a,y:n?h-a-e:o?h-r-i:h-r,width:n?i:e,height:n?e:i};(n=this.label)&&(n.align(this.alignOptions,null,o),o=n.alignAttr,n.attr({visibility:this.options.crop===!1||s.isInsidePlot(o.x,o.y)?Be?"inherit":"visible":"hidden"}))}},Y.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:ti,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:ti.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX;this.horiz=t.inverted?!i:i,this.xOrY=(this.isXAxis=i)?"x":"y",this.opposite=e.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(e);var s=this.options,n=s.type;this.labelFormatter=s.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.chart=t,this.reversed=s.reversed,this.zoomEnabled=s.zoomEnabled!==!1,this.categories=s.categories||"category"===n,this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=d(s.linkedTo),this.tickmarkOffset=this.categories&&"between"===s.tickmarkPlacement?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=s.minRange||s.maxZoom,this.range=s.range,this.offset=s.offset||0,this.stacks={},this.oldStacks={},this.stackExtremes={},this.min=this.max=null;var o,s=this.options.events;-1===si(this,t.axes)&&(t.axes.push(this),t[i?"xAxis":"yAxis"].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===j&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in s)hi(this,o,s[o]);this.isLog&&(this.val2lin=h,this.lin2val=l)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(Z[this.isXAxis?"xAxis":"yAxis"],t))},update:function(i,s){var n=this.chart,i=n.options[this.xOrY+"Axis"][this.options.index]=e(this.userOptions,i);this.destroy(!0),this._addedPlotLB=!1,this.init(n,t(i,{events:j})),n.isDirtyBox=!0,g(s,!0)&&n.redraw()},remove:function(t){var e=this.chart,i=this.xOrY+"Axis";ni(this.series,function(t){t.remove(!1)}),c(e.axes,this),c(e[i],this),e.options[i].splice(this.options.index,1),ni(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,g(t,!0)&&e.redraw()},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,s=e.categories,n=this.dateTimeLabelFormat,o=Z.lang.numericSymbols,r=o&&o.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=k(a,this);else if(s)t=i;else if(n)t=K(n,i);else if(r&&e>=1e3)for(;r--&&t===j;)s=Math.pow(1e3,r+1),e>=s&&null!==o[r]&&(t=y(i/s,-1)+o[r]);return t===j&&(t=i>=1e3?y(i,0):y(i,-1)),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),ni(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var s,n=i.options;s=n.threshold,t.hasVisibleSeries=!0,t.isLog&&0>=s&&(s=null),t.isXAxis?(s=i.xData,s.length&&(t.dataMin=ye(g(t.dataMin,s[0]),A(s)),t.dataMax=xe(g(t.dataMax,s[0]),C(s)))):(n=n.stacking,t.usePercentage="percent"===n,t.usePercentage&&(t.dataMin=0,t.dataMax=99),i.getExtremes(),n=i.dataMax,i=i.dataMin,!t.usePercentage&&d(i)&&d(n)&&(t.dataMin=ye(g(t.dataMin,i),i),t.dataMax=xe(g(t.dataMax,n),n)),d(s)&&(t.dataMin>=s?(t.dataMin=s,t.ignoreMinPadding=!0):t.dataMax<s&&(t.dataMax=s,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,s,n,o){var r=this.len,h=1,l=0,c=s?this.oldTransA:this.transA,s=s?this.oldMin:this.min,d=this.minPixelPadding,n=(this.options.ordinal||this.isLog&&n)&&this.lin2val;return c||(c=this.transA),i&&(h*=-1,l=r),this.reversed&&(h*=-1,l-=h*r),e?(t=t*h+l,t-=d,t=t/c+s,n&&(t=this.lin2val(t))):(n&&(t=this.val2lin(t)),"between"===o&&(o=.5),t=h*(t-s)*c+l+h*d+(a(o)?c*o*this.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,s){var n,o,r,a,h=this.chart,l=this.left,c=this.top,t=this.translate(t,null,null,i),d=i&&h.oldChartHeight||h.chartHeight,p=i&&h.oldChartWidth||h.chartWidth;return n=this.transB,i=o=ge(t+n),n=r=ge(d-t-n),isNaN(t)?a=!0:this.horiz?(n=c,r=d-this.bottom,(l>i||i>l+this.width)&&(a=!0)):(i=l,o=p-this.right,(c>n||n>c+this.height)&&(a=!0)),a&&!s?null:h.renderer.crispLine(["M",i,n,"L",o,r],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),s=this.getPlotLinePath(t);return s&&i?s.push(i[4],i[5],i[1],i[2]):s=null,s},getLinearTickPositions:function(t,e,i){for(var s,e=z(fe(e/t)*t),i=z(me(i/t)*t),n=[];i>=e&&(n.push(e),e=z(e+t),e!==s);)s=e;return n},getLogTickPositions:function(t,e,i,s){var n=this.options,o=this.len,r=[];if(s||(this._minorAutoInterval=null),t>=.5)t=ge(t),r=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var a,c,d,p,u,o=fe(e),n=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>o&&!u;o++)for(c=n.length,a=0;c>a&&!u;a++)d=h(l(o)*n[a]),d>e&&(!s||i>=p)&&r.push(p),p>i&&(u=!0),p=d;else e=l(e),i=l(i),t=n[s?"minorTickInterval":"tickInterval"],t=g("auto"===t?null:t,this._minorAutoInterval,(i-e)*(n.tickPixelInterval/(s?5:1))/((s?o/this.tickPositions.length:o)||1)),t=T(t,null,w(t)),r=ai(this.getLinearTickPositions(t,e,i),h),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,s=this.minorTickInterval,n=[];if(this.isLog)for(t=i.length,e=1;t>e;e++)n=n.concat(this.getLogTickPositions(s,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)n=n.concat(S(L(s),this.min,this.max,e.startOfWeek)),n[0]<this.min&&n.shift();else for(i=this.min+(i[0]-this.min)%s;i<=this.max;i+=s)n.push(i);return n},adjustForMinRange:function(){var t,e,i,s,n,o,r=this.options,a=this.min,h=this.max,l=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===j&&!this.isLog&&(d(r.min)||d(r.max)?this.minRange=null:(ni(this.series,function(t){for(n=t.xData,i=o=t.xIncrement?1:n.length-1;i>0;i--)s=n[i]-n[i-1],(e===j||e>s)&&(e=s)}),this.minRange=ye(5*e,this.dataMax-this.dataMin))),h-a<this.minRange){var c=this.minRange;t=(c-h+a)/2,t=[a-t,g(r.min,a-t)],l&&(t[2]=this.dataMin),a=C(t),h=[a+c,g(r.max,a+c)],l&&(h[2]=this.dataMax),h=A(h),c>h-a&&(t[0]=h-c,t[1]=g(r.min,h-c),a=C(t))}this.min=a,this.max=h},setAxisTranslation:function(t){var e,i=this.max-this.min,s=0,o=0,r=0,a=this.linkedParent,h=this.transA;this.isXAxis&&(a?(o=a.minPointOffset,r=a.pointRangePadding):ni(this.series,function(t){var a=t.pointRange,h=t.options.pointPlacement,l=t.closestPointRange;a>i&&(a=0),s=xe(s,a),o=xe(o,n(h)?0:a/2),r=xe(r,"on"===h?0:a),!t.noSharedTooltip&&d(l)&&(e=d(e)?ye(e,l):l)}),a=this.ordinalSlope&&e?this.ordinalSlope/e:1,this.minPointOffset=o*=a,this.pointRangePadding=r*=a,this.pointRange=ye(s,i),this.closestPointRange=e),t&&(this.oldTransA=h),this.translationSlope=this.transA=h=this.len/(i+r||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=h*o},setTickPositions:function(t){var e=this,i=e.chart,s=e.options,n=e.isLog,o=e.isDatetimeAxis,r=e.isXAxis,a=e.isLinked,l=e.options.tickPositioner,c=s.maxPadding,p=s.minPadding,u=s.tickInterval,f=s.minTickInterval,m=s.tickPixelInterval,x=e.categories;a?(e.linkedParent=i[r?"xAxis":"yAxis"][s.linkedTo],i=e.linkedParent.getExtremes(),e.min=g(i.min,i.dataMin),e.max=g(i.max,i.dataMax),s.type!==e.linkedParent.options.type&&B(11,1)):(e.min=g(e.userMin,s.min,e.dataMin),e.max=g(e.userMax,s.max,e.dataMax)),n&&(!t&&ye(e.min,g(e.dataMin,e.min))<=0&&B(10,1),e.min=z(h(e.min)),e.max=z(h(e.max))),e.range&&(e.userMin=e.min=xe(e.min,e.max-e.range),e.userMax=e.max,t)&&(e.range=null),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),!x&&!e.usePercentage&&!a&&d(e.min)&&d(e.max)&&(i=e.max-e.min)&&(d(s.min)||d(e.userMin)||!p||!(e.dataMin<0)&&e.ignoreMinPadding||(e.min-=i*p),d(s.max)||d(e.userMax)||!c||!(e.dataMax>0)&&e.ignoreMaxPadding||(e.max+=i*c)),e.tickInterval=e.min===e.max||void 0===e.min||void 0===e.max?1:a&&!u&&m===e.linkedParent.options.tickPixelInterval?e.linkedParent.tickInterval:g(u,x?1:(e.max-e.min)*m/(e.len||1)),r&&!t&&ni(e.series,function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)}),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.postProcessTickInterval&&(e.tickInterval=e.postProcessTickInterval(e.tickInterval)),e.pointRange&&(e.tickInterval=xe(e.pointRange,e.tickInterval)),!u&&e.tickInterval<f&&(e.tickInterval=f),o||n||u||(e.tickInterval=T(e.tickInterval,null,w(e.tickInterval),s)),e.minorTickInterval="auto"===s.minorTickInterval&&e.tickInterval?e.tickInterval/5:s.minorTickInterval,e.tickPositions=t=s.tickPositions?[].concat(s.tickPositions):l&&l.apply(e,[e.min,e.max]),t||((e.max-e.min)/e.tickInterval>2*e.len&&B(19,!0),t=o?(e.getNonLinearTimeTicks||S)(L(e.tickInterval,s.units),e.min,e.max,s.startOfWeek,e.ordinalPositions,e.closestPointRange,!0):n?e.getLogTickPositions(e.tickInterval,e.min,e.max):e.getLinearTickPositions(e.tickInterval,e.min,e.max),e.tickPositions=t),a||(n=t[0],o=t[t.length-1],a=e.minPointOffset||0,s.startOnTick?e.min=n:e.min-a>n&&t.shift(),s.endOnTick?e.max=o:e.max+a<o&&t.pop(),1===t.length&&(e.min-=.001,e.max+=.001))},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,s=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[s]||0)&&this.options.alignTicks!==!1&&(e[s]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this._maxTicksKey,e=this.tickPositions,i=this.chart.maxTicks;if(i&&i[t]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var s=this.tickAmount,n=e.length;if(this.tickAmount=t=i[t],t>n){for(;e.length<t;)e.push(z(e[e.length-1]+this.tickInterval));this.transA*=(n-1)/(t-1),this.max=e[e.length-1]}d(s)&&t!==s&&(this.isDirty=!0)}},setScale:function(){var t,e,i,s,n=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),s=this.len!==this.oldAxisLength,ni(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),s||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].total=null;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=s||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(t in n)for(e in n[t])n[t][e].cum=n[t][e].total}this.setMaxTicks()},setExtremes:function(e,i,s,n,o){var r=this,a=r.chart,s=g(s,!0),o=t(o,{min:e,max:i});ci(r,"setExtremes",o,function(){r.userMin=e,r.userMax=i,r.isDirtyExtremes=!0,s&&a.redraw(n)})},zoom:function(t,e){return this.allowZoomOutside||(d(this.dataMin)&&t<=this.dataMin&&(t=j),d(this.dataMax)&&e>=this.dataMax&&(e=j)),this.displayBtn=t!==j||e!==j,this.setExtremes(t,e,!1,j,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i=this.chart,s=this.options,n=s.offsetLeft||0,o=s.offsetRight||0,r=this.horiz;this.left=e=g(s.left,i.plotLeft+n),this.top=t=g(s.top,i.plotTop),this.width=n=g(s.width,i.plotWidth-n+o),this.height=s=g(s.height,i.plotHeight),this.bottom=i.chartHeight-s-t,this.right=i.chartWidth-n-e,this.len=xe(r?n:s,0),this.pos=r?e:t},getExtremes:function(){var t=this.isLog;return{min:t?z(l(this.min)):this.min,max:t?z(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?l(this.min):this.min,e=e?l(this.max):this.max;return i>t||null===t?t=i:t>e&&(t=e),this.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new W(this,t).render(),s=this.userOptions;return e&&(s[e]=s[e]||[],s[e].push(t)),this.plotLinesAndBands.push(i),i},autoLabelAlign:function(t){return t=(g(t,0)-90*this.side+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},getOffset:function(){var t,e,i,s,n,o,r,a=this,h=a.chart,l=h.renderer,c=a.options,p=a.tickPositions,u=a.ticks,f=a.horiz,m=a.side,x=h.inverted?[1,0,3,2][m]:m,y=0,v=0,b=c.title,k=c.labels,w=0,T=h.axisOffset,L=h.clipOffset,S=[-1,1,1,-1][m],P=1,M=g(k.maxStaggerLines,5);if(a.hasData=t=a.hasVisibleSeries||d(a.min)&&d(a.max)&&!!p,a.showAxis=h=t||g(c.showEmpty,!0),a.staggerLines=a.horiz&&k.staggerLines,a.axisGroup||(a.gridGroup=l.g("grid").attr({zIndex:c.gridZIndex||1}).add(),a.axisGroup=l.g("axis").attr({zIndex:c.zIndex||2}).add(),a.labelGroup=l.g("axis-labels").attr({zIndex:k.zIndex||7}).add()),t||a.isLinked){if(a.labelAlign=g(k.align||a.autoLabelAlign(k.rotation)),ni(p,function(t){u[t]?u[t].addLabel():u[t]=new X(a,t)}),a.horiz&&!a.staggerLines&&M&&!k.rotation){for(i=a.reversed?[].concat(p).reverse():p;M>P;){for(t=[],s=!1,k=0;k<i.length;k++)n=i[k],o=(o=u[n].label&&u[n].label.bBox)?o.width:0,r=k%P,o&&(n=a.translate(n),t[r]!==j&&n<t[r]&&(s=!0),t[r]=n+o);if(!s)break;P++}P>1&&(a.staggerLines=P)}ni(p,function(t){(0===m||2===m||{1:"left",3:"right"}[m]===a.labelAlign)&&(w=xe(u[t].getLabelSize(),w))}),a.staggerLines&&(w*=a.staggerLines,a.labelOffset=w)}else for(i in u)u[i].destroy(),delete u[i];b&&b.text&&b.enabled!==!1&&(a.axisTitle||(a.axisTitle=l.text(b.text,0,0,b.useHTML).attr({zIndex:7,rotation:b.rotation||0,align:b.textAlign||{low:"left",middle:"center",high:"right"}[b.align]}).css(b.style).add(a.axisGroup),a.axisTitle.isNew=!0),h&&(y=a.axisTitle.getBBox()[f?"height":"width"],v=g(b.margin,f?5:10),e=b.offset),a.axisTitle[h?"show":"hide"]()),a.offset=S*g(c.offset,T[m]),a.axisTitleMargin=g(e,w+v+(2!==m&&w&&S*c.labels[f?"y":"x"])),T[m]=xe(T[m],a.axisTitleMargin+y+S*a.offset),L[x]=xe(L[x],2*fe(c.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,s=this.offset,n=this.horiz,o=this.left+(i?this.width:0)+s;return this.lineTop=s=e.chartHeight-this.bottom-(i?this.height:0)+s,i&&(t*=-1),e.renderer.crispLine(["M",n?this.left:o,n?s:this.top,"L",n?e.chartWidth-this.right:o,n?s:e.chartHeight-this.bottom],t)
},getTitlePosition:function(){var t=this.horiz,e=this.left,s=this.top,n=this.len,o=this.options.title,r=t?e:s,a=this.opposite,h=this.offset,l=i(o.style.fontSize||12),n={low:r+(t?0:n),middle:r+n/2,high:r+(t?n:0)}[o.align],e=(t?s+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:t?n:e+(a?this.width:0)+h+(o.x||0),y:t?e-(a?this.height:0)+h:n+(o.y||0)}},render:function(){var t,e=this,i=e.chart,s=i.renderer,n=e.options,o=e.isLog,r=e.isLinked,a=e.tickPositions,h=e.axisTitle,c=e.stacks,p=e.ticks,u=e.minorTicks,g=e.alternateBands,f=n.stackLabels,m=n.alternateGridColor,x=e.tickmarkOffset,y=n.lineWidth,v=i.hasRendered&&d(e.oldMin)&&!isNaN(e.oldMin);t=e.hasData;var b,k,w=e.showAxis;if(ni([p,u,g],function(t){for(var e in t)t[e].isActive=!1}),(t||r)&&(e.minorTickInterval&&!e.categories&&ni(e.getMinorTickPositions(),function(t){u[t]||(u[t]=new X(e,t,"minor")),v&&u[t].isNew&&u[t].render(null,!0),u[t].render(null,!1,1)}),a.length&&(ni(a.slice(1).concat([a[0]]),function(t,i){i=i===a.length-1?0:i+1,(!r||t>=e.min&&t<=e.max)&&(p[t]||(p[t]=new X(e,t)),v&&p[t].isNew&&p[t].render(i,!0),p[t].render(i,!1,1))}),x&&0===e.min&&(p[-1]||(p[-1]=new X(e,-1,null,!0)),p[-1].render(-1))),m&&ni(a,function(t,i){i%2===0&&t<e.max&&(g[t]||(g[t]=new W(e)),b=t+x,k=a[i+1]!==j?a[i+1]+x:e.max,g[t].options={from:o?l(b):b,to:o?l(k):k,color:m},g[t].render(),g[t].isActive=!0)}),e._addedPlotLB||(ni((n.plotLines||[]).concat(n.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0)),ni([p,u,g],function(t){var e,s,n=[],o=q?q.duration||500:0,r=function(){for(s=n.length;s--;)t[n[s]]&&!t[n[s]].isActive&&(t[n[s]].destroy(),delete t[n[s]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==g&&i.hasRendered&&o?o&&setTimeout(r,o):r()}),y&&(t=e.getLinePath(y),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=s.path(t).attr({stroke:n.lineColor,"stroke-width":y,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]()),h&&w&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1),f&&f.enabled){var T,L,n=e.stackTotalGroup;n||(e.stackTotalGroup=n=s.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(i.plotLeft,i.plotTop);for(T in c)for(L in s=c[T])s[L].render(n)}e.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,s=this.userOptions,n=e.length;n--;)e[n].id===t&&e[n].destroy();ni([i.plotLines||[],s.plotLines||[],i.plotBands||[],s.plotBands||[]],function(e){for(n=e.length;n--;)e[n].id===t&&c(e,e[n])})},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this.chart.pointer;t.reset&&t.reset(!0),this.render(),ni(this.plotLinesAndBands,function(t){t.render()}),ni(this.series,function(t){t.isDirty=!0})},buildStacks:function(){this.isXAxis||ni(this.series,function(t){t.setStackedPoints()})},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(t){var e,i=this,s=i.stacks,n=i.plotLinesAndBands;t||li(i);for(e in s)D(s[e]),s[e]=null;for(ni([i.ticks,i.minorTicks,i.alternateBands],function(t){D(t)}),t=n.length;t--;)n[t].destroy();ni("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){i[t]&&(i[t]=i[t].destroy())})}},G.prototype={init:function(t,e){var s=e.borderWidth,n=e.style,o=i(n.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":s,r:e.borderRadius,zIndex:8}).css(n).css({padding:0}).hide().add(),Oe||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){ni(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,s,n){var o=this,r=o.now,a=o.options.animation!==!1&&!o.isHidden;t(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+i)/2:i,anchorX:a?(2*r.anchorX+s)/3:s,anchorY:a?(r.anchorY+n)/2:n}),o.label.attr(r),a&&(ve(e-r.x)>1||ve(i-r.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,s,n)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},g(this.options.hideDelay,500)),t&&ni(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){ni(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,s,n=this.chart,o=n.inverted,r=n.plotTop,a=0,h=0,t=u(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===j&&(e=n.pointer.normalize(e)),i=[e.chartX-n.plotLeft,e.chartY-r]),i||(ni(t,function(t){s=t.series.yAxis,a+=t.plotX,h+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&s?s.top-r:0)}),a/=t.length,h/=t.length,i=[o?n.plotWidth-h:a,this.shared&&!o&&t.length>1&&e?e.chartY-r:o?n.plotHeight-a:h]),ai(i,ge)},getPosition:function(t,e,i){var s,n=this.chart,o=n.plotLeft,r=n.plotTop,a=n.plotWidth,h=n.plotHeight,l=g(this.options.distance,12),c=i.plotX,i=i.plotY,n=c+o+(n.inverted?l:-t-l),d=i-e+r+15;return 7>n&&(n=o+xe(c,0)+l),n+t>o+a&&(n-=n+t-(o+a),d=i-e+r-l,s=!0),r+5>d&&(d=r+5,s&&i>=d&&d+e>=i&&(d=i+r+l)),d+e>r+h&&(d=xe(r,r+h-e-l)),{x:n,y:d}},defaultFormatter:function(t){var e,i=this.points||u(this),s=i[0].series;return e=[s.tooltipHeaderFormatter(i[0])],ni(i,function(t){s=t.series,e.push(s.tooltipFormatter&&s.tooltipFormatter(t)||t.point.tooltipFormatter(s.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,s,n,o=this.chart,r=this.label,a=this.options,l={},c=[];n=a.formatter||this.defaultFormatter;var d,l=o.hoverPoints,p=a.crosshairs,f=this.shared;if(clearTimeout(this.hideTimer),this.followPointer=u(t)[0].series.tooltipOptions.followPointer,s=this.getAnchor(t,e),i=s[0],s=s[1],!f||t.series&&t.series.noSharedTooltip?l=t.getLabelConfig():(o.hoverPoints=t,l&&ni(l,function(t){t.setState()}),ni(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),l={x:t[0].category,y:t[0].y},l.points=c,t=t[0]),n=n.call(l,this),l=t.series,n===!1?this.hide():(this.isHidden&&(ui(r),r.attr("opacity",1).show()),r.attr({text:n}),d=a.borderColor||t.color||l.color||"#606060",r.attr({stroke:d}),this.updatePosition({plotX:i,plotY:s}),this.isHidden=!1),p)for(p=u(p),r=p.length;r--;)f=t.series,a=f[r?"yAxis":"xAxis"],p[r]&&a&&(l=r?g(t.stackY,t.y):t.x,a.isLog&&(l=h(l)),f.modifyValue&&(l=f.modifyValue(l)),a=a.getPlotLinePath(l,1),this.crosshairs[r]?this.crosshairs[r].attr({d:a,visibility:"visible"}):(l={"stroke-width":p[r].width||1,stroke:p[r].color||"#C0C0C0",zIndex:p[r].zIndex||2},p[r].dashStyle&&(l.dashstyle=p[r].dashStyle),this.crosshairs[r]=o.renderer.path(a).attr(l).add()));ci(o,"tooltipRefresh",{text:n,x:i+o.plotLeft,y:s+o.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ge(i.x),ge(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}},N.prototype={init:function(t,e){var i,s=Oe?"":e.chart.zoomType,n=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=i&&!n||s&&n,this.zoomVert=s&&!n||i&&n,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new G(t,e.tooltip)),this.setDOMEvents()},normalize:function(e){var i,s,n,e=e||pe.event;return e.target||(e.target=e.srcElement),e=di(e),n=e.touches?e.touches.item(0):e,this.chartPosition=i=ri(this.chart.container),n.pageX===j?(s=xe(e.x,e.clientX-i.left),i=e.y):(s=n.pageX-i.left,i=n.pageY-i.top),t(e,{chartX:ge(s),chartY:ge(i)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ni(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,s,n=this.chart,o=n.series,r=n.tooltip,a=n.hoverPoint,h=n.hoverSeries,l=n.chartWidth,c=this.getIndex(t);if(r&&this.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(e=[],i=o.length,s=0;i>s;s++)o[s].visible&&o[s].options.enableMouseTracking!==!1&&!o[s].noSharedTooltip&&o[s].tooltipPoints.length&&(n=o[s].tooltipPoints[c],n.series)&&(n._dist=ve(c-n.clientX),l=ye(l,n._dist),e.push(n));for(i=e.length;i--;)e[i]._dist>l&&e.splice(i,1);e.length&&e[0].clientX!==this.hoverX&&(r.refresh(e,t),this.hoverX=e[0].clientX)}h&&h.tracker?(n=h.tooltipPoints[c])&&n!==a&&n.onMouseOver(t):r&&r.followPointer&&!r.isHidden&&(t=r.getAnchor([{}],t),r.updatePosition({plotX:t[0],plotY:t[1]}))},reset:function(t){var e=this.chart,i=e.hoverSeries,s=e.hoverPoint,n=e.tooltip,e=n&&n.shared?e.hoverPoints:s;(t=t&&n&&e)&&u(e)[0].plotX===j&&(t=!1),t?n.refresh(e):(s&&s.onMouseOut(),i&&i.onMouseOut(),n&&(n.hide(),n.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(t,e){var i,s=this.chart;ni(s.series,function(n){i=t||n.getPlotBox(),n.xAxis&&n.xAxis.zoomEnabled&&(n.group.attr(i),n.markerGroup&&(n.markerGroup.attr(i),n.markerGroup.clip(e?s.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(i))}),s.clipRect.attr(e||s.clipBox)},pinchTranslateDirection:function(t,e,i,s,n,o,r){var a,h,l,c=this.chart,d=t?"x":"y",p=t?"X":"Y",u="chart"+p,g=t?"width":"height",f=c["plot"+(t?"Left":"Top")],m=1,x=c.inverted,y=c.bounds[t?"h":"v"],v=1===e.length,b=e[0][u],k=i[0][u],w=!v&&e[1][u],T=!v&&i[1][u],i=function(){!v&&ve(b-w)>20&&(m=ve(k-T)/ve(b-w)),h=(f-k)/m+b,a=c["plot"+(t?"Width":"Height")]/m};i(),e=h,e<y.min?(e=y.min,l=!0):e+a>y.max&&(e=y.max-a,l=!0),l?(k-=.8*(k-r[d][0]),v||(T-=.8*(T-r[d][1])),i()):r[d]=[k,T],x||(o[d]=h-f,o[g]=a),o=x?1/m:m,n[g]=a,n[d]=e,s[x?t?"scaleY":"scaleX":"scale"+p]=m,s["translate"+p]=o*f+(k-o*b)},pinch:function(e){var i=this,s=i.chart,n=i.pinchDown,o=s.tooltip&&s.tooltip.options.followTouchMove,r=e.touches,a=r.length,h=i.lastValidTouch,l=i.zoomHor||i.pinchHor,c=i.zoomVert||i.pinchVert,d=l||c,p=i.selectionMarker,u={},g={};(o||d)&&e.preventDefault(),ai(r,function(t){return i.normalize(t)}),"touchstart"===e.type?(ni(r,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[n[0].chartX,n[1]&&n[1].chartX],h.y=[n[0].chartY,n[1]&&n[1].chartY],ni(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(t.dataMin),o=t.toPixels(t.dataMax),r=ye(n,o),n=xe(n,o);e.min=ye(t.pos,r-i),e.max=xe(t.pos+t.len,n+i)}})):n.length&&(p||(i.selectionMarker=p=t({destroy:We},s.plotBox)),l&&i.pinchTranslateDirection(!0,n,r,u,p,g,h),c&&i.pinchTranslateDirection(!1,n,r,u,p,g,h),i.hasPinched=d,i.scaleGroups(u,g),!d&&o&&1===a&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,s=i.options.chart,n=t.chartX,o=t.chartY,r=this.zoomHor,a=this.zoomVert,h=i.plotLeft,l=i.plotTop,c=i.plotWidth,d=i.plotHeight,p=this.mouseDownX,u=this.mouseDownY;h>n?n=h:n>h+c&&(n=h+c),l>o?o=l:o>l+d&&(o=l+d),this.hasDragged=Math.sqrt(Math.pow(p-n,2)+Math.pow(u-o,2)),this.hasDragged>10&&(e=i.isInsidePlot(p-h,u-l),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(h,l,r?1:c,a?1:d,0).attr({fill:s.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&r&&(n-=p,this.selectionMarker.attr({width:ve(n),x:(n>0?0:n)+p})),this.selectionMarker&&a&&(n=o-u,this.selectionMarker.attr({height:ve(n),y:(n>0?0:n)+u})),e&&!this.selectionMarker&&s.panning&&i.pan(t,s.panning))},drop:function(e){var i=this.chart,s=this.hasPinched;if(this.selectionMarker){var n,o={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},r=this.selectionMarker,a=r.x,h=r.y;(this.hasDragged||s)&&(ni(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?a:h),e=t.toValue(e?a+r.width:h+r.height);!isNaN(i)&&!isNaN(e)&&(o[t.xOrY+"Axis"].push({axis:t,min:ye(i,e),max:xe(i,e)}),n=!0)}}),n&&ci(i,"selection",o,function(e){i.zoom(t(e,s?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),s&&this.scaleGroups()}i&&(f(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,s=e.hoverSeries,t=di(t);i&&s&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.pageX-i.left-e.plotLeft,t.pageY-i.top-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart,t=this.normalize(t);t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=p(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;!e||e.options.stickyTracking||this.inClass(t.toElement||t.relatedTarget,"highcharts-tooltip")||e.onMouseOut()},onContainerClick:function(e){var i,s,n,o=this.chart,r=o.hoverPoint,a=o.plotLeft,h=o.plotTop,l=o.inverted,e=this.normalize(e);e.cancelBubble=!0,o.cancelClick||(r&&this.inClass(e.target,"highcharts-tracker")?(i=this.chartPosition,s=r.plotX,n=r.plotY,t(r,{pageX:i.left+a+(l?o.plotWidth-n:s),pageY:i.top+h+(l?o.plotHeight-s:n)}),ci(r.series,"click",t(e,{point:r})),o.hoverPoint&&r.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),o.isInsidePlot(e.chartX-a,e.chartY-h)&&ci(o,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[de,"mousemove","onDocumentMouseMove"],[de,"mouseup","onDocumentMouseUp"]],Re&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[de,"touchend","onDocumentTouchEnd"]),ni(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:hi(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;ni(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:li(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},F.prototype={init:function(t,s){var n=this,o=s.itemStyle,r=g(s.padding,8),a=s.itemMarginTop||0;this.options=s,s.enabled&&(n.baseline=i(o.fontSize)+3+a,n.itemStyle=o,n.itemHiddenStyle=e(o,s.itemHiddenStyle),n.itemMarginTop=a,n.padding=r,n.initialItemX=r,n.initialItemY=r-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.lastLineHeight=0,n.render(),hi(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(t,e){var i,s=this.options,n=t.legendItem,o=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,s=e?s.itemStyle.color:a,h=e?t.color:a,a=t.options&&t.options.marker,l={stroke:h,fill:h};if(n&&n.css({fill:s,color:s}),o&&o.attr({stroke:h}),r){if(a&&r.isMarker)for(i in a=t.convertAttribs(a))n=a[i],n!==j&&(l[i]=n);r.attr(l)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,s=t._legendItemPos,n=s[0],s=s[1],o=t.checkbox;t.legendGroup&&t.legendGroup.translate(e?n:this.legendWidth-n-2*i-4,s),o&&(o.x=n,o.y=s)},destroyItem:function(t){var e=t.checkbox;ni(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&I(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,s=this.clipHeight||this.legendHeight;i&&(e=i.translateY,ni(this.allItems,function(n){var o,r=n.checkbox;r&&(o=e+r.y+(t||0)+3,f(r,{left:i.translateX+n.legendItemWidth+r.x-20+"px",top:o+"px",display:o>e-6&&e+s-6>o?"":Ge}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i,s=this,n=s.chart,o=n.renderer,r=s.options,a="horizontal"===r.layout,h=r.symbolWidth,l=r.symbolPadding,c=s.itemStyle,d=s.itemHiddenStyle,p=s.padding,u=a?g(r.itemDistance,8):0,f=!r.rtl,x=r.width,y=r.itemMarginBottom||0,v=s.itemMarginTop,b=s.initialItemX,w=t.legendItem,T=t.series||t,L=T.options,S=L.showCheckbox,P=r.useHTML;!w&&(t.legendGroup=o.g("legend-item").attr({zIndex:1}).add(s.scrollGroup),T.drawLegendSymbol(s,t),t.legendItem=w=o.text(r.labelFormat?k(r.labelFormat,t):r.labelFormatter.call(t),f?h+l:-l,s.baseline,P).css(e(t.visible?c:d)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),(P?w:t.legendGroup).on("mouseover",function(){t.setState("hover"),w.css(s.options.itemHoverStyle)}).on("mouseout",function(){w.css(t.visible?c:d),t.setState()}).on("click",function(e){var i=function(){t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):ci(t,"legendItemClick",e,i)}),s.colorizeItem(t,t.visible),L&&S)&&(t.checkbox=m("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},r.itemCheckboxStyle,n.container),hi(t.checkbox,"click",function(e){ci(t,"checkboxClick",{checked:e.target.checked},function(){t.select()})})),o=w.getBBox(),i=t.legendItemWidth=r.itemWidth||h+l+o.width+u+(S?20:0),r=i,s.itemHeight=h=o.height,a&&s.itemX-b+r>(x||n.chartWidth-2*p-b)&&(s.itemX=b,s.itemY+=v+s.lastLineHeight+y,s.lastLineHeight=0),s.maxItemWidth=xe(s.maxItemWidth,r),s.lastItemY=v+s.itemY+y,s.lastLineHeight=xe(h,s.lastLineHeight),t._legendItemPos=[s.itemX,s.itemY],a?s.itemX+=r:(s.itemY+=v+h+y,s.lastLineHeight=h),s.offsetWidth=x||xe((a?s.itemX-b-u:r)+p,s.offsetWidth)},render:function(){var e,i,s,n,o=this,r=o.chart,a=r.renderer,h=o.group,l=o.box,c=o.options,p=o.padding,u=c.borderWidth,g=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,h||(o.group=h=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(h),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),e=[],ni(r.series,function(t){var i=t.options;i.showInLegend&&!d(i.linkedTo)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),M(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,ni(e,function(t){o.renderItem(t)}),s=c.width||o.offsetWidth,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),(u||g)&&(s+=p,n+=p,l?s>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp(null,null,null,s,n)),l.isNew=!1):(o.box=l=a.rect(0,0,s,n,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:g||Ge}).add(h).shadow(c.shadow),l.isNew=!0),l[i?"show":"hide"]()),o.legendWidth=s,o.legendHeight=n,ni(e,function(t){o.positionItem(t)}),i&&h.align(t({width:s,height:n},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e=this,i=this.chart,s=i.renderer,n=this.options,o=n.y,o=i.spacingBox.height+("top"===n.verticalAlign?-o:o)-this.padding,r=n.maxHeight,a=this.clipRect,h=n.navigation,l=g(h.animation,!0),c=h.arrowSize||12,d=this.nav;return"horizontal"===n.layout&&(o/=2),r&&(o=ye(o,r)),t>o&&!n.useHTML?(this.clipHeight=i=o-20-this.titleHeight,this.pageCount=me(t/i),this.currentPage=g(this.currentPage,1),this.fullHeight=t,a||(a=e.clipRect=s.clipRect(0,0,9999,0),e.contentGroup.clip(a)),a.attr({height:i}),d||(this.nav=d=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,c,c).on("click",function(){e.scroll(-1,l)}).add(d),this.pager=s.text("",15,10).css(h.style).add(d),this.down=s.symbol("triangle-down",0,0,c,c).on("click",function(){e.scroll(1,l)}).add(d)),e.scroll(0),t=o):d&&(a.attr({height:i.chartHeight}),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pageCount,s=this.currentPage+t,n=this.clipHeight,o=this.options.navigation,r=o.activeColor,a=o.inactiveColor,o=this.pager,h=this.padding;s>i&&(s=i),s>0&&(e!==j&&O(e,this.chart),this.nav.attr({translateX:h,translateY:n+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===s?a:r}).css({cursor:1===s?"default":"pointer"}),o.attr({text:s+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?a:r}).css({cursor:s===i?"default":"pointer"}),n=-ye(n*(s-1),this.fullHeight-n+h)+1,this.scrollGroup.animate({translateY:n}),o.attr({text:s+"/"+i}),this.currentPage=s,this.positionCheckboxes(n))}},V.prototype={init:function(t,i){var s,n=t.series;t.series=null,s=e(Z,t),s.series=t.series=n;var n=s.chart,r=n.margin,r=o(r)?r:[r,r,r,r];this.optionsMarginTop=g(n.marginTop,r[0]),this.optionsMarginRight=g(n.marginRight,r[1]),this.optionsMarginBottom=g(n.marginBottom,r[2]),this.optionsMarginLeft=g(n.marginLeft,r[3]),r=n.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=s,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes;var a,h=this;if(h.index=Ee.length,Ee.push(h),n.reflow!==!1&&hi(h,"load",function(){h.initReflow()}),r)for(a in r)hi(h,a,r[a]);h.xAxis=[],h.yAxis=[],h.animation=Oe?!1:g(n.animation,!0),h.pointCount=0,h.counters=new P,h.firstRender()},initSeries:function(t){var e=this.options.chart;return(e=Je[t.type||e.type||e.defaultSeriesType])||B(17,!0),e=new e,e.init(this,t),e},addSeries:function(t,e,i){var s,n=this;return t&&(e=g(e,!0),ci(n,"addSeries",{options:t},function(){s=n.initSeries(t),n.isDirtyLegend=!0,n.linkSeries(),e&&n.redraw(i)})),s},addAxis:function(t,i,s,n){var o=i?"xAxis":"yAxis",r=this.options;new Y(this,e(t,{index:this[o].length,isX:i})),r[o]=u(r[o]||{}),r[o].push(t),g(s,!0)&&this.redraw(n)},isInsidePlot:function(t,e,i){var s=i?e:t,t=i?t:e;return s>=0&&s<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&ni(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,i,s=this.axes,n=this.series,o=this.pointer,r=this.legend,a=this.isDirtyLegend,h=this.isDirtyBox,l=n.length,c=l,d=this.renderer,p=d.isHidden(),u=[];for(O(t,this),p&&this.cloneRenderTo(),this.layOutTitles();c--;)if(t=n[c],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(c=l;c--;)t=n[c],t.options.stacking&&(t.isDirty=!0);ni(n,function(t){t.isDirty&&"point"===t.options.legendType&&(a=!0)}),a&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),e&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,ni(s,function(t){t.setScale()})),this.adjustTickAmounts(),this.getMargins(),ni(s,function(t){t.isDirty&&(h=!0)}),ni(s,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,u.push(function(){ci(t,"afterSetExtremes",t.getExtremes())})),(h||e)&&t.redraw()})),h&&this.drawChartBox(),ni(n,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),o&&o.reset&&o.reset(!0),d.draw(),ci(this,"redraw"),p&&this.cloneRenderTo(!0),ni(u,function(t){t.call()})},showLoading:function(e){var i=this.options,s=this.loadingDiv,n=i.loading;s||(this.loadingDiv=s=m(Ye,{className:"highcharts-loading"},t(n.style,{zIndex:10,display:Ge}),this.container),this.loadingSpan=m("span",null,n.labelStyle,s)),this.loadingSpan.innerHTML=e||i.lang.loading,this.loadingShown||(f(s,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),pi(s,{opacity:n.style.opacity},{duration:n.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&pi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Ge})}}),this.loadingShown=!1},get:function(t){var e,i,s=this.axes,n=this.series;for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<n.length;e++)for(i=n[e].points||[],s=0;s<i.length;s++)if(i[s].id===t)return i[s];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=u(e.xAxis||{}),e=e.yAxis=u(e.yAxis||{});ni(i,function(t,e){t.index=e,t.isX=!0}),ni(e,function(t,e){t.index=e}),i=i.concat(e),ni(i,function(e){new Y(t,e)}),t.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return ni(this.series,function(e){t=t.concat(oi(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return oi(this.series,function(t){return t.selected})},getStacks:function(){var t=this;ni(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ni(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+g(e.options.stack,""))})},showResetZoom:function(){var t=this,e=Z.lang,i=t.options.chart.resetZoomButton,s=i.theme,n=s.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},s,n&&n.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,o)},zoomOut:function(){var t=this;ci(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,s=this.pointer,n=!1;!t||t.resetSelection?ni(this.axes,function(t){e=t.zoom()}):ni(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,o=i.isXAxis;(s[o?"zoomX":"zoomY"]||s[o?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(n=!0))}),i=this.resetZoomButton,n&&!i?this.showResetZoom():!n&&o(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,s=this,n=s.hoverPoints;n&&ni(n,function(t){t.setState()}),ni("xy"===e?[1,0]:[1],function(e){var n=t[e?"chartX":"chartY"],o=s[e?"xAxis":"yAxis"][0],r=s[e?"mouseDownX":"mouseDownY"],a=(o.pointRange||0)/2,h=o.getExtremes(),l=o.toValue(r-n,!0)+a,r=o.toValue(r+s[e?"plotWidth":"plotHeight"]-n,!0)-a;o.series.length&&l>ye(h.dataMin,h.min)&&r<xe(h.dataMax,h.max)&&(o.setExtremes(l,r,!1,!1,{trigger:"pan"}),i=!0),s[e?"mouseDownX":"mouseDownY"]=n}),i&&s.redraw(!1),f(s.container,{cursor:"move"})},setTitle:function(t,i){var s,n,o=this,r=o.options;n=r.title=e(r.title,t),s=r.subtitle=e(r.subtitle,i),r=s,ni([["title",t,n],["subtitle",i,r]],function(t){var e=t[0],i=o[e],s=t[1],t=t[2];i&&s&&(o[e]=i=i.destroy()),t&&t.text&&!i&&(o[e]=o.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),o.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,s=this.subtitle,n=this.options,o=n.title,n=n.subtitle,r=this.spacingBox.width-44;!i||(i.css({width:(o.width||r)+"px"}).align(t({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(e=i.getBBox().height,e>=18&&25>=e&&(e=15)),s&&(s.css({width:(n.width||r)+"px"}).align(t({y:e+o.margin},n),!1,"spacingBox"),!n.floating&&!n.verticalAlign&&(e=me(e+s.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this.options.chart,e=this.renderToClone||this.renderTo;this.containerWidth=ei(e,"width"),this.containerHeight=ei(e,"height"),this.chartWidth=xe(0,t.width||this.containerWidth||600),this.chartHeight=xe(0,g(t.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),I(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:"absolute",top:"-9999px",display:"block"}),de.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,s,o,r,a=this.options.chart;this.renderTo=e=a.renderTo,r="highcharts-"+Xe++,n(e)&&(this.renderTo=e=de.getElementById(e)),e||B(13,!0),s=i(p(e,"data-highcharts-chart")),!isNaN(s)&&Ee[s]&&Ee[s].destroy(),p(e,"data-highcharts-chart",this.index),e.innerHTML="",e.offsetWidth||this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=e=m(Ye,{className:"highcharts-container"+(a.className?" "+a.className:""),id:r},t({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=a.forExport?new mi(e,s,o,!0):new _(e,s,o),Oe&&this.renderer.create(this,e,s,o)},getMargins:function(){var t,e=this.options.chart,i=e.spacingTop,s=e.spacingRight,n=e.spacingBottom,e=e.spacingLeft,o=this.legend,r=this.optionsMarginTop,a=this.optionsMarginLeft,h=this.optionsMarginRight,l=this.optionsMarginBottom,c=this.options.legend,p=g(c.margin,10),u=c.x,f=c.y,m=c.align,x=c.verticalAlign,y=this.titleOffset;this.resetMargins(),t=this.axisOffset,y&&!d(r)&&(this.plotTop=xe(this.plotTop,y+this.options.title.margin+i)),o.display&&!c.floating&&("right"===m?d(h)||(this.marginRight=xe(this.marginRight,o.legendWidth-u+p+s)):"left"===m?d(a)||(this.plotLeft=xe(this.plotLeft,o.legendWidth+u+p+e)):"top"===x?d(r)||(this.plotTop=xe(this.plotTop,o.legendHeight+f+p+i)):"bottom"!==x||d(l)||(this.marginBottom=xe(this.marginBottom,o.legendHeight-f+p+n))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&ni(this.axes,function(t){t.getOffset()}),d(a)||(this.plotLeft+=t[3]),d(r)||(this.plotTop+=t[0]),d(l)||(this.marginBottom+=t[2]),d(h)||(this.marginRight+=t[1]),this.setChartSize()},initReflow:function(){function t(t){var o=s.width||ei(n,"width"),r=s.height||ei(n,"height"),t=t?t.target:pe;i.hasUserSize||!o||!r||t!==pe&&t!==de||((o!==i.containerWidth||r!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&(i.setSize(o,r,!1),i.hasUserSize=null)},100)),i.containerWidth=o,i.containerHeight=r)}var e,i=this,s=i.options.chart,n=i.renderTo;hi(pe,"resize",t),hi(i,"destroy",function(){li(pe,"resize",t)})},setSize:function(t,e,i){var s,n,o,r=this;r.isResizing+=1,o=function(){r&&ci(r,"endResize",null,function(){r.isResizing-=1})},O(i,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,d(t)&&(r.chartWidth=s=xe(0,ge(t)),r.hasUserSize=!!s),d(e)&&(r.chartHeight=n=xe(0,ge(e))),f(r.container,{width:s+"px",height:n+"px"}),r.setChartSize(!0),r.renderer.setSize(s,n,i),r.maxTicks=null,ni(r.axes,function(t){t.isDirty=!0,t.setScale()}),ni(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(i),r.oldChartHeight=null,ci(r,"resize"),q===!1?o():setTimeout(o,q&&q.duration||500)},setChartSize:function(t){var e,i,s,n,o=this.inverted,r=this.renderer,a=this.chartWidth,h=this.chartHeight,l=this.options.chart,c=l.spacingTop,d=l.spacingRight,p=l.spacingBottom,u=l.spacingLeft,g=this.clipOffset;this.plotLeft=e=ge(this.plotLeft),this.plotTop=i=ge(this.plotTop),this.plotWidth=s=xe(0,ge(a-e-this.marginRight)),this.plotHeight=n=xe(0,ge(h-i-this.marginBottom)),this.plotSizeX=o?n:s,this.plotSizeY=o?s:n,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:u,y:c,width:a-u-d,height:h-c-p},this.plotBox=r.plotBox={x:e,y:i,width:s,height:n},a=2*fe(this.plotBorderWidth/2),o=me(xe(a,g[3])/2),r=me(xe(a,g[0])/2),this.clipBox={x:o,y:r,width:fe(this.plotSizeX-xe(a,g[1])/2-o),height:fe(this.plotSizeY-xe(a,g[2])/2-r)},t||ni(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this.options.chart,e=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft;
this.plotTop=g(this.optionsMarginTop,t.spacingTop),this.marginRight=g(this.optionsMarginRight,e),this.marginBottom=g(this.optionsMarginBottom,i),this.plotLeft=g(this.optionsMarginLeft,s),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,s=this.chartWidth,n=this.chartHeight,o=this.chartBackground,r=this.plotBackground,a=this.plotBorder,h=this.plotBGImage,l=e.borderWidth||0,c=e.backgroundColor,d=e.plotBackgroundColor,p=e.plotBackgroundImage,u=e.plotBorderWidth||0,g=this.plotLeft,f=this.plotTop,m=this.plotWidth,x=this.plotHeight,y=this.plotBox,v=this.clipRect,b=this.clipBox;t=l+(e.shadow?8:0),(l||c)&&(o?o.animate(o.crisp(null,null,null,s-t,n-t)):(o={fill:c||Ge},l&&(o.stroke=e.borderColor,o["stroke-width"]=l),this.chartBackground=i.rect(t/2,t/2,s-t,n-t,e.borderRadius,l).attr(o).add().shadow(e.shadow))),d&&(r?r.animate(y):this.plotBackground=i.rect(g,f,m,x,0).attr({fill:d}).add().shadow(e.plotShadow)),p&&(h?h.animate(y):this.plotBGImage=i.image(p,g,f,m,x).add()),v?v.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),u&&(a?a.animate(a.crisp(null,g,f,m,x)):this.plotBorder=i.rect(g,f,m,x,0,-u).attr({stroke:e.plotBorderColor,"stroke-width":u,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,s=this,n=s.options.chart,o=s.options.series;ni(["inverted","angular","polar"],function(r){for(t=Je[n.type||n.defaultSeriesType],i=s[r]||n[r]||t&&t.prototype[r],e=o&&o.length;!i&&e--;)(t=Je[o[e].type])&&t.prototype[r]&&(i=!0);s[r]=i})},linkSeries:function(){var t=this,e=t.series;ni(e,function(t){t.linkedSeries.length=0}),ni(e,function(e){var i=e.options.linkedTo;n(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},render:function(){var e,s=this,n=s.axes,o=s.renderer,r=s.options,a=r.labels,h=r.credits;s.setTitle(),s.legend=new F(s,r.legend),s.getStacks(),ni(n,function(t){t.setScale()}),s.getMargins(),s.maxTicks=null,ni(n,function(t){t.setTickPositions(!0),t.setMaxTicks()}),s.adjustTickAmounts(),s.getMargins(),s.drawChartBox(),s.hasCartesianSeries&&ni(n,function(t){t.render()}),s.seriesGroup||(s.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),ni(s.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&ni(a.items,function(e){var n=t(a.style,e.style),r=i(n.left)+s.plotLeft,h=i(n.top)+s.plotTop+12;delete n.left,delete n.top,o.text(e.html,r,h).attr({zIndex:2}).css(n).add()}),h.enabled&&!s.credits&&(e=h.href,s.credits=o.text(h.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:h.position.align,zIndex:8}).css(h.style).add().align(h.position)),s.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,s=e.series,n=e.container,o=n&&n.parentNode;for(ci(e,"destroy"),Ee[e.index]=j,e.renderTo.removeAttribute("data-highcharts-chart"),li(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=s.length;t--;)s[t]=s[t].destroy();ni("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),n&&(n.innerHTML="",li(n),o&&I(n));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Be&&pe==pe.top&&"complete"!==de.readyState||Oe&&!pe.canvg?(Oe?vi.push(function(){t.firstRender()},t.options.global.canvasToolsURL):de.attachEvent("onreadystatechange",function(){de.detachEvent("onreadystatechange",t.firstRender),"complete"===de.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),ci(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ni(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),ci(t,"beforeRender"),t.pointer=new N(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),ni(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),ci(t,"load"))}},V.prototype.callbacks=[];var bi=function(){};bi.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(e,i){var s=this.series,n=s.pointValKey,e=bi.prototype.optionsToObject.call(this,e);return t(this,e),this.options=this.options?t(this.options,e):e,n&&(this.y=this[n]),this.x===j&&s&&(this.x=i===j?s.autoIncrement():i),this},optionsToObject:function(t){var e,i=this.series,s=i.pointArrayMap||["y"],n=s.length,o=0,a=0;if("number"==typeof t||null===t)e={y:t};else if(r(t))for(e={},t.length>n&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),o++);n>a;)e[s[a++]]=t[o++];else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),c(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(li(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(t,e){var i=this,s=i.series,n=s.chart,t=g(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,s.options.data[si(i,s.data)]=i.options,i.setState(t&&"select"),e||ni(n.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,s.options.data[si(t,s.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series,i=e.chart,s=i.tooltip,n=i.hoverPoint;n&&n!==this&&n.onMouseOut(),this.firePointEvent("mouseOver"),s&&(!s.shared||e.noSharedTooltip)&&s.refresh(this,t),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==si(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,s=g(i.valueDecimals,""),n=i.valuePrefix||"",o=i.valueSuffix||"";return ni(e.pointArrayMap||["y"],function(e){e="{point."+e,(n||o)&&(t=t.replace(e+"}",n+e+"}"+o)),t=t.replace(e+"}",e+":,."+s+"f}")}),k(t,{point:this,series:this.series})},update:function(t,e,i){var s,n=this,r=n.series,a=n.graphic,h=r.data,l=r.chart,c=r.options,e=g(e,!0);n.firePointEvent("update",{options:t},function(){n.applyOptions(t),o(t)&&(r.getAttribs(),a)&&(t.marker&&t.marker.symbol?n.graphic=a.destroy():a.attr(n.pointAttr[r.state])),s=si(n,h),r.xData[s]=n.x,r.yData[s]=r.toYData?r.toYData(n):n.y,r.zData[s]=n.z,c.data[s]=n.options,r.isDirty=r.isDirtyData=l.isDirtyBox=!0,"point"===c.legendType&&l.legend.destroyItem(n),e&&l.redraw(i)})},remove:function(t,e){var i,s=this,n=s.series,o=n.chart,r=n.data;O(e,o),t=g(t,!0),s.firePointEvent("remove",null,function(){i=si(s,r),r.splice(i,1),n.options.data.splice(i,1),n.xData.splice(i,1),n.yData.splice(i,1),n.zData.splice(i,1),s.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(t,e,i){var s=this,n=this.series.options;(n.point.events[t]||s.options&&s.options.events&&s.options.events[t])&&this.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){s.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ci(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)hi(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t){var i=this.plotX,s=this.plotY,n=this.series,o=n.options.states,r=gi[n.type].marker&&n.options.marker,a=r&&!r.enabled,h=r&&r.states[t],l=h&&h.enabled===!1,c=n.stateMarkerGraphic,d=this.marker||{},p=n.chart,u=this.pointAttr,t=t||"";t===this.state||this.selected&&"select"!==t||o[t]&&o[t].enabled===!1||t&&(l||a&&!h.enabled)||(this.graphic?(o=r&&this.graphic.symbolName&&u[t].r,this.graphic.attr(e(u[t],o?{x:i-o,y:s-o,width:2*o,height:2*o}:{}))):(t&&h&&(o=h.radius,d=d.symbol||n.symbol,c&&c.currentSymbol!==d&&(c=c.destroy()),c?c.attr({x:i-o,y:s-o}):(n.stateMarkerGraphic=c=p.renderer.symbol(d,i-o,s-o,2*o,2*o).attr(u[t]).add(n.markerGroup),c.currentSymbol=d)),c&&c[t&&p.isInsidePlot(i,s)?"show":"hide"]()),this.state=t)}};var ki=function(){};ki.prototype={isCartesian:!0,type:"line",pointClass:bi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,i){var s,n,o=e.series;this.chart=e,this.options=i=this.setOptions(i),this.linkedSeries=[],this.bindAxes(),t(this,{name:i.name,state:"",pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Oe&&(i.animation=!1),n=i.events;for(s in n)hi(this,s,n[s]);(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1),this.isCartesian&&(e.hasCartesianSeries=!0),o.push(this),this._i=o.length-1,M(o,function(t,e){return g(t.options.index,t._i)-g(e.options.index,t._i)}),ni(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,s=e.chart;e.isCartesian&&ni(["xAxis","yAxis"],function(n){ni(s[n],function(s){t=s.options,(i[n]===t.index||i[n]!==j&&i[n]===t.id||i[n]===j&&0===t.index)&&(s.series.push(e),e[n]=s,s.isDirty=!0)}),e[n]||B(18,!0)})},autoIncrement:function(){var t=this.options,e=this.xIncrement,e=g(e,t.pointStart,0);return this.pointInterval=g(this.pointInterval,t.pointInterval,1),this.xIncrement=e+this.pointInterval,e},getSegments:function(){var t,e=-1,i=[],s=this.points,n=s.length;if(n)if(this.options.connectNulls){for(t=n;t--;)null===s[t].y&&s.splice(t,1);s.length&&(i=[s])}else ni(s,function(t,o){null===t.y?(o>e+1&&i.push(s.slice(e+1,o)),e=o):o===n-1&&i.push(s.slice(e+1,o+1))});this.segments=i},setOptions:function(t){var i=this.chart.options,s=i.plotOptions,n=s[this.type];return this.userOptions=t,t=e(n,s.series,t),this.tooltipOptions=e(i.tooltip,t.tooltip),null===n.marker&&delete t.marker,t},getColor:function(){var t,e=this.options,i=this.userOptions,s=this.chart.options.colors,n=this.chart.counters;t=e.color||gi[this.type].color,t||e.colorByPoint||(d(i._colorIndex)?e=i._colorIndex:(i._colorIndex=n.color,e=n.color++),t=s[e]),this.color=t,n.wrapColor(s.length)},getSymbol:function(){var t=this.userOptions,e=this.options.marker,i=this.chart,s=i.options.symbols,i=i.counters;this.symbol=e.symbol,this.symbol||(d(t._symbolIndex)?t=t._symbolIndex:(t._symbolIndex=i.symbol,t=i.symbol++),this.symbol=s[t]),/^url/.test(this.symbol)&&(e.radius=0),i.wrapSymbol(s.length)},drawLegendSymbol:function(t){var e,i=this.options,s=i.marker,n=t.options;e=n.symbolWidth;var o=this.chart.renderer,r=this.legendGroup,t=t.baseline-ge(.3*o.fontMetrics(n.itemStyle.fontSize).b);i.lineWidth&&(n={"stroke-width":i.lineWidth},i.dashStyle&&(n.dashstyle=i.dashStyle),this.legendLine=o.path(["M",0,t,"L",e,t]).attr(n).add(r)),s&&s.enabled&&(i=s.radius,this.legendSymbol=e=o.symbol(this.symbol,e/2-i,t-i,2*i,2*i).add(r),e.isMarker=!0)},addPoint:function(t,e,i,s){var n=this.options,o=this.data,r=this.graph,a=this.area,h=this.chart,l=this.xData,c=this.yData,d=this.zData,p=this.names,u=r&&r.shift||0,f=n.data;O(s,h),i&&ni([r,a,this.graphNeg,this.areaNeg],function(t){t&&(t.shift=u+1)}),a&&(a.isArea=!0),e=g(e,!0),s={series:this},this.pointClass.prototype.applyOptions.apply(s,[t]),l.push(s.x),c.push(this.toYData?this.toYData(s):s.y),d.push(s.z),p&&(p[s.x]=s.name),f.push(t),"point"===n.legendType&&this.generatePoints(),i&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),l.shift(),c.shift(),d.shift(),f.shift())),this.isDirtyData=this.isDirty=!0,e&&(this.getAttribs(),h.redraw())},setData:function(t,e){var i,s=this.points,o=this.options,h=this.chart,l=null,c=this.xAxis,d=c&&c.categories&&!c.categories.length?[]:null;this.xIncrement=null,this.pointRange=c&&c.categories?1:o.pointRange,this.colorCounter=0;var p=[],u=[],f=[],m=t?t.length:[];i=g(o.turboThreshold,1e3);var x=this.pointArrayMap,x=x&&x.length,y=!!this.toYData;if(i&&m>i){for(i=0;null===l&&m>i;)l=t[i],i++;if(a(l)){for(l=g(o.pointStart,0),o=g(o.pointInterval,1),i=0;m>i;i++)p[i]=l,u[i]=t[i],l+=o;this.xIncrement=l}else if(r(l))if(x)for(i=0;m>i;i++)o=t[i],p[i]=o[0],u[i]=o.slice(1,x+1);else for(i=0;m>i;i++)o=t[i],p[i]=o[0],u[i]=o[1];else B(12)}else for(i=0;m>i;i++)t[i]!==j&&(o={series:this},this.pointClass.prototype.applyOptions.apply(o,[t[i]]),p[i]=o.x,u[i]=y?this.toYData(o):o.y,f[i]=o.z,d&&o.name)&&(d[o.x]=o.name);for(n(u[0])&&B(14,!0),this.data=[],this.options.data=t,this.xData=p,this.yData=u,this.zData=f,this.names=d,i=s&&s.length||0;i--;)s[i]&&s[i].destroy&&s[i].destroy();c&&(c.minRange=c.userMinRange),this.isDirty=this.isDirtyData=h.isDirtyBox=!0,g(e,!0)&&h.redraw(!1)},remove:function(t,e){var i=this,s=i.chart,t=g(t,!0);i.isRemoving||(i.isRemoving=!0,ci(i,"remove",null,function(){i.destroy(),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),t&&s.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i=this.xData,s=this.yData,n=i.length;e=0;var o,r,a=this.xAxis,h=this.options,l=h.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&this.sorted&&(!l||n>l||this.forceCrop)&&(t=a.min,a=a.max,i[n-1]<t||i[0]>a?(i=[],s=[]):(i[0]<t||i[n-1]>a)&&(e=this.cropData(this.xData,this.yData,t,a),i=e.xData,s=e.yData,e=e.start,o=!0)),a=i.length-1;a>=0;a--)n=i[a]-i[a-1],n>0&&(r===j||r>n)?r=n:0>n&&this.requireSorting&&B(15);this.cropped=o,this.cropStart=e,this.processedXData=i,this.processedYData=s,null===h.pointRange&&(this.pointRange=r||1),this.closestPointRange=r},cropData:function(t,e,i,s){var n,o=t.length,r=0,a=o;for(n=0;o>n;n++)if(t[n]>=i){r=xe(0,n-1);break}for(;o>n;n++)if(t[n]>s){a=n+1;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,s,n=this.options.data,o=this.data,r=this.processedXData,a=this.processedYData,h=this.pointClass,l=r.length,c=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=n.length,o=this.data=o),s=0;l>s;s++)e=c+s,d?p[s]=(new h).init(this,[r[s]].concat(u(a[s]))):(o[e]?i=o[e]:n[e]!==j&&(o[e]=i=(new h).init(this,n[e],r[s])),p[s]=i);if(o&&(l!==(t=o.length)||d))for(s=0;t>s;s++)s===c&&!d&&(s+=l),o[s]&&(o[s].destroyElements(),o[s].plotX=j);this.data=o,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,s,n,o=this.processedXData,r=this.processedYData,a=r.length,h=this.options,l=h.threshold,c=h.stack,h=h.stacking,d=this.stackKey,p="-"+d,u=this.yAxis,g=u.stacks,f=u.oldStacks,m=u.stackExtremes;for(i=0;a>i;i++)s=o[i],n=r[i],e=(t=this.negStacks&&l>n)?p:d,"number"==typeof n&&!m[d]&&(m[d]={dataMin:n,dataMax:n}),g[e]||(g[e]={}),g[e][s]||(f[e]&&f[e][s]?(g[e][s]=f[e][s],g[e][s].total=null):g[e][s]=new E(u,u.options.stackLabels,t,s,c,h)),e=g[e][s],t=e.total,e.addValue(n||0),e.cacheExtremes(this,[t,t+(n||0)]),"number"==typeof n&&(m[d].dataMin=ye(m[d].dataMin,e.total,n),m[d].dataMax=xe(m[d].dataMax,e.total,n));u.oldStacks={}}},getExtremes:function(){var t,e,i,s=this.yAxis,n=this.stackKey,o=this.options,r=s.isLog?null:o.threshold,a=this.processedXData,h=this.processedYData,l=h.length,c=[],p=0,u=this.xAxis.getExtremes(),f=u.min,u=u.max;if(o.stacking&&(t=s.stackExtremes[n],e=t.dataMin,t=t.dataMax,e=ye(e,g(r,e)),t=xe(t,g(r,t))),!d(e)||!d(t)){for(n=0;l>n;n++)if(i=a[n],r=h[n],o=null!==r&&r!==j&&(!s.isLog||r.length||r>0),i=this.getExtremesFromAll||this.cropped||(a[n+1]||i)>=f&&(a[n-1]||i)<=u,o&&i)if(o=r.length)for(;o--;)null!==r[o]&&(c[p++]=r[o]);else c[p++]=r;e=g(e,A(c)),t=g(t,C(c))}this.dataMin=e,this.dataMax=t},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t=this.options,e=t.stacking,i=this.xAxis,s=i.categories,n=this.yAxis,o=this.points,r=o.length,h=!!this.modifyValue,l=t.pointPlacement,c="between"===l||a(l),p=t.threshold,t=0;r>t;t++){var u,f=o[t],m=f.x,x=f.y,y=f.low,v=n.stacks[(this.negStacks&&p>x?"-":"")+this.stackKey];n.isLog&&0>=x&&(f.y=x=null),f.plotX=i.translate(m,0,0,0,1,l),e&&this.visible&&v&&v[m]&&(v=v[m],u=v.total,v.cum=y=v.cum-x,x=y+x,0===v.cum&&(y=g(p,n.min)),n.isLog&&0>=y&&(y=null),"percent"===e&&(y=u?100*y/u:0,x=u?100*x/u:0),f.percentage=u?100*f.y/u:0,f.total=f.stackTotal=u,f.stackY=x,v.setOffset(this.pointXOffset||0,this.barW||0)),f.yBottom=d(y)?n.translate(y,0,1,0,1):null,h&&(x=this.modifyValue(x,f)),f.plotY="number"==typeof x&&1/0!==x?n.translate(x,0,1,0,1):j,f.clientX=c?i.translate(m,0,0,0,1):f.plotX,f.negative=f.y<(p||0),f.category=s&&s[f.x]!==j?s[f.x]:f.x}this.getSegments()},setTooltipPoints:function(t){var e,i,s,n,o,r=[],a=(e=this.xAxis)?e.tooltipLen||e.len:this.chart.plotSizeX,h=[];if(this.options.enableMouseTracking!==!1){for(t&&(this.tooltipPoints=null),ni(this.segments||this.points,function(t){r=r.concat(t)}),e&&e.reversed&&(r=r.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(r),t=r.length,o=0;t>o;o++)for(s=r[o],n=r[o+1],e=r[o-1]?i+1:0,i=r[o+1]?ye(xe(0,fe((s.clientX+(n?n.wrappedClientX||n.clientX:a))/2)),a):a;e>=0&&i>=e;)h[e++]=s;this.tooltipPoints=h}},tooltipHeaderFormatter:function(t){var e,i=this.tooltipOptions,s=i.xDateFormat,n=i.dateTimeLabelFormats,o=this.xAxis,r=o&&"datetime"===o.options.type,i=i.headerFormat,o=o&&o.closestPointRange;if(r&&!s)if(o){for(e in J)if(J[e]>=o){s=n[e];break}}else s=n.day;return r&&s&&a(t.key)&&(i=i.replace("{point.key}","{point.key:"+s+"}")),k(i,{point:t,series:this})},onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&ci(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,s=e.hoverPoint;s&&s.onMouseOut(),this&&t.events.mouseOut&&ci(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),e.hoverSeries=null},animate:function(e){var i,s=this,n=s.chart,r=n.renderer;i=s.options.animation;var a,h=n.clipBox,l=n.inverted;i&&!o(i)&&(i=gi[s.type].animation),a="_sharedClip"+i.duration+i.easing,e?(e=n[a],i=n[a+"m"],e||(n[a]=e=r.clipRect(t(h,{width:0})),n[a+"m"]=i=r.clipRect(-99,l?-n.plotLeft:-n.plotTop,99,l?n.chartWidth:n.chartHeight)),s.group.clip(e),s.markerGroup.clip(i),s.sharedClipKey=a):((e=n[a])&&(e.animate({width:n.plotSizeX},i),n[a+"m"].animate({width:n.plotSizeX+99},i)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},i.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,s,n,o,r,a,h,l,c,d=this.points,p=this.chart,u=this.options.marker,f=this.markerGroup;if(u.enabled||this._hasPointMarkers)for(n=d.length;n--;)o=d[n],i=fe(o.plotX),s=o.plotY,l=o.graphic,a=o.marker||{},e=u.enabled&&a.enabled===j||a.enabled,c=p.isInsidePlot(ge(i),s,p.inverted),e&&s!==j&&!isNaN(s)&&null!==o.y?(e=o.pointAttr[o.selected?"select":""],r=e.r,a=g(a.symbol,this.symbol),h=0===a.indexOf("url"),l?l.attr({visibility:c?Be?"inherit":"visible":"hidden"}).animate(t({x:i-r,y:s-r},l.symbolName?{width:2*r,height:2*r}:{})):c&&(r>0||h)&&(o.graphic=p.renderer.symbol(a,i-r,s-r,2*r,2*r).attr(e).add(f))):l&&(o.graphic=l.destroy())},convertAttribs:function(t,e,i,s){var n,o,r=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},s=s||{};for(n in r)o=r[n],a[n]=g(t[o],e[n],i[n],s[n]);return a},getAttribs:function(){var e,i,s,n=this,o=n.options,r=gi[n.type].marker?o.marker:o,a=r.states,h=a.hover,l=n.color,c={stroke:l,fill:l},p=n.points||[],u=[],g=n.pointAttrToOptions,f=o.negativeColor;for(o.marker?(h.radius=h.radius||r.radius+2,h.lineWidth=h.lineWidth||r.lineWidth+1):h.color=h.color||fi(h.color||l).brighten(h.brightness).get(),u[""]=n.convertAttribs(r,c),ni(["hover","select"],function(t){u[t]=n.convertAttribs(a[t],u[""])}),n.pointAttr=u,l=p.length;l--;){if(c=p[l],(r=c.options&&c.options.marker||c.options)&&r.enabled===!1&&(r.radius=0),c.negative&&f&&(c.color=c.fillColor=f),e=o.colorByPoint||c.color,c.options)for(s in g)d(r[g[s]])&&(e=!0);e?(r=r||{},i=[],a=r.states||{},e=a.hover=a.hover||{},o.marker||(e.color=fi(e.color||c.color).brighten(e.brightness||h.brightness).get()),i[""]=n.convertAttribs(t({color:c.color},r),u[""]),i.hover=n.convertAttribs(a.hover,u.hover,i[""]),i.select=n.convertAttribs(a.select,u.select,i[""]),c.negative&&o.marker&&f&&(i[""].fill=i.hover.fill=i.select.fill=n.convertAttribs({fillColor:f}).fill)):i=u,c.pointAttr=i}},update:function(i,s){var n=this.chart,o=this.type,i=e(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i);this.remove(!1),t(this,Je[i.type||o].prototype),this.init(n,i),g(s,!0)&&n.redraw(!1)},destroy:function(){var t,e,i,s,n,o=this,r=o.chart,a=/AppleWebKit\/533/.test(Le),h=o.data||[];for(ci(o,"destroy"),li(o),ni(["xAxis","yAxis"],function(t){(n=o[t])&&(c(n.series,o),n.isDirty=n.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=h.length;e--;)(i=h[e])&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout),ni("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),r.hoverSeries===o&&(r.hoverSeries=null),c(r.series,o);for(s in o)delete o[s]},drawDataLabels:function(){var t,i,s,n,o=this,r=o.options.dataLabels,a=o.points;(r.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(r),n=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",r.zIndex||6),i=r,ni(a,function(a){var h,l,c,p=a.dataLabel,u=a.connector,f=!0;if(t=a.options&&a.options.dataLabels,h=i.enabled||t&&t.enabled,p&&!h)a.dataLabel=p.destroy();else if(h){if(r=e(i,t),h=r.rotation,l=a.getLabelConfig(),s=r.format?k(r.format,l):r.formatter.call(l,r),r.style.color=g(r.color,r.style.color,o.color,"black"),p)d(s)?(p.attr({text:s}),f=!1):(a.dataLabel=p=p.destroy(),u&&(a.connector=u.destroy()));else if(d(s)){p={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:h,padding:r.padding,zIndex:1};for(c in p)p[c]===j&&delete p[c];p=a.dataLabel=o.chart.renderer[h?"text":"label"](s,0,-999,null,null,null,r.useHTML).attr(p).css(r.style).add(n).shadow(r.shadow)}p&&o.alignDataLabel(a,p,r,null,f)}}))},alignDataLabel:function(e,i,s,n,o){var r=this.chart,a=r.inverted,h=g(e.plotX,-999),l=g(e.plotY,-999),e=i.getBBox(),n=t({x:a?r.plotWidth-l:h,y:ge(a?r.plotHeight-h:l),width:0,height:0},n);t(s,{width:e.width,height:e.height}),s.rotation?(n={align:s.align,x:n.x+s.x+n.width/2,y:n.y+s.y+n.height/2},i[o?"attr":"animate"](n)):(i.align(s,null,n),n=i.alignAttr),i.attr({visibility:s.crop===!1||r.isInsidePlot(n.x,n.y)&&r.isInsidePlot(n.x+e.width,n.y+e.height)?r.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(t){var e=this,i=[],s=e.options.step;return ni(t,function(n,o){var r,a=n.plotX,h=n.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,n,o)):(i.push(o?"L":"M"),s&&o&&(r=t[o-1],"right"===s?i.push(r.plotX,h):"center"===s?i.push((r.plotX+a)/2,r.plotY,(r.plotX+a)/2,h):i.push(a,r.plotY)),i.push(n.plotX,n.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],s=[];return ni(e.segments,function(n){t=e.getSegmentPath(n),n.length>1?i=i.concat(t):s.push(n[0])}),e.singlePoints=s,e.graphPath=i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],s=e.lineWidth,n=e.dashStyle,o=this.getGraphPath(),r=e.negativeColor;r&&i.push(["graphNeg",r]),ni(i,function(i,r){var a=i[0],h=t[a];h?(ui(h),h.animate({d:o})):s&&o.length&&(h={stroke:i[1],"stroke-width":s,zIndex:1},n&&(h.dashstyle=n),t[a]=t.chart.renderer.path(o).attr(h).add(t.group).shadow(!r&&e.shadow))})},clipNeg:function(){var t,e=this.options,i=this.chart,s=i.renderer,n=e.negativeColor||e.negativeFillColor,o=this.graph,r=this.area,a=this.posClip,h=this.negClip;t=i.chartWidth;var l=i.chartHeight,c=xe(t,l),d=this.yAxis;n&&(o||r)&&(n=ge(d.toPixels(e.threshold||0,!0)),e={x:0,y:0,width:c,height:n},c={x:0,y:n,width:c,height:c},i.inverted&&(e.height=c.y=i.plotWidth-n,s.isVML&&(e={x:i.plotWidth-n-i.plotLeft,y:0,width:t,height:l},c={x:n+i.plotLeft-t,y:0,width:i.plotLeft+n,height:t})),d.reversed?(i=c,t=e):(i=e,t=c),a?(a.animate(i),h.animate(t)):(this.posClip=a=s.clipRect(i),this.negClip=h=s.clipRect(t),o&&this.graphNeg&&(o.clip(a),this.graphNeg.clip(h)),r&&(r.clip(a),this.areaNeg.clip(h))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ni(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(hi(i,"resize",t),hi(e,"destroy",function(){li(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,s,n){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:i,zIndex:s||.1}).add(n)),o[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this.chart,i=this.options,s=i.animation&&!!this.animate&&e.renderer.isSVG,n=this.visible?"visible":"hidden",o=i.zIndex,r=this.hasRendered,a=e.seriesGroup;t=this.plotGroup("group","series",n,o,a),this.markerGroup=this.plotGroup("markerGroup","markers",n,o,a),s&&this.animate(!0),this.getAttribs(),t.inverted=this.isCartesian?e.inverted:!1,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),e.inverted&&this.invertGroups(),i.clip!==!1&&!this.sharedClipKey&&!r&&t.clip(e.clipRect),s?this.animate():r||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirtyData,i=this.group,s=this.xAxis,n=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:g(s&&s.left,t.plotLeft),translateY:g(n&&n.top,t.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),e&&ci(this,"updatedData")},setState:function(t){var e=this.options,i=this.graph,s=this.graphNeg,n=e.states,e=e.lineWidth,t=t||"";this.state!==t&&(this.state=t,n[t]&&n[t].enabled===!1||(t&&(e=n[t].lineWidth||e+1),i&&!i.dashstyle&&(t={"stroke-width":e},i.attr(t),s&&s.attr(t))))},setVisible:function(t,e){var i,s=this,n=s.chart,o=s.legendItem,r=n.options.chart.ignoreHiddenSeries,a=s.visible;i=(s.visible=t=s.userOptions.visible=t===j?!a:t)?"show":"hide",ni(["group","dataLabelsGroup","markerGroup","tracker"],function(t){s[t]&&s[t][i]()}),n.hoverSeries===s&&s.onMouseOut(),o&&n.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&ni(n.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ni(s.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(n.isDirtyBox=!0),e!==!1&&n.redraw(),ci(s,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===j?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),ci(this,t?"select":"unselect")},drawTracker:function(){var t,e=this,i=e.options,s=i.trackByArea,n=[].concat(s?e.areaPath:e.graphPath),o=n.length,r=e.chart,a=r.pointer,h=r.renderer,l=r.options.tooltip.snap,c=e.tracker,d=i.cursor,p=d&&{cursor:d},d=e.singlePoints,u=function(){r.hoverSeries!==e&&e.onMouseOver()};if(o&&!s)for(t=o+1;t--;)"M"===n[t]&&n.splice(t+1,0,n[t+1]-l,n[t+2],"L"),(t&&"M"===n[t]||t===o)&&n.splice(t,0,"L",n[t-2]+l,n[t-1]);for(t=0;t<d.length;t++)o=d[t],n.push("M",o.plotX-l,o.plotY,"L",o.plotX+l,o.plotY);c?c.attr({d:n}):(e.tracker=h.path(n).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:Ne,fill:s?Ne:Ge,"stroke-width":i.lineWidth+(s?0:2*l),zIndex:2}).add(e.group),ni([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(p),Re&&t.on("touchstart",u)}))}},ti=x(ki),Je.line=ti,gi.area=e(Qe,{threshold:0}),ti=x(ki,{type:"area",getSegments:function(){var t,e,i,s,n,o=[],r=[],a=[],h=this.xAxis,l=this.yAxis,c=l.stacks[this.stackKey],d={},p=this.points;if(this.options.stacking&&!this.cropped){for(s=0;s<p.length;s++)d[p[s].x]=p[s];for(n in c)a.push(+n);a.sort(function(t,e){return t-e}),ni(a,function(s){d[s]?r.push(d[s]):(t=h.translate(s),i=c[s].percent?c[s].total?100*c[s].cum/c[s].total:0:c[s].cum,e=l.toPixels(i,!0),r.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:We}))}),r.length&&o.push(r)}else ki.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,i=ki.prototype.getSegmentPath.call(this,t),s=[].concat(i),n=this.options;if(3===i.length&&s.push("L",i[1],i[2]),n.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)e<t.length-1&&n.step&&s.push(t[e+1].plotX,t[e].yBottom),s.push(t[e].plotX,t[e].yBottom);else this.closeSegment(s,t);return this.areaPath=this.areaPath.concat(s),i},closeSegment:function(t,e){var i=this.yAxis.getThreshold(this.options.threshold);t.push("L",e[e.length-1].plotX,i,"L",e[0].plotX,i)},drawGraph:function(){this.areaPath=[],ki.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,s=i.negativeColor,n=i.negativeFillColor,o=[["area",this.color,i.fillColor]];(s||n)&&o.push(["areaNeg",s,n]),ni(o,function(s){var n=s[0],o=t[n];o?o.animate({d:e}):t[n]=t.chart.renderer.path(e).attr({fill:g(s[2],fi(s[1]).setOpacity(g(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}}),Je.area=ti,gi.spline=e(Qe),xi=x(ki,{type:"spline",getPointSpline:function(t,e,i){var s,n,o,r,a=e.plotX,h=e.plotY,l=t[i-1],c=t[i+1];if(l&&c){t=l.plotY,o=c.plotX;var d,c=c.plotY;s=(1.5*a+l.plotX)/2.5,n=(1.5*h+t)/2.5,o=(1.5*a+o)/2.5,r=(1.5*h+c)/2.5,d=(r-n)*(o-a)/(o-s)+h-r,n+=d,r+=d,n>t&&n>h?(n=xe(t,h),r=2*h-n):t>n&&h>n&&(n=ye(t,h),r=2*h-n),r>c&&r>h?(r=xe(c,h),n=2*h-r):c>r&&h>r&&(r=ye(c,h),n=2*h-r),e.rightContX=o,e.rightContY=r}return i?(e=["C",l.rightContX||l.plotX,l.rightContY||l.plotY,s||a,n||h,a,h],l.rightContX=l.rightContY=null):e=["M",a,h],e}}),Je.spline=xi,gi.areaspline=e(gi.area),yi=ti.prototype,xi=x(xi,{type:"areaspline",closedStacks:!0,getSegmentPath:yi.getSegmentPath,closeSegment:yi.closeSegment,drawGraph:yi.drawGraph,drawLegendSymbol:yi.drawLegendSymbol}),Je.areaspline=xi,gi.column=e(Qe,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),xi=x(ki,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ki.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ni(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,s=i.options,n=i.xAxis,o=i.yAxis,r=n.reversed,a={},h=0;s.grouping===!1?h=1:ni(i.chart.series,function(s){var n=s.options,r=s.yAxis;s.type===i.type&&s.visible&&o.len===r.len&&o.pos===r.pos&&(n.stacking?(t=s.stackKey,a[t]===j&&(a[t]=h++),e=a[t]):n.grouping!==!1&&(e=h++),s.columnIndex=e)});var n=ye(ve(n.transA)*(n.ordinalSlope||s.pointRange||n.closestPointRange||1),n.len),l=n*s.groupPadding,c=(n-2*l)/h,p=s.pointWidth,s=d(p)?(c-p)/2:c*s.pointPadding,p=g(p,c-2*s);
return i.columnMetrics={width:p,offset:s+(l+((r?h-(i.columnIndex||0):i.columnIndex)||0)*c-n/2)*(r?-1:1)}},translate:function(){var t=this.chart,e=this.options,i=e.borderWidth,s=this.yAxis,n=this.translatedThreshold=s.getThreshold(e.threshold),o=g(e.minPointLength,5),e=this.getColumnMetrics(),r=e.width,a=this.barW=me(xe(r,1+2*i)),h=this.pointXOffset=e.offset,l=-(i%2?.5:0),c=i%2?.5:1;t.renderer.isVML&&t.inverted&&(c+=1),ki.prototype.translate.apply(this),ni(this.points,function(t){var e,i=ye(xe(-999,t.plotY),s.len+999),d=g(t.yBottom,n),p=t.plotX+h,u=a,f=ye(i,d),i=xe(i,d)-f;ve(i)<o&&o&&(i=o,f=ge(ve(f-n)>o?d-o:n-(s.translate(t.y,0,1,0,1)<=n?o:0))),t.barX=p,t.pointWidth=r,d=ve(p)<.5,u=ge(p+u)+l,p=ge(p)+l,u-=p,e=ve(f)<.5,i=ge(f+i)+c,f=ge(f)+c,i-=f,d&&(p+=1,u-=1),e&&(f-=1,i+=1),t.shapeType="rect",t.shapeArgs={x:p,y:f,width:u,height:i}})},getSymbol:We,drawLegendSymbol:ti.prototype.drawLegendSymbol,drawGraph:We,drawPoints:function(){var t,i=this,s=i.options,n=i.chart.renderer;ni(i.points,function(o){var r=o.plotY,a=o.graphic;r===j||isNaN(r)||null===o.y?a&&(o.graphic=a.destroy()):(t=o.shapeArgs,a?(ui(a),a.animate(e(t))):o.graphic=n[o.shapeType](t).attr(o.pointAttr[o.selected?"select":""]).add(i.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius))})},drawTracker:function(){var t=this,e=t.chart,i=e.pointer,s=t.options.cursor,n=s&&{cursor:s},o=function(i){var s,n=i.target;for(e.hoverSeries!==t&&t.onMouseOver();n&&!s;)s=n.point,n=n.parentNode;s!==j&&s!==e.hoverPoint&&s.onMouseOver(i)};ni(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ni(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(n),Re)&&t[e].on("touchstart",o)}),t._hasTracking=!0)},alignDataLabel:function(t,i,s,n,o){var r=this.chart,a=r.inverted,h=t.dlBox||t.shapeArgs,l=t.below||t.plotY>g(this.translatedThreshold,r.plotSizeY),c=g(s.inside,!!this.options.stacking);h&&(n=e(h),a&&(n={x:r.plotWidth-n.y-n.height,y:r.plotHeight-n.x-n.width,width:n.height,height:n.width}),!c)&&(a?(n.x+=l?0:n.width,n.width=0):(n.y+=l?n.height:0,n.height=0)),s.align=g(s.align,!a||c?"center":l?"right":"left"),s.verticalAlign=g(s.verticalAlign,a||c?"middle":l?"top":"bottom"),ki.prototype.alignDataLabel.call(this,t,i,s,n,o)},animate:function(t){var e=this.yAxis,i=this.options,s=this.chart.inverted,n={};Be&&(t?(n.scaleY=.001,t=ye(e.pos+e.len,xe(e.pos,e.toPixels(i.threshold))),s?n.translateX=t-e.len:n.translateY=t,this.group.attr(n)):(n.scaleY=1,n[s?"translateX":"translateY"]=e.pos,this.group.animate(n,this.options.animation),this.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ni(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ki.prototype.remove.apply(t,arguments)}}),Je.column=xi,gi.bar=e(gi.column),yi=x(xi,{type:"bar",inverted:!0}),Je.bar=yi,gi.scatter=e(Qe,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),yi=x(ki,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:xi.prototype.drawTracker,setTooltipPoints:We}),Je.scatter=yi,gi.pie=e(Qe,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Qe={type:"pie",isCartesian:!1,pointClass:x(bi,{init:function(){bi.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:g(i.name,"Slice")}),e=function(t){i.slice("select"===t.type)},hi(i,"select",e),hi(i,"unselect",e),i},setVisible:function(t){var e,i=this,s=i.series,n=s.chart;i.visible=i.options.visible=t=t===j?!i.visible:t,s.options.data[si(i,s.data)]=i.options,e=t?"show":"hide",ni(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&n.legend.colorizeItem(i,t),!s.isDirty&&s.options.ignoreHiddenPoint&&(s.isDirty=!0,n.redraw())},slice:function(t,e,i){var s=this.series;O(i,s.chart),g(e,!0),this.sliced=this.options.sliced=t=d(t)?t:!this.sliced,s.options.data[si(this,s.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:We,animate:function(t){var e=this,i=e.points,s=e.startAngleRad;t||(ni(i,function(t){var i=t.graphic,t=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:s,end:s}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null)},setData:function(t,e){ki.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),g(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,s,n=0,o=this.options.ignoreHiddenPoint;for(ki.prototype.generatePoints.call(this),e=this.points,i=e.length,t=0;i>t;t++)s=e[t],n+=o&&!s.visible?0:s.y;for(this.total=n,t=0;i>t;t++)s=e[t],s.percentage=n>0?s.y/n*100:0,s.total=n},getCenter:function(){var t,e,s=this.options,n=this.chart,o=2*(s.slicedOffset||0),r=n.plotWidth-2*o,a=n.plotHeight-2*o,n=s.center,s=[g(n[0],"50%"),g(n[1],"50%"),s.size||"100%",s.innerSize||0],h=ye(r,a);return ai(s,function(s,n){return e=/%$/.test(s),t=2>n||2===n&&e,(e?[r,a,h,h][n]*i(s)/100:s)+(t?o:0)})},translate:function(t){this.generatePoints();var e,i,s,n,o,r=0,a=this.options,h=a.slicedOffset,l=h+a.borderWidth,c=this.startAngleRad=we/180*((a.startAngle||0)%360-90),d=this.points,p=2*we,u=a.dataLabels.distance,a=a.ignoreHiddenPoint,g=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return s=ue.asin((e-t[1])/(t[2]/2+u)),t[0]+(i?-1:1)*be(s)*(t[2]/2+u)},n=0;g>n;n++)o=d[n],e=ge(1e3*(c+r*p))/1e3,(!a||o.visible)&&(r+=o.percentage/100),i=ge(1e3*(c+r*p))/1e3,o.shapeType="arc",o.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},s=(i+e)/2,s>.75*p&&(s-=2*we),o.slicedTranslation={translateX:ge(be(s)*h),translateY:ge(ke(s)*h)},e=be(s)*t[2]/2,i=ke(s)*t[2]/2,o.tooltipPos=[t[0]+.7*e,t[1]+.7*i],o.half=p/4>s?0:1,o.angle=s,l=ye(l,u/2),o.labelPos=[t[0]+e+be(s)*u,t[1]+i+ke(s)*u,t[0]+e+be(s)*l,t[1]+i+ke(s)*l,t[0]+e,t[1]+i,0>u?"center":o.half?"right":"left",s];this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var e,i,s,n,o=this,r=o.chart.renderer,a=o.options.shadow;a&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),ni(o.points,function(h){i=h.graphic,n=h.shapeArgs,s=h.shadowGroup,a&&!s&&(s=h.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=h.sliced?h.slicedTranslation:{translateX:0,translateY:0},s&&s.attr(e),i?i.animate(t(n,e)):h.graphic=i=r.arc(n).setRadialReference(o.center).attr(h.pointAttr[h.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(a,s),h.visible===!1&&h.setVisible(!1)})},drawDataLabels:function(){var t,e,i,s,n,o,r,a,h,l,c,d,p=this,u=p.data,f=p.chart,m=p.options.dataLabels,x=g(m.connectorPadding,10),y=g(m.connectorWidth,1),v=f.plotWidth,f=f.plotHeight,b=g(m.softConnector,!0),k=m.distance,w=p.center,T=w[2]/2,L=w[1],S=k>0,P=[[],[]],M=[0,0,0,0],A=function(t,e){return e.y-t.y},D=function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})};if(p.visible&&(m.enabled||p._hasPointLabels)){for(ki.prototype.drawDataLabels.apply(p),ni(u,function(t){t.dataLabel&&P[t.half].push(t)}),c=0;!r&&u[c];)r=u[c]&&u[c].dataLabel&&(u[c].dataLabel.getBBox().height||21),c++;for(c=2;c--;){var I,u=[],B=[],z=P[c],O=z.length;if(D(z,c-.5),k>0){for(d=L-T-k;L+T+k>=d;d+=r)u.push(d);if(n=u.length,O>n){for(t=[].concat(z),t.sort(A),d=O;d--;)t[d].rank=d;for(d=O;d--;)z[d].rank>=n&&z.splice(d,1);O=z.length}for(d=0;O>d;d++){t=z[d],o=t.labelPos,t=9999;var R,H;for(H=0;n>H;H++)R=ve(u[H]-o[1]),t>R&&(t=R,I=H);if(d>I&&null!==u[d])I=d;else for(O-d+I>n&&null!==u[d]&&(I=n-O+d);null===u[I];)I++;B.push({i:I,y:u[I]}),u[I]=null}B.sort(A)}for(d=0;O>d;d++)t=z[d],o=t.labelPos,s=t.dataLabel,l=t.visible===!1?"hidden":"visible",t=o[1],k>0?(n=B.pop(),I=n.i,h=n.y,(t>h&&null!==u[I+1]||h>t&&null!==u[I-1])&&(h=t)):h=t,a=m.justify?w[0]+(c?-1:1)*(T+k):p.getX(0===I||I===u.length-1?t:h,c),s._attr={visibility:l,align:o[6]},s._pos={x:a+m.x+({left:x,right:-x}[o[6]]||0),y:h+m.y-10},s.connX=a,s.connY=h,null===this.options.size&&(n=s.width,x>a-n?M[3]=xe(ge(n-a+x),M[3]):a+n>v-x&&(M[1]=xe(ge(a+n-v+x),M[1])),0>h-r/2?M[0]=xe(ge(-h+r/2),M[0]):h+r/2>f&&(M[2]=xe(ge(h+r/2-f),M[2])))}(0===C(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),S&&y&&ni(this.points,function(t){e=t.connector,o=t.labelPos,(s=t.dataLabel)&&s._pos?(l=s._attr.visibility,a=s.connX,h=s.connY,i=b?["M",a+("left"===o[6]?5:-5),h,"C",a,h,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+("left"===o[6]?5:-5),h,"L",o[2],o[3],"L",o[4],o[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":y,stroke:m.connectorColor||t.color||"#606060",visibility:l}).add(p.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,i=this.center,s=this.options,n=s.center,o=s=s.minSize||80;return null!==n[0]?o=xe(i[2]-xe(t[1],t[3]),s):(o=xe(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==n[1]?o=xe(ye(o,i[2]-xe(t[0],t[2])),s):(o=xe(ye(o,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),o<i[2]?(i[2]=o,this.translate(i),ni(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){ni(this.points,function(t){var e,t=t.dataLabel;t&&((e=t._pos)?(t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-999}))})},alignDataLabel:We,drawTracker:xi.prototype.drawTracker,drawLegendSymbol:ti.prototype.drawLegendSymbol,getSymbol:We},Qe=x(ki,Qe),Je.pie=Qe,t(s,{Axis:Y,Chart:V,Color:fi,Legend:F,Pointer:N,Point:bi,Tick:X,Tooltip:G,Renderer:_,Series:ki,SVGElement:H,SVGRenderer:mi,arrayMin:A,arrayMax:C,charts:Ee,dateFormat:K,format:k,pathAnim:$,getOptions:function(){return Z},hasBidiBug:ze,isTouchDevice:De,numberFormat:y,seriesTypes:Je,setOptions:function(t){return Z=e(Z,t),R(),Z},addEvent:hi,removeEvent:li,createElement:m,discardElement:I,css:f,each:ni,extend:t,map:ai,merge:e,pick:g,splat:u,extendClass:x,pInt:i,wrap:b,svg:Be,canvas:Oe,vml:!Be&&!Oe,product:"Highcharts",version:"3.0.5"})}(),i.exports=s});
;define("common:widget/oui/components/plan-performance",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(require,exports,module){var $=require("common:widget/oui/lib/jquery/1.9.1/jquery"),Protocol=require("common:widget/oui/protocol");require("common:widget/oui/lib/highcharts/3.0.5/highcharts");var CASH_H=40,ARROW_H=115,DIST_COUNT=5,PlanPerformance=function(e){$.extend(this,{name:e.name,container:e.container||$("#"+e.name),planId:e.planId}),this._ui={boxCashIn:this._elem("input-cash"),boxCashOut:this._elem("output-cash"),boxArrow:this._elem("arrow"),numTotalAmount:this._elem("total-amount"),numAvgInterest:this._elem("avg-interest-rate"),numTotalInterest:this._elem("total-interest"),numUsage:this._elem("usage"),numBidCount:this._elem("bid-count"),boxInvestors:this._elem("investors"),boxBorrowers:this._elem("borrowers"),numInvestorCount:this._elem("investor-count"),numBorrowerCount:this._elem("borrower-count"),boxDist:this._elem("borrowers-dist")},this._tpl={cash:'<div class="cash fn-left"></div>',investor:'<div class="ppl-solid fn-left"></div>',borrower:'<div class="ppl-trans fn-left"></div>',error:'<div class="plan-performance-error">加载失败，请稍后再试</div>'}};$.extend(PlanPerformance.prototype,{init:function(){var self=this,p={financePlanId:this.planId};return Protocol.getPlanPerformance(p,function(status,message,data){if($(".plan-performance-loading").hide(),$("#J_NEW_PRO_DIV").length>0){if($("#J_PER_FBSJ").html(data.performance.reserveDate),$("#J_PER_ZDTB").html(data.performance.bidCount),$("#J_PER_BZJKYH").html(data.performance.borrowCount),$("#J_PER_WYHZQ").html(data.performance.earnInterest),$("#J_PER_JRRS").html(data.performance.subPointCount),$("#J_PER_MEYSJW").html(""===data.performance.useTime?"&nbsp;":data.performance.useTime),null!==data.performance.provinceDist){var obj=data.performance.provinceDist,dom="",x,total=0,index=0,shengyu=0;for(x in eval(obj))total+=Number(obj[x]);for(x in eval(obj)){if(index++,index>6)break;shengyu+=Math.floor(Number(obj[x])/total*100),dom+='<p><span class="mr10">'+x+'</span><span class="mr10">'+Math.floor(Number(obj[x])/total*100)+'%</span><span class="addr-progress"><b style="width:'+Math.floor(Number(obj[x])/total*100)+'%"></b></span></p>'}shengyu=100-shengyu,index>6&&(dom+='<p><span class="mr10">其他</span><span class="mr10">'+shengyu+'%</span><span class="addr-progress"><b style="width:'+shengyu+'%"></b></span></p>'),$("#J_PER_DYFB").html(dom)}}else self.render(status,message,data)}),this},render:function(e,t,o){var r,n,a=this._ui,s=this._tpl;if(0!==e)return void this.container.parent().append(s.error);this.container.show();var i=o.performance,m=Protocol.translator;i.earnInterest<0&&(i.earnInterest=0),a.numTotalAmount.text(m._commaInteger(i.amount)),a.numAvgInterest.text(m._fixedFloat2(i.averageBidInterest)),a.numTotalInterest.text(m._commaFloat(i.earnInterest)),a.numUsage.text(m._fixedFloat2(i.fundsUseRate)),a.numBidCount.text(m._commaInteger(i.bidCount));var l=Math.ceil(i.amount/1e6,10),u=Math.ceil(i.earnInterest/1e6,10);for(r=0;l>r;r++)a.boxCashIn.append(s.cash);for(r=0;u>r;r++)a.boxCashOut.append(s.cash);var c=Math.ceil(l/5)*CASH_H,h=Math.ceil(u/5)*CASH_H,d=ARROW_H;c>ARROW_H?(a.boxArrow.css("margin-top",Math.floor((c-ARROW_H)/2)),d=c):(n=Math.floor((ARROW_H-c)/2),a.boxCashIn.css("margin-top",n).css("margin-bottom",n)),0!==h?(n=Math.floor((d-h)/2),a.boxCashOut.css("margin-top",n).css("margin-bottom",n)):a.boxCashOut.css("height",d),a.numInvestorCount.text(m._commaInteger(i.subPointCount)),a.numBorrowerCount.text(m._commaInteger(i.borrowCount));var p=i.subPointCount>i.borrowCount?i.subPointCount:i.borrowCount,f=Math.ceil(p/10),b=Math.ceil(i.subPointCount/f),_=Math.ceil(i.borrowCount/f);for(r=0;b>r;r++)a.boxInvestors.append(s.investor);for(r=0;_>r;r++)a.boxBorrowers.append(s.borrower);var g=i.provinceDist,x=[],v=[];$.each(g,function(e,t){x.push({name:e,y:t})}),x.sort(function(e,t){return t.y-e.y});var C=["#52ac4e","#67b664","#86c583","#a8d5a6","#a8d5a6","#dceedc"],w=0,I=0,P=0;for(r=0;r<x.length;r++)w+=x[r].y,DIST_COUNT>r?(x[r].color=C[P],v.push(x[r]),P+=1):I+=x[r].y;I>0&&v.push({name:"其它",y:I,color:C[P]}),w>0&&a.boxDist.highcharts({chart:{type:"pie"},title:{text:"借款人地域分布"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"位"},series:[{name:"借款人",data:v,size:"100%",innerSize:"50%",dataLabels:{color:"#fff",distance:-25}}],credits:{enabled:!1}})},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}}),module.exports=PlanPerformance});
;define("common:widget/oui/rsa/rsa.config",function(_,n,A){var K="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMO0o8vYsqInbD/8uraIdWqP8Y\ncc7KQuLS7w0VbCWocyMRYu582LwzycBOPvbbEKt2feqpUKQ+F3peq+HQnI6gL9d6\n6l0ZG3KjflZTQJ8M847USfUNGVbAi3PJG/NiwQHddUUudmjIEAXwadelp/g+/p97\nYcBAz8caQDcEyI0AjQIDAQAB\n-----END PUBLIC KEY-----;",e="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC/GP6dENV96jD1oSvmbYhbhHhc\n/7Ngv+DY0iuhmzteyrWDswJDddEHViuhJTZguCGotujOcauzNm71sjW+sHXEJVIX\nHD4eiBNN9SpPpxeioKepaArqujo76GX2EW6JNCBFiB8fevhZHV/e7PQik+jZw/m1\n0eAjakbsbS4TBvwUtwIDAQAB\n-----END PUBLIC KEY-----";window.___RSA_TRICK_KEYS___={onlineKey:K,testKey:e},___RSA_TRICK_KEYS___.finalKey=___RSA_TRICK_KEYS___.onlineKey,A.exports=___RSA_TRICK_KEYS___.finalKey});
;define("common:widget/oui/rsa/index",["require","exports","module","common:widget/oui/rsa/rsa.config"],function(t,r,i){function e(){function t(t){t||(t=8);for(var r=new Array(t),i=[],e=0;256>e;e++)i[e]=e;for(e=0;e<r.length;e++)r[e]=i[Math.floor(Math.random()*i.length)];return r}this.setDefaults=function(){this.params.nBits=256,this.params.salt=t(8),this.params.salt=pidCryptUtil.byteArray2String(this.params.salt),this.params.salt=pidCryptUtil.convertToHex(this.params.salt),this.params.blockSize=16,this.params.UTF8=!0,this.params.A0_PAD=!0},this.debug=!0,this.params={},this.params.dataIn="",this.params.dataOut="",this.params.decryptIn="",this.params.decryptOut="",this.params.encryptIn="",this.params.encryptOut="",this.params.key="",this.params.iv="",this.params.clear=!0,this.setDefaults(),this.errors="",this.warnings="",this.infos="",this.debugMsg="",this.setParams=function(t){t||(t={});for(var r in t)this.params[r]=t[r]},this.getParams=function(){return this.params},this.getParam=function(t){return this.params[t]||""},this.clearParams=function(){this.params={}},this.getNBits=function(){return this.params.nBits},this.getOutput=function(){return this.params.dataOut},this.setError=function(t){this.error=t},this.appendError=function(t){return this.errors+=t,""},this.getErrors=function(){return this.errors},this.isError=function(){return this.errors.length>0?!0:!1},this.appendInfo=function(t){return this.infos+=t,""},this.getInfos=function(){return this.infos},this.setDebug=function(t){this.debug=t},this.appendDebug=function(t){return this.debugMsg+=t,""},this.isDebug=function(){return this.debug},this.getAllMessages=function(t){var r={lf:"\n",clr_mes:!1,verbose:15};t||(t=r);for(var i in r)"undefined"==typeof t[i]&&(t[i]=r[i]);var e="",s="";for(var n in this.params){switch(n){case"encryptOut":s=pidCryptUtil.toByteArray(this.params[n].toString()),s=pidCryptUtil.fragment(s.join(),64,t.lf);break;case"key":case"iv":s=pidCryptUtil.formatHex(this.params[n],48);break;default:s=pidCryptUtil.fragment(this.params[n].toString(),64,t.lf)}e+="<p><b>"+n+"</b>:<pre>"+s+"</pre></p>"}return this.debug&&(e+="debug: "+this.debug+t.lf),this.errors.length>0&&1==(1&t.verbose)&&(e+="Errors:"+t.lf+this.errors+t.lf),this.warnings.length>0&&2==(2&t.verbose)&&(e+="Warnings:"+t.lf+this.warnings+t.lf),this.infos.length>0&&4==(4&t.verbose)&&(e+="Infos:"+t.lf+this.infos+t.lf),this.debug&&8==(8&t.verbose)&&(e+="Debug messages:"+t.lf+this.debugMsg+t.lf),t.clr_mes&&(this.errors=this.infos=this.warnings=this.debug=""),e},this.getRandomBytes=function(r){return t(r)}}function s(t,r){t instanceof s?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=r)}function n(t,r,i){null!=t&&("number"==typeof t?this.fromNumber(t,r,i):null==r&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,r))}function o(){return new n(null)}function h(t,r,i,e,s,n){for(;--n>=0;){var o=r*this[t++]+i[e]+s;s=Math.floor(o/67108864),i[e++]=67108863&o}return s}function a(t,r,i,e,s,n){for(var o=32767&r,h=r>>15;--n>=0;){var a=32767&this[t],u=this[t++]>>15,p=h*a+u*o;a=o*a+((32767&p)<<15)+i[e]+(1073741823&s),s=(a>>>30)+(p>>>15)+h*u+(s>>>30),i[e++]=1073741823&a}return s}function u(t,r,i,e,s,n){for(var o=16383&r,h=r>>14;--n>=0;){var a=16383&this[t],u=this[t++]>>14,p=h*a+u*o;a=o*a+((16383&p)<<14)+i[e]+s,s=(a>>28)+(p>>14)+h*u,i[e++]=268435455&a}return s}function p(t){return bi.charAt(t)}function f(t,r){var i=Ti[t.charCodeAt(r)];return null==i?-1:i}function c(t){for(var r=this.t-1;r>=0;--r)t[r]=this[r];t.t=this.t,t.s=this.s}function l(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function d(t){var r=o();return r.fromInt(t),r}function m(t,r){var i;if(16==r)i=4;else if(8==r)i=3;else if(256==r)i=8;else if(2==r)i=1;else if(32==r)i=5;else{if(4!=r)return void this.fromRadix(t,r);i=2}this.t=0,this.s=0;for(var e=t.length,s=!1,o=0;--e>=0;){var h=8==i?255&t[e]:f(t,e);0>h?"-"==t.charAt(e)&&(s=!0):(s=!1,0==o?this[this.t++]=h:o+i>this.DB?(this[this.t-1]|=(h&(1<<this.DB-o)-1)<<o,this[this.t++]=h>>this.DB-o):this[this.t-1]|=h<<o,o+=i,o>=this.DB&&(o-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&n.ZERO.subTo(this,this)}function g(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function v(t){if(this.s<0)return"-"+this.negate().toString(t);var r;if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return this.toRadix(t);r=2}var i,e=(1<<r)-1,s=!1,n="",o=this.t,h=this.DB-o*this.DB%r;if(o-->0)for(h<this.DB&&(i=this[o]>>h)>0&&(s=!0,n=p(i));o>=0;)r>h?(i=(this[o]&(1<<h)-1)<<r-h,i|=this[--o]>>(h+=this.DB-r)):(i=this[o]>>(h-=r)&e,0>=h&&(h+=this.DB,--o)),i>0&&(s=!0),s&&(n+=p(i));return s?n:"0"}function y(){var t=o();return n.ZERO.subTo(this,t),t}function b(){return this.s<0?this.negate():this}function T(t){var r=this.s-t.s;if(0!=r)return r;var i=this.t;if(r=i-t.t,0!=r)return r;for(;--i>=0;)if(0!=(r=this[i]-t[i]))return r;return 0}function S(t){var r,i=1;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function A(){return this.t<=0?0:this.DB*(this.t-1)+S(this[this.t-1]^this.s&this.DM)}function D(t,r){var i;for(i=this.t-1;i>=0;--i)r[i+t]=this[i];for(i=t-1;i>=0;--i)r[i]=0;r.t=this.t+t,r.s=this.s}function C(t,r){for(var i=t;i<this.t;++i)r[i-t]=this[i];r.t=Math.max(this.t-t,0),r.s=this.s}function N(t,r){var i,e=t%this.DB,s=this.DB-e,n=(1<<s)-1,o=Math.floor(t/this.DB),h=this.s<<e&this.DM;for(i=this.t-1;i>=0;--i)r[i+o+1]=this[i]>>s|h,h=(this[i]&n)<<e;for(i=o-1;i>=0;--i)r[i]=0;r[o]=h,r.t=this.t+o+1,r.s=this.s,r.clamp()}function E(t,r){r.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)return void(r.t=0);var e=t%this.DB,s=this.DB-e,n=(1<<e)-1;r[0]=this[i]>>e;for(var o=i+1;o<this.t;++o)r[o-i-1]|=(this[o]&n)<<s,r[o-i]=this[o]>>e;e>0&&(r[this.t-i-1]|=(this.s&n)<<s),r.t=this.t-i,r.clamp()}function w(t,r){for(var i=0,e=0,s=Math.min(t.t,this.t);s>i;)e+=this[i]-t[i],r[i++]=e&this.DM,e>>=this.DB;if(t.t<this.t){for(e-=t.s;i<this.t;)e+=this[i],r[i++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;i<t.t;)e-=t[i],r[i++]=e&this.DM,e>>=this.DB;e-=t.s}r.s=0>e?-1:0,-1>e?r[i++]=this.DV+e:e>0&&(r[i++]=e),r.t=i,r.clamp()}function B(t,r){var i=this.abs(),e=t.abs(),s=i.t;for(r.t=s+e.t;--s>=0;)r[s]=0;for(s=0;s<e.t;++s)r[s+i.t]=i.am(0,e[s],r,s,0,i.t);r.s=0,r.clamp(),this.s!=t.s&&n.ZERO.subTo(r,r)}function x(t){for(var r=this.abs(),i=t.t=2*r.t;--i>=0;)t[i]=0;for(i=0;i<r.t-1;++i){var e=r.am(i,r[i],t,2*i,0,1);(t[i+r.t]+=r.am(i+1,2*r[i],t,2*i+1,e,r.t-i-1))>=r.DV&&(t[i+r.t]-=r.DV,t[i+r.t+1]=1)}t.t>0&&(t[t.t-1]+=r.am(i,r[i],t,2*i,0,1)),t.s=0,t.clamp()}function O(t,r,i){var e=t.abs();if(!(e.t<=0)){var s=this.abs();if(s.t<e.t)return null!=r&&r.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var h=o(),a=this.s,u=t.s,p=this.DB-S(e[e.t-1]);p>0?(e.lShiftTo(p,h),s.lShiftTo(p,i)):(e.copyTo(h),s.copyTo(i));var f=h.t,c=h[f-1];if(0!=c){var l=c*(1<<this.F1)+(f>1?h[f-2]>>this.F2:0),d=this.FV/l,m=(1<<this.F1)/l,g=1<<this.F2,v=i.t,y=v-f,b=null==r?o():r;for(h.dlShiftTo(y,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),n.ONE.dlShiftTo(f,b),b.subTo(h,h);h.t<f;)h[h.t++]=0;for(;--y>=0;){var T=i[--v]==c?this.DM:Math.floor(i[v]*d+(i[v-1]+g)*m);if((i[v]+=h.am(0,T,i,y,0,f))<T)for(h.dlShiftTo(y,b),i.subTo(b,i);i[v]<--T;)i.subTo(b,i)}null!=r&&(i.drShiftTo(f,r),a!=u&&n.ZERO.subTo(r,r)),i.t=f,i.clamp(),p>0&&i.rShiftTo(p,i),0>a&&n.ZERO.subTo(i,i)}}}function M(t){var r=o();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(n.ZERO)>0&&t.subTo(r,r),r}function R(t){this.m=t}function _(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function P(t){t.divRemTo(this.m,null,t)}function U(t,r,i){t.multiplyTo(r,i),this.reduce(i)}function q(t,r){t.squareTo(r),this.reduce(r)}function L(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var r=3&t;return r=15&r*(2-(15&t)*r),r=255&r*(2-(255&t)*r),r=65535&r*(2-(65535&(65535&t)*r)),r=r*(2-t*r%this.DV)%this.DV,r>0?this.DV-r:-r}function F(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function V(t){var r=o();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(n.ZERO)>0&&this.m.subTo(r,r),r}function k(t){var r=o();return t.copyTo(r),this.reduce(r),r}function H(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var r=0;r<this.m.t;++r){var i=32767&t[r],e=i*this.mpl+((i*this.mph+(t[r]>>15)*this.mpl&this.um)<<15)&t.DM;for(i=r+this.m.t,t[i]+=this.m.am(0,e,t,r,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Z(t,r){t.squareTo(r),this.reduce(r)}function j(t,r,i){t.multiplyTo(r,i),this.reduce(i)}function z(){return 0==(this.t>0?1&this[0]:this.s)}function G(t,r){if(t>4294967295||1>t)return n.ONE;var i=o(),e=o(),s=r.convert(this),h=S(t)-1;for(s.copyTo(i);--h>=0;)if(r.sqrTo(i,e),(t&1<<h)>0)r.mulTo(e,s,i);else{var a=i;i=e,e=a}return r.revert(i)}function K(t,r){var i;return i=256>t||r.isEven()?new R(r):new F(r),this.exp(t,i)}function Q(){var t=o();return this.copyTo(t),t}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function X(){return 0==this.t?this.s:this[0]<<16>>16}function Y(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function tr(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var r=this.chunkSize(t),i=Math.pow(t,r),e=d(i),s=o(),n=o(),h="";for(this.divRemTo(e,s,n);s.signum()>0;)h=(i+n.intValue()).toString(t).substr(1)+h,s.divRemTo(e,s,n);return n.intValue().toString(t)+h}function rr(t,r){this.fromInt(0),null==r&&(r=10);for(var i=this.chunkSize(r),e=Math.pow(r,i),s=!1,o=0,h=0,a=0;a<t.length;++a){var u=f(t,a);0>u?"-"==t.charAt(a)&&0==this.signum()&&(s=!0):(h=r*h+u,++o>=i&&(this.dMultiply(e),this.dAddOffset(h,0),o=0,h=0))}o>0&&(this.dMultiply(Math.pow(r,o)),this.dAddOffset(h,0)),s&&n.ZERO.subTo(this,this)}function ir(t,r,i){if("number"==typeof r)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),pr,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var e=new Array,s=7&t;e.length=(t>>3)+1,r.nextBytes(e),s>0?e[0]&=(1<<s)-1:e[0]=0,this.fromString(e,256)}}function er(){var t=this.t,r=new Array;r[0]=this.s;var i,e=this.DB-t*this.DB%8,s=0;if(t-->0)for(e<this.DB&&(i=this[t]>>e)!=(this.s&this.DM)>>e&&(r[s++]=i|this.s<<this.DB-e);t>=0;)8>e?(i=(this[t]&(1<<e)-1)<<8-e,i|=this[--t]>>(e+=this.DB-8)):(i=255&this[t]>>(e-=8),0>=e&&(e+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(r[s++]=i);return r}function sr(t){return 0==this.compareTo(t)}function nr(t){return this.compareTo(t)<0?this:t}function or(t){return this.compareTo(t)>0?this:t}function hr(t,r,i){var e,s,n=Math.min(t.t,this.t);for(e=0;n>e;++e)i[e]=r(this[e],t[e]);if(t.t<this.t){for(s=t.s&this.DM,e=n;e<this.t;++e)i[e]=r(this[e],s);i.t=this.t}else{for(s=this.s&this.DM,e=n;e<t.t;++e)i[e]=r(s,t[e]);i.t=t.t}i.s=r(this.s,t.s),i.clamp()}function ar(t,r){return t&r}function ur(t){var r=o();return this.bitwiseTo(t,ar,r),r}function pr(t,r){return t|r}function fr(t){var r=o();return this.bitwiseTo(t,pr,r),r}function cr(t,r){return t^r}function lr(t){var r=o();return this.bitwiseTo(t,cr,r),r}function dr(t,r){return t&~r}function mr(t){var r=o();return this.bitwiseTo(t,dr,r),r}function gr(){for(var t=o(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function vr(t){var r=o();return 0>t?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function yr(t){var r=o();return 0>t?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function br(t){if(0==t)return-1;var r=0;return 0==(65535&t)&&(t>>=16,r+=16),0==(255&t)&&(t>>=8,r+=8),0==(15&t)&&(t>>=4,r+=4),0==(3&t)&&(t>>=2,r+=2),0==(1&t)&&++r,r}function Tr(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+br(this[t]);return this.s<0?this.t*this.DB:-1}function Sr(t){for(var r=0;0!=t;)t&=t-1,++r;return r}function Ar(){for(var t=0,r=this.s&this.DM,i=0;i<this.t;++i)t+=Sr(this[i]^r);return t}function Dr(t){var r=Math.floor(t/this.DB);return r>=this.t?0!=this.s:0!=(this[r]&1<<t%this.DB)}function Cr(t,r){var i=n.ONE.shiftLeft(t);return this.bitwiseTo(i,r,i),i}function Nr(t){return this.changeBit(t,pr)}function Er(t){return this.changeBit(t,dr)}function wr(t){return this.changeBit(t,cr)}function Br(t,r){for(var i=0,e=0,s=Math.min(t.t,this.t);s>i;)e+=this[i]+t[i],r[i++]=e&this.DM,e>>=this.DB;if(t.t<this.t){for(e+=t.s;i<this.t;)e+=this[i],r[i++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;i<t.t;)e+=t[i],r[i++]=e&this.DM,e>>=this.DB;e+=t.s}r.s=0>e?-1:0,e>0?r[i++]=e:-1>e&&(r[i++]=this.DV+e),r.t=i,r.clamp()}function xr(t){var r=o();return this.addTo(t,r),r}function Or(t){var r=o();return this.subTo(t,r),r}function Mr(t){var r=o();return this.multiplyTo(t,r),r}function Rr(t){var r=o();return this.divRemTo(t,r,null),r}function _r(t){var r=o();return this.divRemTo(t,null,r),r}function Ir(t){var r=o(),i=o();return this.divRemTo(t,r,i),new Array(r,i)}function Pr(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ur(t,r){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=t;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}function qr(){}function Lr(t){return t}function Fr(t,r,i){t.multiplyTo(r,i)}function Vr(t,r){t.squareTo(r)}function kr(t){return this.exp(t,new qr)}function Hr(t,r,i){var e=Math.min(this.t+t.t,r);for(i.s=0,i.t=e;e>0;)i[--e]=0;var s;for(s=i.t-this.t;s>e;++e)i[e+this.t]=this.am(0,t[e],i,e,0,this.t);for(s=Math.min(t.t,r);s>e;++e)this.am(0,t[e],i,e,0,r-e);i.clamp()}function Zr(t,r,i){--r;var e=i.t=this.t+t.t-r;for(i.s=0;--e>=0;)i[e]=0;for(e=Math.max(r-this.t,0);e<t.t;++e)i[this.t+e-r]=this.am(r-e,t[e],i,0,0,this.t+e-r);i.clamp(),i.drShiftTo(1,i)}function jr(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function zr(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=o();return t.copyTo(r),this.reduce(r),r}function Gr(t){return t}function Kr(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Qr(t,r){t.squareTo(r),this.reduce(r)}function Jr(t,r,i){t.multiplyTo(r,i),this.reduce(i)}function Wr(t,r){var i,e,s=t.bitLength(),n=d(1);if(0>=s)return n;i=18>s?1:48>s?3:144>s?4:768>s?5:6,e=8>s?new R(r):r.isEven()?new jr(r):new F(r);var h=new Array,a=3,u=i-1,p=(1<<i)-1;if(h[1]=e.convert(this),i>1){var f=o();for(e.sqrTo(h[1],f);p>=a;)h[a]=o(),e.mulTo(f,h[a-2],h[a]),a+=2}var c,l,m=t.t-1,g=!0,v=o();for(s=S(t[m])-1;m>=0;){for(s>=u?c=t[m]>>s-u&p:(c=(t[m]&(1<<s+1)-1)<<u-s,m>0&&(c|=t[m-1]>>this.DB+s-u)),a=i;0==(1&c);)c>>=1,--a;if((s-=a)<0&&(s+=this.DB,--m),g)h[c].copyTo(n),g=!1;else{for(;a>1;)e.sqrTo(n,v),e.sqrTo(v,n),a-=2;a>0?e.sqrTo(n,v):(l=n,n=v,v=l),e.mulTo(v,h[c],n)}for(;m>=0&&0==(t[m]&1<<s);)e.sqrTo(n,v),l=n,n=v,v=l,--s<0&&(s=this.DB-1,--m)}return e.revert(n)}function Xr(t){var r=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(r.compareTo(i)<0){var e=r;r=i,i=e}var s=r.getLowestSetBit(),n=i.getLowestSetBit();if(0>n)return r;for(n>s&&(n=s),n>0&&(r.rShiftTo(n,r),i.rShiftTo(n,i));r.signum()>0;)(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),r.compareTo(i)>=0?(r.subTo(i,r),r.rShiftTo(1,r)):(i.subTo(r,i),i.rShiftTo(1,i));return n>0&&i.lShiftTo(n,i),i}function Yr(t){if(0>=t)return 0;var r=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==r)i=this[0]%t;else for(var e=this.t-1;e>=0;--e)i=(r*i+this[e])%t;return i}function $r(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return n.ZERO;for(var i=t.clone(),e=this.clone(),s=d(1),o=d(0),h=d(0),a=d(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),r?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;e.isEven();)e.rShiftTo(1,e),r?(h.isEven()&&a.isEven()||(h.addTo(this,h),a.subTo(t,a)),h.rShiftTo(1,h)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);i.compareTo(e)>=0?(i.subTo(e,i),r&&s.subTo(h,s),o.subTo(a,o)):(e.subTo(i,e),r&&h.subTo(s,h),a.subTo(o,a))}return 0!=e.compareTo(n.ONE)?n.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a}function ti(t){var r,i=this.abs();if(1==i.t&&i[0]<=Si[Si.length-1]){for(r=0;r<Si.length;++r)if(i[0]==Si[r])return!0;return!1}if(i.isEven())return!1;for(r=1;r<Si.length;){for(var e=Si[r],s=r+1;s<Si.length&&Ai>e;)e*=Si[s++];for(e=i.modInt(e);s>r;)if(0==e%Si[r++])return!1}return i.millerRabin(t)}function ri(t){var r=this.subtract(n.ONE),i=r.getLowestSetBit();if(0>=i)return!1;var e=r.shiftRight(i);t=t+1>>1,t>Si.length&&(t=Si.length);for(var s=o(),h=0;t>h;++h){s.fromInt(Si[h]);var a=s.modPow(e,this);if(0!=a.compareTo(n.ONE)&&0!=a.compareTo(r)){for(var u=1;u++<i&&0!=a.compareTo(r);)if(a=a.modPowInt(2,this),0==a.compareTo(n.ONE))return!1;if(0!=a.compareTo(r))return!1}}return!0}function ii(){if(this.rng_state,this.rng_pool,this.rng_pptr,this.rng_seed_int=function(t){this.rng_pool[this.rng_pptr++]^=255&t,this.rng_pool[this.rng_pptr++]^=255&t>>8,this.rng_pool[this.rng_pptr++]^=255&t>>16,this.rng_pool[this.rng_pptr++]^=255&t>>24,this.rng_pptr>=Di&&(this.rng_pptr-=Di)},this.rng_seed_time=function(){this.rng_seed_int((new Date).getTime())},null==this.rng_pool){this.rng_pool=new Array,this.rng_pptr=0;var t;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var r=window.crypto.random(32);for(t=0;t<r.length;++t)this.rng_pool[this.rng_pptr++]=255&r.charCodeAt(t)}for(;this.rng_pptr<Di;)t=Math.floor(65536*Math.random()),this.rng_pool[this.rng_pptr++]=t>>>8,this.rng_pool[this.rng_pptr++]=255&t;this.rng_pptr=0,this.rng_seed_time()}this.rng_get_byte=function(){if(null==this.rng_state){for(this.rng_seed_time(),this.rng_state=oi(),this.rng_state.init(this.rng_pool),this.rng_pptr=0;this.rng_pptr<this.rng_pool.length;++this.rng_pptr)this.rng_pool[this.rng_pptr]=0;this.rng_pptr=0}return this.rng_state.next()},this.nextBytes=function(t){var r;for(r=0;r<t.length;++r)t[r]=this.rng_get_byte()}}function ei(){this.i=0,this.j=0,this.S=new Array}function si(t){var r,i,e;for(r=0;256>r;++r)this.S[r]=r;for(i=0,r=0;256>r;++r)i=255&i+this.S[r]+t[r%t.length],e=this.S[r],this.S[r]=this.S[i],this.S[i]=e;this.i=0,this.j=0}function ni(){var t;return this.i=255&this.i+1,this.j=255&this.j+this.S[this.i],t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[255&t+this.S[this.i]]}function oi(){return new ei}function hi(t,r){return new n(t,r)}function ai(t,r){for(var i=t.toByteArray(),e=0;e<i.length&&0==i[e];)++e;if(i.length-e!=r-1||2!=i[e])return null;for(++e;0!=i[e];)if(++e>=i.length)return null;for(var s="";++e<i.length;)s+=String.fromCharCode(i[e]);return s}function ui(t,r){if(r<t.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,e=t.length-1;e>=0&&r>0;)i[--r]=t.charCodeAt(e--);i[--r]=0;for(var s=new ii,o=new Array;r>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);i[--r]=o[0]}return i[--r]=2,i[--r]=0,new n(i)}function pi(t){var r=t.split("\n"),i=!1,e=!1,s="",n={};n.info="",n.salt="",n.iv,n.b64="",n.aes=!1,n.mode="",n.bits=0;for(var o=0;o<r.length;o++)switch(s=r[o].substr(0,9),1==o&&"Proc-Type"!=s&&0==s.indexOf("M")&&(e=!0),s){case"-----BEGI":i=!0;break;case"Proc-Type":i&&(n.info=r[o]);break;case"DEK-Info:":if(i){var h=r[o].split(","),a=h[0].split(": "),u=a[1].split("-");n.aes="AES"==u[0]?!0:!1,n.mode=u[2],n.bits=parseInt(u[1]),n.salt=h[1].substr(0,16),n.iv=h[1]}break;case"":i&&(e=!0);break;case"-----END ":i&&(e=!1,i=!1);break;default:i&&e&&(n.b64+=pidCryptUtil.stripLineFeeds(r[o]))}return n}function fi(t){var r,i=ci,s={};if(s=pi(i),s.b64){var n=pidCryptUtil.decodeBase64(s.b64),o=new e.RSA,h=e.ASN1.decode(pidCryptUtil.toByteArray(n)),a=h.toHexTree();return o.setPublicKeyFromASN(a),r=o.encrypt(t),pidCryptUtil.encodeBase64(pidCryptUtil.convertFromHex(r))}return"error"}var ci=t("common:widget/oui/rsa/rsa.config");pidCryptUtil={},pidCryptUtil.encodeBase64=function(t,r){t||(t="");var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r="undefined"==typeof r?!1:r;var e,s,n,o,h,a,u,p,f,c,l,d=[],m="";if(c=r?pidCryptUtil.encodeUTF8(t):t,f=c.length%3,f>0)for(;f++<3;)m+="=",c+="\x00";for(f=0;f<c.length;f+=3)e=c.charCodeAt(f),s=c.charCodeAt(f+1),n=c.charCodeAt(f+2),o=e<<16|s<<8|n,h=63&o>>18,a=63&o>>12,u=63&o>>6,p=63&o,d[f/3]=i.charAt(h)+i.charAt(a)+i.charAt(u)+i.charAt(p);return l=d.join(""),l=l.slice(0,l.length-m.length)+m},pidCryptUtil.decodeBase64=function(t,r){t||(t="");var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r="undefined"==typeof r?!1:r;var e,s,n,o,h,a,u,p,f,c,l=[];c=r?pidCryptUtil.decodeUTF8(t):t;for(var d=0;d<c.length;d+=4)o=i.indexOf(c.charAt(d)),h=i.indexOf(c.charAt(d+1)),a=i.indexOf(c.charAt(d+2)),u=i.indexOf(c.charAt(d+3)),p=o<<18|h<<12|a<<6|u,e=255&p>>>16,s=255&p>>>8,n=255&p,l[d/4]=String.fromCharCode(e,s,n),64==u&&(l[d/4]=String.fromCharCode(e,s)),64==a&&(l[d/4]=String.fromCharCode(e));return f=l.join(""),f=r?pidCryptUtil.decodeUTF8(f):f},pidCryptUtil.encodeUTF8=function(t){return t||(t=""),t=t.replace(/[\u0080-\u07ff]/g,function(t){var r=t.charCodeAt(0);return String.fromCharCode(192|r>>6,128|63&r)}),t=t.replace(/[\u0800-\uffff]/g,function(t){var r=t.charCodeAt(0);return String.fromCharCode(224|r>>12,128|63&r>>6,128|63&r)})},pidCryptUtil.decodeUTF8=function(t){return t||(t=""),t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(t){var r=(31&t.charCodeAt(0))<<6|63&t.charCodeAt(1);return String.fromCharCode(r)}),t=t.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(t){var r=(15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2);return String.fromCharCode(r)})},pidCryptUtil.convertToHex=function(t){t||(t="");for(var r="",i="",e=0;e<t.length;e++)i=t.charCodeAt(e).toString(16),r+=1==i.length?"0"+i:i;return r},pidCryptUtil.convertFromHex=function(t){t||(t="");for(var r="",i=0;i<t.length;i+=2)r+=String.fromCharCode(parseInt(t.substring(i,i+2),16));return r},pidCryptUtil.stripLineFeeds=function(t){t||(t="");var r="";return r=t.replace(/\n/g,""),r=r.replace(/\r/g,"")},pidCryptUtil.toByteArray=function(t){t||(t="");for(var r=[],i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r},pidCryptUtil.fragment=function(t,r,i){if(t||(t=""),!r||r>=t.length)return t;i||(i="\n");for(var e="",s=0;s<t.length;s+=r)e+=t.substr(s,r)+i;return e},pidCryptUtil.formatHex=function(t,r){t||(t=""),r||(r=45);for(var i="",e=t.toLowerCase(),s=0;s<e.length;s+=2)i+=e.substr(s,2)+":";return e=this.fragment(i,r)},pidCryptUtil.byteArray2String=function(t){for(var r="",i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r},s.prototype.parseStringHex=function(t,r){"undefined"==typeof r&&(r=this.enc.length);for(var i="",e=t;r>e;++e){var s=this.get(e);i+=this.hexDigits.charAt(s>>4)+this.hexDigits.charAt(15&s)}return i},s.prototype.get=function(t){if(void 0==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},s.prototype.hexDigits="0123456789ABCDEF",s.prototype.hexDump=function(t,r){for(var i="",e=t;r>e;++e){var s=this.get(e);i+=this.hexDigits.charAt(s>>4)+this.hexDigits.charAt(15&s),7==(15&e)&&(i+=" "),i+=15==(15&e)?"\n":" "}return i},s.prototype.parseStringISO=function(t,r){for(var i="",e=t;r>e;++e)i+=String.fromCharCode(this.get(e));return i},s.prototype.parseStringUTF=function(t,r){for(var i="",e=0,s=t;r>s;){var e=this.get(s++);i+=String.fromCharCode(128>e?e:e>191&&224>e?(31&e)<<6|63&this.get(s++):(15&e)<<12|(63&this.get(s++))<<6|63&this.get(s++))}return i},s.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,s.prototype.parseTime=function(t,r){var i=this.parseStringISO(t,r),e=this.reTime.exec(i);return e?(i=e[1]+"-"+e[2]+"-"+e[3]+" "+e[4],e[5]&&(i+=":"+e[5],e[6]&&(i+=":"+e[6],e[7]&&(i+="."+e[7]))),e[8]&&(i+=" UTC","Z"!=e[8]&&(i+=e[8],e[9]&&(i+=":"+e[9]))),i):"Unrecognized time: "+i},s.prototype.parseInteger=function(t,r){if(r-t>4)return void 0;for(var i=0,e=t;r>e;++e)i=i<<8|this.get(e);return i},s.prototype.parseOID=function(t,r){for(var i,e=0,s=0,n=t;r>n;++n){var o=this.get(n);e=e<<7|127&o,s+=7,128&o||(void 0==i?i=parseInt(e/40)+"."+e%40:i+="."+(s>=31?"big":e),e=s=0),i+=String.fromCharCode()}return i},"undefined"!=typeof e&&(e.ASN1=function(t,r,i,e,s){this.stream=t,this.header=r,this.length=i,this.tag=e,this.sub=s},e.ASN1.prototype.toHexTree=function(){var t={};if(t.type=this.typeName(),"SEQUENCE"!=t.type&&(t.value=this.stream.parseStringHex(this.posContent(),this.posEnd())),null!=this.sub){t.sub=[];for(var r=0,i=this.sub.length;i>r;++r)t.sub[r]=this.sub[r].toHexTree()}return t},e.ASN1.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var t=this.tag>>6;1&this.tag>>5;var r=31&this.tag;switch(t){case 0:switch(r){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+r.toString(16)}case 1:return"Application_"+r.toString(16);case 2:return"["+r+"]";case 3:return"Private_"+r.toString(16)}},e.ASN1.prototype.content=function(){if(void 0==this.tag)return null;var t=this.tag>>6;if(0!=t)return null;var r=31&this.tag,i=this.posContent(),e=Math.abs(this.length);switch(r){case 1:return 0==this.stream.get(i)?"false":"true";case 2:return this.stream.parseInteger(i,i+e);case 6:return this.stream.parseOID(i,i+e);case 12:return this.stream.parseStringUTF(i,i+e);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(i,i+e);case 23:case 24:return this.stream.parseTime(i,i+e)}return null},e.ASN1.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},e.ASN1.prototype.print=function(t){if(void 0==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var r=0,i=this.sub.length;i>r;++r)this.sub[r].print(t)}},e.ASN1.prototype.toPrettyString=function(t){void 0==t&&(t="");var r=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(r+="+"),r+=this.length,32&this.tag?r+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(r+=" (encapsulates)"),r+="\n",null!=this.sub){t+="  ";for(var i=0,e=this.sub.length;e>i;++i)r+=this.sub[i].toPrettyString(t)}return r},e.ASN1.prototype.toDOM=function(){var t=document.createElement("div");t.className="node",t.asn1=this;var r=document.createElement("div");r.className="head";var i=this.typeName();r.innerHTML=i,t.appendChild(r),this.head=r;var e=document.createElement("div");e.className="value",i="Offset: "+this.stream.pos+"<br/>",i+="Length: "+this.header+"+",i+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?i+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(i+="<br/>(encapsulates)");var s=this.content();if(null!=s&&(i+="<br/>Value:<br/><b>"+s+"</b>","object"==typeof oids&&6==this.tag)){var n=oids[s];n&&(n.d&&(i+="<br/>"+n.d),n.c&&(i+="<br/>"+n.c),n.w&&(i+="<br/>(warning!)"))}e.innerHTML=i,t.appendChild(e);var o=document.createElement("div");if(o.className="sub",null!=this.sub)for(var h=0,a=this.sub.length;a>h;++h)o.appendChild(this.sub[h].toDOM());return t.appendChild(o),r.switchNode=t,r.onclick=function(){var t=this.switchNode;t.className="node collapsed"==t.className?"node":"node collapsed"},t},e.ASN1.prototype.posStart=function(){return this.stream.pos},e.ASN1.prototype.posContent=function(){return this.stream.pos+this.header},e.ASN1.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.ASN1.prototype.toHexDOM_sub=function(t,r,i,e,s){if(!(e>=s)){var n=document.createElement("span");n.className=r,n.appendChild(document.createTextNode(i.hexDump(e,s))),t.appendChild(n)}},e.ASN1.prototype.toHexDOM=function(){var t=document.createElement("span");if(t.className="hex",this.head.hexNode=t,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},this.toHexDOM_sub(t,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(t,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null==this.sub)t.appendChild(document.createTextNode(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var r=this.sub[0],i=this.sub[this.sub.length-1];this.toHexDOM_sub(t,"intro",this.stream,this.posContent(),r.posStart());for(var e=0,s=this.sub.length;s>e;++e)t.appendChild(this.sub[e].toHexDOM());this.toHexDOM_sub(t,"outro",this.stream,i.posEnd(),this.posEnd())}return t},e.ASN1.decodeLength=function(t){var r=t.get(),i=127&r;if(i==r)return i;if(i>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==i)return-1;r=0;for(var e=0;i>e;++e)r=r<<8|t.get();return r},e.ASN1.hasContent=function(t,r,i){if(32&t)return!0;if(3>t||t>4)return!1;var n=new s(i);3==t&&n.get();var o=n.get();if(1&o>>6)return!1;try{var h=e.ASN1.decodeLength(n);return n.pos-i.pos+h==r}catch(a){return!1}},e.ASN1.decode=function(t){t instanceof s||(t=new s(t,0));var r=new s(t),i=t.get(),n=e.ASN1.decodeLength(t),o=t.pos-r.pos,h=null;if(e.ASN1.hasContent(i,n,t)){var a=t.pos;if(3==i&&t.get(),h=[],n>=0){for(var u=a+n;t.pos<u;)h[h.length]=e.ASN1.decode(t);if(t.pos!=u)throw"Content size is not correct for container starting at offset "+a}else try{for(;;){var p=e.ASN1.decode(t);if(0==p.tag)break;h[h.length]=p}n=a-t.pos}catch(f){throw"Exception while decoding undefined length content: "+f}}else t.pos+=n;return new e.ASN1(r,o,n,i,h)},e.ASN1.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],r=0,i=t.length;i>r;++r){var n=new s(t[r].value,0),o=e.ASN1.decodeLength(n);o!=t[r].expected&&document.write("In test["+r+"] expected "+t[r].expected+" got "+o+"\n")}});var li,di=0xdeadbeefcafe,mi=15715070==(16777215&di);mi&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=a,li=30):mi&&"Netscape"!=navigator.appName?(n.prototype.am=h,li=26):(n.prototype.am=u,li=28),n.prototype.DB=li,n.prototype.DM=(1<<li)-1,n.prototype.DV=1<<li;var gi=52;n.prototype.FV=Math.pow(2,gi),n.prototype.F1=gi-li,n.prototype.F2=2*li-gi;var vi,yi,bi="0123456789abcdefghijklmnopqrstuvwxyz",Ti=new Array;for(vi="0".charCodeAt(0),yi=0;9>=yi;++yi)Ti[vi++]=yi;for(vi="a".charCodeAt(0),yi=10;36>yi;++yi)Ti[vi++]=yi;for(vi="A".charCodeAt(0),yi=10;36>yi;++yi)Ti[vi++]=yi;R.prototype.convert=_,R.prototype.revert=I,R.prototype.reduce=P,R.prototype.mulTo=U,R.prototype.sqrTo=q,F.prototype.convert=V,F.prototype.revert=k,F.prototype.reduce=H,F.prototype.mulTo=j,F.prototype.sqrTo=Z,n.prototype.copyTo=c,n.prototype.fromInt=l,n.prototype.fromString=m,n.prototype.clamp=g,n.prototype.dlShiftTo=D,n.prototype.drShiftTo=C,n.prototype.lShiftTo=N,n.prototype.rShiftTo=E,n.prototype.subTo=w,n.prototype.multiplyTo=B,n.prototype.squareTo=x,n.prototype.divRemTo=O,n.prototype.invDigit=L,n.prototype.isEven=z,n.prototype.exp=G,n.prototype.toString=v,n.prototype.negate=y,n.prototype.abs=b,n.prototype.compareTo=T,n.prototype.bitLength=A,n.prototype.mod=M,n.prototype.modPowInt=K,n.ZERO=d(0),n.ONE=d(1),qr.prototype.convert=Lr,qr.prototype.revert=Lr,qr.prototype.mulTo=Fr,qr.prototype.sqrTo=Vr,jr.prototype.convert=zr,jr.prototype.revert=Gr,jr.prototype.reduce=Kr,jr.prototype.mulTo=Jr,jr.prototype.sqrTo=Qr;
var Si=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ai=(1<<26)/Si[Si.length-1];n.prototype.chunkSize=Y,n.prototype.toRadix=tr,n.prototype.fromRadix=rr,n.prototype.fromNumber=ir,n.prototype.bitwiseTo=hr,n.prototype.changeBit=Cr,n.prototype.addTo=Br,n.prototype.dMultiply=Pr,n.prototype.dAddOffset=Ur,n.prototype.multiplyLowerTo=Hr,n.prototype.multiplyUpperTo=Zr,n.prototype.modInt=Yr,n.prototype.millerRabin=ri,n.prototype.clone=Q,n.prototype.intValue=J,n.prototype.byteValue=W,n.prototype.shortValue=X,n.prototype.signum=$,n.prototype.toByteArray=er,n.prototype.equals=sr,n.prototype.min=nr,n.prototype.max=or,n.prototype.and=ur,n.prototype.or=fr,n.prototype.xor=lr,n.prototype.andNot=mr,n.prototype.not=gr,n.prototype.shiftLeft=vr,n.prototype.shiftRight=yr,n.prototype.getLowestSetBit=Tr,n.prototype.bitCount=Ar,n.prototype.testBit=Dr,n.prototype.setBit=Nr,n.prototype.clearBit=Er,n.prototype.flipBit=wr,n.prototype.add=xr,n.prototype.subtract=Or,n.prototype.multiply=Mr,n.prototype.divide=Rr,n.prototype.remainder=_r,n.prototype.divideAndRemainder=Ir,n.prototype.modPow=Wr,n.prototype.modInverse=$r,n.prototype.pow=kr,n.prototype.gcd=Xr,n.prototype.isProbablePrime=ti,ei.prototype.init=si,ei.prototype.next=ni;var Di=256;"undefined"!=typeof e&&"undefined"!=typeof n&&"undefined"!=typeof ii&&"undefined"!=typeof ei&&(e.RSA=function(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null},e.RSA.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var r=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);r.compareTo(i)<0;)r=r.add(this.p);return r.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.RSA.prototype.setPublic=function(t,r,i){"undefined"==typeof i&&(i=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=hi(t,i),this.e=parseInt(r,i)):alert("Invalid RSA public key")},e.RSA.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},e.RSA.prototype.encryptRaw=function(t){var r=ui(t,this.n.bitLength()+7>>3);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var e=i.toString(16);return 0==(1&e.length)?e:"0"+e},e.RSA.prototype.encrypt=function(t){return t=pidCryptUtil.encodeBase64(t),this.encryptRaw(t)},e.RSA.prototype.decryptRaw=function(t){var r=hi(t,16),i=this.doPrivate(r);return null==i?null:ai(i,this.n.bitLength()+7>>3)},e.RSA.prototype.decrypt=function(t){var r=this.decryptRaw(t);return r=r?pidCryptUtil.decodeBase64(r):""},e.RSA.prototype.setPrivate=function(t,r,i,e){"undefined"==typeof e&&(e=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=hi(t,e),this.e=parseInt(r,e),this.d=hi(i,e)):alert("Invalid RSA private key")},e.RSA.prototype.setPrivateEx=function(t,r,i,e,s,n,o,h,a){"undefined"==typeof a&&(a=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=hi(t,a),this.e=parseInt(r,a),this.d=hi(i,a),this.p=hi(e,a),this.q=hi(s,a),this.dmp1=hi(n,a),this.dmq1=hi(o,a),this.coeff=hi(h,a)):alert("Invalid RSA private key")},e.RSA.prototype.generate=function(t,r){var i=new ii,e=t>>1;this.e=parseInt(r,16);for(var s=new n(r,16);;){for(;this.p=new n(t-e,1,i),0!=this.p.subtract(n.ONE).gcd(s).compareTo(n.ONE)||!this.p.isProbablePrime(10););for(;this.q=new n(e,1,i),0!=this.q.subtract(n.ONE).gcd(s).compareTo(n.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var h=this.p.subtract(n.ONE),a=this.q.subtract(n.ONE),u=h.multiply(a);if(0==u.gcd(s).compareTo(n.ONE)){this.n=this.p.multiply(this.q),this.d=s.modInverse(u),this.dmp1=this.d.mod(h),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},e.RSA.prototype.getASNData=function(t){var r=[],i=0;if(t.value&&"INTEGER"==t.type&&(r[i++]=t.value),t.sub)for(var e=0;e<t.sub.length;e++)r=r.concat(this.getASNData(t.sub[e]));return r},e.RSA.prototype.setKeyFromASN=function(t,r){var i=["N","E","D","P","Q","DP","DQ","C"],e={},s=this.getASNData(r);switch(t){case"Public":case"public":for(var n=0;n<s.length;n++)e[i[n]]=s[n].toLowerCase();this.setPublic(e.N,e.E,16);break;case"Private":case"private":for(var n=1;n<s.length;n++)e[i[n-1]]=s[n].toLowerCase();this.setPrivateEx(e.N,e.E,e.D,e.P,e.Q,e.DP,e.DQ,e.C,16)}},e.RSA.prototype.setPublicKeyFromASN=function(t){this.setKeyFromASN("public",t)},e.RSA.prototype.setPrivateKeyFromASN=function(t){this.setKeyFromASN("private",t)},e.RSA.prototype.getParameters=function(){var t={};return null!=this.n&&(t.n=this.n),t.e=this.e,null!=this.d&&(t.d=this.d),null!=this.p&&(t.p=this.p),null!=this.q&&(t.q=this.q),null!=this.dmp1&&(t.dmp1=this.dmp1),null!=this.dmq1&&(t.dmq1=this.dmq1),null!=this.coeff&&(t.c=this.coeff),t});var Ci=function(t){return t?(t+="",t.length>60?t:fi(t)):void 0};i.exports=Ci});
;define("common:widget/oui/components/plan-quit-handler",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/rsa/index","common:widget/oui/protocol","common:widget/oui/common"],function(i,t,e){var n=i("common:widget/oui/lib/jquery/1.9.1/jquery"),o=i("common:widget/oui/arale/dialog/1.3.3/dialog"),a=(i("common:widget/oui/rsa/index"),i("common:widget/oui/protocol")),l=i("common:widget/oui/common"),c="系统正在努力为您计算预计回收金额，请您耐心等待",u="系统正在为您挂出债权，请您耐心等待",m=function(i){n.extend(this,{subPointId:i.subPointId,planName:i.planName,finalAmount:i.finalAmount,exitDialog:null,confirmDialog:null,exitTemplate:n("#confirm-plan-exit-template"),confirmTemplate:n("#confirm-plan-exit-execution-template"),canceled:!1,confirmed:!1,quitType:null,_ui:{}})};n.extend(m.prototype,{init:function(){return this},start:function(i,t){var e=this,a=this._ui,c=null;i&&"exit"!=i?(c=l.fillTemplate({template:e.confirmTemplate,data:n.extend(!0,t,e.dataUI("confirm"))}),e.confirmDialog=new o({content:c,hasMask:{hideOnClick:!1}}),e.confirmDialog.after("show",function(){e.loadUI("confirm"),e.setupMobileCodeRefresh(),e.confirmed=!1;var i=this;l.initPoptips(n(".expected-exit-amount-tip")),l.initPoptips(n(".expected-total-amount-tip")),a.confirmCancel.click(function(){e.confirmed||i.hide()}),a.confirmForm.submit(function(){n("#J_error_p_txma");if(a.confirmSubmit.hasClass("ui-button-disabled"))return!1;var i=a.$mobileCodeInput.val();return i?(e.confirmed=!0,a.confirmCancel.addClass("disabled"),a.confirmSubmit.addClass("ui-button-disabled"),e.showLoading(a.confirmDialog,u),!0):(a.$mobileCodeInfo.css("display","block"),!1)})}),e.confirmDialog.after("hide",function(){this.destroy()}),e.confirmDialog.show()):(c=l.fillTemplate({template:e.exitTemplate,data:e.dataUI("exit")}),e.exitDialog=new o({content:c,hasMask:{hideOnClick:!1}}),e.exitDialog.after("show",function(){e.canceled=!1,e.loadUI("exit"),e.initUI("exit"),e.updateQuitType(),e.setupMobileCodeRefresh();var i=this;a.exitCancel.click(function(){i.hide()})}),e.exitDialog.after("hide",function(){e.canceled=!0,this.destroy()}),e.exitDialog.show())},initUI:function(){var i=a.translator.translate(a.API.getUserBankInfo,l.loadJSON("#bank-accounts-rsp",!0).data);l.fillTemplate({container:n("#account-info"),template:n("#account-info-template"),data:i});var t=this,e=this._ui;e.exitQuitType.click(function(){e.exitRRD.toggle(),e.exitRRDHint.toggle(),e.exitBank.toggle(),e.exitBankHint.toggle(),t.updateQuitType()}),e.exitSubmit.click(function(){return e.exitSubmit.hasClass("ui-button-disabled")?!1:(e.exitSubmit.addClass("ui-button-disabled"),t.showLoading(e.exitDialog,c),void a.getExpectedAmountsForPlanExiting({subPointId:t.subPointId},function(i,e,n){t.canceled||(t.exitDialog.hide(),0===i?t.start("confirm",n):l.showMessage(e))}))})},loadUI:function(i){this._elem||(this._elem=function(i){return n(".ui-confirm").find('[data-name="'+i+'"]')});var t=this._ui;"exit"==i?(t.exitRRD=this._elem("to-renrendai"),t.exitRRDHint=this._elem("to-renrendai-hint"),t.exitBank=this._elem("to-bank"),t.exitBankHint=this._elem("to-bank-hint"),t.exitBankAccount=this._elem("bank-account"),t.exitQuitType=this._elem("change-manner"),t.exitDialog=n("#confirm-plan-exit"),t.exitSubmit=n("#submit-plan-exit"),t.exitCancel=n("#cancel-plan-exit"),t.$mobileCodeInput=n("#confirm-plan-exit .mobile-code-input"),t.$mobileCodeBtn=n("#confirm-plan-exit .mobile-code-btn"),t.$mobileCodeInfo=n("#confirm-plan-exit .mobile-code-info")):(t.confirmDialog=n("#confirm-plan-exit-execution"),t.confirmSubmit=n("#submit-plan-exit-execution"),t.confirmCancel=n("#cancel-plan-exit-execution"),t.confirmForm=n("#form-quit"),t.$mobileCodeInput=n("#confirm-plan-exit-execution .mobile-code-input"),t.$mobileCodeBtn=n("#confirm-plan-exit-execution .mobile-code-btn"),t.$mobileCodeInfo=n("#confirm-plan-exit-execution .mobile-code-info"))},setupMobileCodeRefresh:function(){function i(){e--,e>0?(o.text(e+"秒后重新获取"),t=setTimeout(i,1e3)):o.text("获取验证码").removeAttr("disabled").removeClass("ui-button-disabled")}var t,e=0,o=this._ui.$mobileCodeBtn,a=this._ui.$mobileCodeInfo,l=this._ui.$mobileCodeInput;if(o&&!(o.length<1)){var c=this.subPointId;o.click(function(){if(!(e>0)){clearTimeout(t);var a="/sendPhoneCode!trade.action",l={bussinessId:c};n.post(a,l).done(function(){}).fail(function(){}),e=30,o.text(e+"秒后重新获取").attr("disabled","disabled").addClass("ui-button-disabled"),t=setTimeout(i,1e3)}}),l.focus(function(){a.css("display","none")})}},dataUI:function(i){if("exit"==i)return{name:this.planName,amount:this.finalAmount};var t=this._ui,e={name:this.planName,amount:this.finalAmount};return"RRD"==this.quitType?(e.quitType="RRD",e.quitTypeName="提取至账户"):(e.quitType="BANK",e.quitTypeName="提取至银行卡",e.quitBankId=t.exitBankAccount.val(),e.quitBankAccount=t.exitBankAccount.find('[value="'+e.quitBankId+'"]').text()),e},updateQuitType:function(){var i=this._ui;this.quitType=i.exitRRD.is(":visible")?"RRD":"BANK"},showLoading:function(i,t){i.append('<div class="ui-confirm-loading-text"></div>');var e=n(".ui-dialog-content").width(),o=n(".ui-dialog-content").height();n(".ui-confirm-loading-text").css({width:e+"px",height:o+"px"}).append('<p class="hint">'+t+'</p><p class="loading"></p>')}}),e.exports=m});
;define("common:widget/oui/components/list-factory",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e,t,i){var n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/protocol"),r=e("common:widget/oui/widgets/widgets"),a=function(e){n.extend(this,{container:e.container}),this._ui={switcher:this._elem("details"),box:this._elem("details-box")},this.loanId=this.container.data("loan-id")};n.extend(a.prototype,{init:function(e){var t=this,i=this._ui;return i.switcher.click(function(){i.switcher.hasClass("active")?(i.switcher.removeClass("active"),i.box.hide()):("initialized"!=i.box.data("status")&&t._initDetails(e),i.switcher.addClass("active"),i.box.show())}),this},_initDetails:function(e){var t,i,a;"transferred-out"==e&&(t=o.API.getUserTransferredOutRecords,i=n("#transferred-out-details-template"),a="transferred-out-details-"+this.loanId),"repaying-list"==e&&(t=o.API.getUserTransferredInRecords,i=n("#repaying-list-details-template"),a="repaying-list-details-"+this.loanId),"repaid"==e&&(t=o.API.getUserTransferredLogJsonRecords,i=n("#repaid-list-details-template"),a="repaid-list-details-"+this.loanId),new r.List({template:i,name:a,api:t,title:!0,pagination:!0,params:{loanId:this.loanId}}).init()._update({loanId:this.loanId})},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}});var s=function(){n.extend(this,{})};n.extend(s.prototype,{create:function(e,t){return"transferred-out"==e?new r.List({name:t,api:o.API.getUserTransferredOutLoans,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,i){new a({container:n(i)}).init(e)})}}):void 0}}),i.exports=new s,i.exports.TransferredOutItem=a});
;define("common:widget/oui/components/investment-terminal",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/dialog/dialog","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/ui/jselect/jselect"],function(t,a,e){var o=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/ui/dialog/dialog"),n=t("common:widget/oui/common"),r=t("common:widget/oui/protocol"),s=t("common:widget/oui/widgets/widgets");Handlebars=t("common:widget/oui/lib/handlebars/1.0.0/handlebars");var u=t("common:widget/ui/jselect/jselect"),l=s.Form,c=function(t){o.extend(this,{container:t.container,template:t.template,page:t.page||"loan-invest",unit:t.unit||"amount",qualified:t.qualified,qualifiedMessage:t.qualifiedMessage,authenticated:t.authenticated,amountPerShare:t.amountPerShare||50,fee:t.fee||0,deposit:t.deposit||0,plan:t.plan||{},utmSourceTransfer:t.utmSourceTransfer||!1,max:{amount:t.maxAmount,shares:t.maxShares,account:t.maxAccount},min:{amount:t.minAmount}}),this.ui={input:this.container.find(".ui-term-input"),placeholder:this.container.find(".ui-term-placeholder"),error:this.container.find(".ui-term-error"),hint:this.container.find(".ui-term-hint"),eq:this.container.find(".ui-term-eq"),pseudoForm:this.container.find(".ui-term-form"),submitForm:this.container.find(".ui-term-form-real"),minus:this.container.find(".minus"),plus:this.container.find(".plus"),deposit:this.container.find("#deposit"),fee:this.container.find("#fee"),gainChoices:this.container.find(".ui-term-gain"),bankAccount:this.container.find(".ui-term-bank-account")},this.maxdepositamount=Number(o("#J_thisMaxDepositAmount").attr("data")),this.ui.pseudoForm.find("button").removeAttr("disabled").removeClass("ui-button-gray");var a=this;o.each(this.max,function(t,e){e instanceof o&&e.length>0&&(a.max[t]=parseFloat(e.data(t),10))});var e="amount"==this.unit?this.max.amount+"元":this.max.shares+"份",i=this.min.amount+"元",n=r.translator;this.errors={NONE:"",EXCEEDED_MAX:"您最多只能购买"+e,EXCEEDED_MIN:"您最少购买"+i,OVER_BALANCE:"账户余额不足",NOT_INT:"请输入整数"+("amount"==this.unit?"金额":"份额"),NOT_INT_SHARE:"输入金额需为"+n._commaInteger(this.amountPerShare)+"元的整数倍",NO_INPUT:"请输入有效"+("amount"==this.unit?"金额":"份额")}};o.extend(c.prototype,{init:function(t,a){var e=this,i=this.ui;"disabled"==i.input.attr("disabled")?this.inputUpdated():this.initInput(t),this.initPseudoForm(a),this.initGainChoices(),i.placeholder.click(function(){i.input.focus()}),i.minus.click(function(){{var t=Number(i.input.val());Number(o("#max-amount").attr("data-amount"))}if(!(1e3>=t)){t-=1e3;var a=e.check(t);a===e.errors.NONE&&(e.toggleErrorMessage(null),i.input.removeClass("invalid"),i.pseudoForm.find('button[type="submit"]').removeClass("disabled")),i.input.val(t);var n=parseInt(t/1e3,10);i.eq.text(n+"份")}}),i.plus.click(function(){var t=Number(i.input.val()),a=Number(o("#max-amount").attr("data-amount"));if(!(t>=a)){t+=1e3,e.check(t);var n=e.check(t);n===e.errors.NONE&&(e.toggleErrorMessage(null),i.input.removeClass("invalid"),i.pseudoForm.find('button[type="submit"]').removeClass("disabled")),i.input.val(t);var r=parseInt(t/1e3,10);i.eq.text(r+"份")}})},initInput:function(t){var a=this,e=this.ui;e.input.focusin(function(){e.placeholder.is(":visible")&&e.placeholder.hide()}).focusout(function(){""===e.input.val()&&e.placeholder.show()}).keyup(function(){a.inputUpdated()}),t?(e.input.focusin(),e.input.val(t[a.unit]),e.input.keyup()):(e.input.val(""),e.eq.text(""),"cf"==o("#loan-type").val()&&e.input.val(1e3))},inputUpdated:function(){var t=this,a=this.ui,e=a.input.val(),i=a.pseudoForm.find('button[type="submit"]');if(e.length>10&&(e=e.substring(0,10)),e=parseInt(e,10),isNaN(e))return a.input.removeClass("invalid"),i.removeClass("disabled"),a.input.val(""),a.eq.text(""),t.toggleErrorMessage(null),void("autoinvest-join"==t.page&&o(".J_totalMyInvest").text("0"));a.input.val(e);var n=t.check(e);if(n===t.errors.NONE){if(t.toggleErrorMessage(null),a.input.removeClass("invalid"),""!==e){var r;"amount"==t.unit?(r=parseInt(e/t.amountPerShare,10),a.eq.text(r+"份")):(r=Math.round(e*t.amountPerShare*100)/100,a.eq.text(r+"元")),i.removeClass("disabled")}else i.addClass("disabled"),a.eq.text("");i.hasClass("HASJOINED")&&i.addClass("disabled")}else t.toggleErrorMessage(n),i.addClass("disabled"),a.input.addClass("invalid"),a.eq.text("");if(n!==t.errors.NONE&&n!==t.errors.OVER_BALANCE||""===e)a.deposit.text("0"),a.fee.text("0");else{var s=parseInt(t.deposit*e,10);s=s>=this.maxdepositamount?this.maxdepositamount:s;var u=Number(o("#J_thisMaxDepositAmount").attr("data")),l=Number(o("#J_maxDepositAmount").attr("data"));a.deposit.text(s>u?u:s>l?l:s),a.fee.text(parseInt(t.fee*e,10))}},initPseudoForm:function(t){function a(t,a){function i(i){o(document).click(function(t){var a=t.target;o(a).parent("span").hasClass("arrow")||o(a).parent("div").hasClass("J_select_btn")||o(".J_popBox").css("display","none")}),o(".J_select_btn").click(function(t){o(".J_popBox").css("display","none");var a=o(t.currentTarget).parent().find("ul");"block"==a.css("display")?a.css("display","none"):a.css("display","block")}),o(".J_popBox").on("mouseover","li",function(t){o(t.currentTarget).attr("class","selected")}),o(".J_popBox").on("mouseleave","li",function(t){o(t.currentTarget).attr("class","")}),o(".J_popBox").on("click","li",function(t){var a=o(t.currentTarget).attr("datavalue"),n=o(t.currentTarget).find("span").text(),s=o(t.currentTarget).attr("couponType"),u=o(t.currentTarget).parent().parent(),l=parseFloat(i.unRepayAmountNotComma)-parseFloat(o(t.currentTarget).attr("couponvalue"));0>l&&(l=0),o(".J_red_packet_tips").addClass("fn-hide"),u.find(".J_txt").text(n),c.id=a,c.payable=l,o("#getUseCouponId").attr("couponType",s),o("#chooseCoupon").prop("checked")?(o("#getUseCouponId").attr("value",a),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable)),"DISCOUNT"==s&&(o("span",".J_red_packet_tips").text(o(t.currentTarget).attr("couponvalue")),o(".J_red_packet_tips").removeClass("fn-hide"))):"DISCOUNT"==s&&o("span",".J_red_packet_tips").text(o(t.currentTarget).attr("couponvalue")),e.checkYuE()}),o(".J_use_psw").on("click",function(){o(".J_use_psw_wrap").toggle(),o("input",".J_use_psw_wrap").focus()}),o(".J_use_coupon").on("click",function(){var e=o.trim(o(".ui-input",".J_use_psw_wrap").val());return""===e?(o(".J_use_coupon_tips").text("优惠券密码不能为空!").show(),void o(".J_use_coupon_tips").delay(3e3).slideUp(function(){o(this).html("")})):void o.ajax({url:"/bindUserCoupon.action?couponCode="+e+"&payAmount="+t+"&businessCategory="+a,success:function(a){if(o(".J_use_coupon_tips").text(a.message).show().delay(3e3).slideUp(function(){o(this).html("")}),0===a.status){o(".J_coupon_wrap").removeClass("no-coupon-list"),o(".J_txt",".ui-selectdrop").text(a.data.name);var e=parseFloat(i.unRepayAmountNotComma)-a.data.couponValue;0>e&&(e=0),o(".J_popBox",".ui-selectdrop").prepend('<li class="" datavalue="'+a.data.couponId+'" unrepayamout="'+t+'" couponvalue="'+a.data.couponValue+'" couponType="'+a.data.couponTypeEng+'" ><span>'+a.data.name+"</span></li>"),o(".J_use_psw_wrap").slideUp(),o("input",".J_use_psw_wrap").val(""),c.id=a.data.couponId,c.payable=e,o(".ui-select",".J_addCoupon").show(),o(".ui-selectdrop",".J_addCoupon").show(),o("#chooseCoupon").prop("checked")&&(o("#getUseCouponId").val(a.data.couponId),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable))),"DISCOUNT"==a.data.couponTypeEng?(o("span",".J_red_packet_tips").text(a.data.couponValue),o(".J_red_packet_tips").removeClass("fn-hide")):o(".J_red_packet_tips").addClass("fn-hide")}}})}),o("#chooseCoupon").on("click",function(){o(this).prop("checked")?(o("#getUseCouponId").val(c.id),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable)),"DISCOUNT"==o("#getUseCouponId").attr("coupontype")&&o(".J_red_packet_tips").removeClass("fn-hide")):(o(".J_red_packet_tips").addClass("fn-hide"),o("#getUseCouponId").val(""),o(".J_payable").attr("data-payable",t).html(r.translator._commaFloat(t))),e.checkYuE()})}o.ajax({url:"/getUsableCoupon.action?payAmount="+t+"&businessCategory="+a+"&t="+(new Date).getTime(),success:function(a){var e=a.data;a.data.couponList&&a.data.couponList[0]&&(e.initCouponValue=a.data.couponList[0]),e.unRepayAmountNotComma=t;var n=Handlebars.compile(o("#confirm-plan-join-coupon-template").html());o(".J_coupon_wrap").html(n(e)),l.ui.init(),1===a.status?(o(".J_coupon_wrap").addClass("no-coupon-list"),o(".ui-select",".J_addCoupon").hide(),o(".ui-selectdrop",".J_addCoupon").hide()):e.initCouponValue?(o(".J_coupon_wrap").removeClass("no-coupon-list"),c={id:e.initCouponValue.couponId,payable:parseFloat(e.unRepayAmountNotComma)-parseFloat(e.initCouponValue.couponValue)},c.payable<0&&(c.payable=0),o(".J_payable").attr("data-payable",c.payable).html(r.translator._commaFloat(c.payable)),"DISCOUNT"==e.initCouponValue.couponTypeEng&&o(".J_red_packet_tips").removeClass("fn-hide")):(o(".J_coupon_wrap").addClass("no-coupon-list"),o(".ui-select",".J_addCoupon").hide(),o(".ui-selectdrop",".J_addCoupon").hide()),i(e)}})}var e=this,s=this.ui,c={};s.pseudoForm.submit(function(){if(s.pseudoForm.find('button[type="submit"]').hasClass("disabled"))return!1;if(!s.input.val()||0===parseInt(s.input.val(),10))return s.hint.hide(),s.error.text(e.errors.NO_INPUT).show(),!1;if(e.check(s.input.val())==e.errors.NONE)if(e.authenticated)if(e.qualified){var t=n.fillTemplate({template:e.template,data:e.getData()});if("U-Plan"==o("#invest-type").val()){var r=o("#financePlanCategory").val(),c="UPLAN_"+r,p=e.getData().amountAndFee;a(p,c)}else if("loan"==o("#invest-type").val()){var c="LOAN",p=e.getData().amount;a(p,c)}else if("transfer"==o("#invest-type").val()){var c="TRANSFER",p=e.getData().amount;a(p,c)}else if("AUTOINVEST"==o("#invest-type").val()){var c="AUTO_INVEST_PLAN",p=e.getData().amount;if(0!=o("#hasSameDate").val())return o(".autoinvest-tip_div").show(),i.modalDialog({content:o(".autoinvest-tip_div"),cssClass:"exchange-dialog",maskConfig:{cssClass:"exchange-mask"},title:"提示"}).after("show",function(){var n=this;o("#gooninvest").on("click",function(){n.hide(),a(p,c),i.modalDialog({content:t,cssClass:"exchange-dialog",maskConfig:{cssClass:"exchange-mask"}}).after("show",function(){var t=this;o(".ui-confirm-cancel-link").click(function(){t.hide()}),e.renderConfirmation(),o("#reserveForm").length&&(o("#closeRsvDialog").click(function(){o(".ui-dialog-close").trigger("click")}),l.validate({target:"#reserveForm"}))}).after("hide",function(){this.destroy(),location.reload()}).show()})}).after("hide",function(){o(".autoinvest-tip_div").hide()}).show(),!1;a(p,c)}var d;i.modalDialog({content:t,cssClass:"exchange-dialog",maskConfig:{cssClass:"exchange-mask"}}).after("show",function(){var t=o(".j-select");t.length>0&&(d=u.make(t),d.on("change",function(t){var a=o(".j-dialog-selectnum").attr(t.value);o(".j-dialog-selectnum em").text(a),o("#cash-type-str-input").val(t.value)}));var a=this;o(".ui-confirm-cancel-link").click(function(){a.hide()}),e.renderConfirmation(),o("#reserveForm").length&&(o("#closeRsvDialog").click(function(){o(".ui-dialog-close").trigger("click")}),l.validate({target:"#reserveForm"}))}).after("hide",function(){this.destroy(),d&&(d.destroy(),d=null),location.reload()}).show()}else n.showMessage({error:!0,message:e.qualifiedMessage});else window.location.replace("/loginPage.action");return!1}),t&&e.authenticated&&e.qualified&&s.pseudoForm.submit()},initGainChoices:function(){var t=this.ui;t.gainChoices.children(".ui-term-radio").click(function(){var a=o(this).children("input");a.prop("checked")||a.prop("checked",!0),"BANK"==a.val()&&a.prop("checked")?t.bankAccount.show():t.bankAccount.hide()})},renderConfirmation:function(){var t=this,a=parseFloat(o('[data-name="shares"]').text(),10);"number"==typeof a&&o('[data-type="multishares"]').each(function(){var e=o(this),i=parseFloat(e.text(),10);"number"==typeof i&&(i*=a,i=r.translator._fixedFloat2(i)),t.utmSourceTransfer&&(i=r.translator._fixedFloat2(20*i)),e.text(i)}),o("#captcha").length>0&&new s.Captcha({name:"captcha"}).init();var e=o('[data-name="expacted-rate"]');if(e.length>0){var i=e.data("value").toString();e.text(i.replace(/%/g,"").replace("-"," - "))}o(".ui-confirm-form").submit(function(){var t=o('input[name="agree-contract"]'),a=o("#captcha-input"),e=o(".ui-confirm-hint");if(t.length>0){var i=t.prop("checked");if(!i)return e.text("投标前请阅读并同意协议"),e.show(),!1;e.hide()}if(a.length>0){if(!a.val())return e.text("请填写验证码"),e.show(),!1;e.hide()}var n=parseInt(100*o("#max-account").attr("data-account"),10),r=parseInt(100*o(".J_payable").attr("data-payable"),10);return 0>n-r?(o(".ui-confirm-yue").html("您的余额不足  <a href='/account/capital!recharge.action'>充值</a>").show(),!1):(o(this).find(":submit").attr("disabled","disabled"),!0)})},check:function(t){var a=parseFloat(o("#deposit-rate").data("deposit-rate"),10)/100,e=parseInt(t,10);if(""===t)return this.errors.NONE;if(t!=e.toString())return this.errors.NOT_INT;e="amount"==this.unit?e:e*this.amountPerShare;var i=e*a,n=Number(o("#J_thisMaxDepositAmount").attr("data")),s=Number(o("#J_maxDepositAmount").attr("data")),u=0;u=i>n?n:i>s?s:i;var l=this.fee*e;if("autoinvest-join"==this.page&&o(".J_totalMyInvest").text("0"),e>=this.max.amount){if("cf"==o("#loan-type").val()&&(this.ui.plus.addClass("cal-grey").attr("disabled","disabled"),this.ui.minus.removeAttr("disabled").removeClass("cal-grey")),e==this.max.amount){if("autoinvest-join"==this.page){var c=parseInt(o("#lockPeriod").attr("data-lockPeriod"));o(".J_totalMyInvest").text(r.translator._commaFloat(e*c))}return this.errors.NONE}return this.errors.EXCEEDED_MAX}if("true"==this.ui.pseudoForm.attr("data-book")&&u>this.max.account)return this.errors.OVER_BALANCE;if(e+l>this.max.account&&"rsv"!=this.ui.pseudoForm.attr("data")&&"true"!=this.ui.pseudoForm.attr("data-book"))return this.errors.OVER_BALANCE;if(e<this.min.amount&&"autoinvest-join"==this.page)return this.errors.EXCEEDED_MIN;if(e<=this.amountPerShare&&"cf"==o("#loan-type").val())return this.ui.minus.addClass("cal-grey").attr("disabled","disabled"),this.ui.plus.removeAttr("disabled").removeClass("cal-grey"),e==this.amountPerShare?this.errors.NONE:this.errors.NOT_INT_SHARE;if("amount"==this.unit&&e%this.amountPerShare!==0)return this.errors.NOT_INT_SHARE;if(e<this.max.amount&&e>this.amountPerShare&&"cf"==o("#loan-type").val())return this.ui.minus.removeAttr("disabled").removeClass("cal-grey"),this.ui.plus.removeAttr("disabled").removeClass("cal-grey"),this.errors.NONE;if("autoinvest-join"==this.page){var c=parseInt(o("#lockPeriod").attr("data-lockPeriod"));o(".J_totalMyInvest").text(r.translator._commaFloat(e*c))}return this.errors.NONE},getData:function(){var t=this.ui,a=t.input.val();if("loan-invest"==this.page)return{formatAmount:r.translator._commaFloat(a),amount:a,shares:a/this.amountPerShare};if("loan-transfer"==this.page)return{amount:Math.round(100*a*this.amountPerShare,10)/100,shares:a,formatAmount:r.translator._commaFloat(Math.round(100*a*this.amountPerShare,10)/100),utmSourceTransfer:this.utmSourceTransfer};if("plan-join"==this.page){var e,i,n=[{value:"INVEST",text:"收益再投资"},{value:"RRD",text:"提取至主账户"}],s=!1,u="",l="";e=t.gainChoices.find("input:checked"),i=e.parent().children(".ui-term-radio-text").text();var c=parseInt(this.ui.input.val(),10),p=parseFloat(o("#fee-rate").data("fee-rate"),10)/100,d=parseFloat(o("#deposit-rate").data("deposit-rate"),10)/100,m=c*d>=this.maxdepositamount?this.maxdepositamount:c*d;if("BANK"==e.val()){var h=t.bankAccount.find("option:selected");s=!0,u=h.text(),l=h.val()}var f=""!==o("#append-action").text(),v=o("#append-action").text(),g=o("#surplus-amount-helper"),_=0,b=0,x=0,y=0;g.length&&(_=parseFloat(Number(g.data("overplusamount"))),b=parseFloat(Number(g.data("buyinrate"))),x=parseFloat(Number(g.data("alreadydepositamount"))),y=(_+c)*b*.01+_+c-x-m);var C=Number(o("#J_thisMaxDepositAmount").attr("data")),N=Number(o("#J_maxDepositAmount").attr("data"));return m>C?m=C:m>N&&(m=N),{amount:a,shares:a/this.amountPerShare,deposit:m,fee:p*a,amountAndFee:parseInt(a,10)+p*a,append:v,isAppend:f,gain:n[0].value,gainText:n[0].text,cashTypeList:n,intoBank:s,restAmount:y,bankText:u,bankVal:l,formatAmountAndFee:r.translator._commaFloat(parseInt(a,10)+p*a)}}if("autoinvest-join"==this.page){var k=parseInt(o("#lockPeriod").attr("data-lockPeriod"));return{amount:a,formatAmount:r.translator._commaFloat(a),totalJoinAmount:r.translator._commaFloat(a*k)}}return{}},toggleErrorMessage:function(t){t?(this.ui.hint.hide(),this.ui.error.text(t).show()):(this.ui.error.hide().empty(),this.ui.hint.show())},checkYuE:function(){var t=parseInt(100*o("#max-account").attr("data-account"),10),a=parseInt(100*o(".J_payable").attr("data-payable"),10);0>t-a?o(".ui-confirm-yue").html("您的余额不足  <a href='/account/capital!recharge.action'>充值</a>").show():o(".ui-confirm-yue").html("").hide()}}),e.exports=c});
;define("common:widget/oui/components/transfer-confirmation",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e,t,i){var a=e("common:widget/oui/lib/jquery/1.9.1/jquery"),s=(e("common:widget/oui/rsa/index"),e("common:widget/oui/protocol")),n=(e("common:widget/oui/widgets/widgets"),{}),r=function(e){a.extend(this,{container:e.container}),this._ui={hint:this._elem("cfm-hint"),hint2:this.container.find(".ui-confirm-hint"),form:this._elem("cfm-form"),submit:this._elem("cfm-submit"),inputAgree:this._elem("cfm-agreement"),inputShares:this._elem("cfm-shares-to-transfer"),selectDiscount:this._elem("cfm-discount"),availableShares:this._elem("cfm-available-shares"),valuePerShare:this._elem("cfm-value-per-share"),pricePerShare:this._elem("cfm-price-per-share"),price:this._elem("cfm-price-in-total"),fee:this._elem("cfm-fee"),summary:this._elem("cfm-income-summary")},this.fee=parseFloat(this._ui.fee.data("value"),10),this.availableShares=parseInt(this._ui.availableShares.text(),10),this.valuePerShare=parseFloat(this._ui.valuePerShare.text(),10)};a.extend(r.prototype,{init:function(){var e=this,t=this._ui;return e.update(),t.inputShares.keyup(function(){e.hint(e.check()),e.update()}),t.selectDiscount.change(function(){e.update()}),t.inputAgree.change(function(){e.update()}),t.form.submit(function(){var e=a("#J_zrff").val(),i=/^[0-9]*$/;return i.test(e)?t.submit.hasClass("disabled")?!1:!0:(a("#J_error_hint").html("请输入正确的转让份数"),a("#J_error_hint").css("display","inline-block"),a("#J_zrff").focus(),!1)}),this},hint:function(e){e?this._ui.hint.text(e).show():this._ui.hint.text("").hide()},check:function(){var e=this._ui.inputShares,t=e.val();return t=parseInt(t,10),isNaN(t)?void e.val(""):(e.val(t),t>this.availableShares?"转让份数不能多于"+this.availableShares+"份":void 0)},update:function(){var e=this._ui,t=s.translator,i=parseInt(e.inputShares.val(),10),a=parseFloat(e.selectDiscount.val(),10),n=e.inputAgree.prop("checked"),r=parseFloat(e.pricePerShare.data("interest"),10),o=parseFloat(e.pricePerShare.data("principal"),10);!isNaN(i)&&i<=this.availableShares?e.submit.removeClass("disabled"):(e.submit.addClass("disabled"),i=0),n?(e.hint2.text(""),e.hint2.hide()):(e.hint2.text("转让前请阅读并同意协议"),e.hint2.show(),e.submit.addClass("disabled"));var u=r-parseFloat(t._fixedFloat2(o*(1-a)),10),h=u*i,c=h*this.fee;e.pricePerShare.text(t._fixedFloat2(u)),e.price.text(t._fixedFloat2(h)),e.fee.text(t._fixedFloat2(c)),e.summary.text(t._fixedFloat2(h-c))},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}});var o=function(e){a.extend(this,{container:e.container}),this._ui={form:this._elem("cfm-form"),submit:this._elem("cfm-submit"),inputAgree:this._elem("cfm-agreement"),selectDiscount:this._elem("cfm-discount"),value:this._elem("cfm-value-in-total"),price:this._elem("cfm-price-in-total"),fee:this._elem("cfm-fee"),summary:this._elem("cfm-income-summary"),hint2:this.container.find(".ui-confirm-hint")},this.fee=parseFloat(this._ui.fee.data("value"),10),this.value=parseFloat(this._ui.value.text(),10)};a.extend(o.prototype,{init:function(){var e=this,t=this._ui;return e.update(),t.selectDiscount.change(function(){e.update()}),t.inputAgree.change(function(){e.update()}),t.form.submit(function(){return t.submit.hasClass("disabled")?!1:!0}),this},update:function(){var e=this._ui,t=s.translator,i=parseFloat(e.selectDiscount.val(),10),a=e.inputAgree.prop("checked");a?(e.hint2.text(""),e.hint2.hide(),e.submit.removeClass("disabled")):(e.hint2.text("转让前请阅读并同意协议"),e.hint2.show(),e.submit.addClass("disabled"));var n=i*this.value,r=n*this.fee;e.fee.text(t._fixedFloat2(r)),e.price.text(t._fixedFloat2(n)),e.summary.text(t._fixedFloat2(n-r))},_elem:function(e){return this.container.find('[data-name="'+e+'"]')}}),n.Confirm=r,n.ConfirmBatch=o,i.exports=n,a("body").delegate("#captcha-input","keydown",function(){var e=a("#captcha-input").val();a.trim(e).length>0&&a(".J_error_msg_p").css("display","none")})});
;define("common:widget/oui/components/components",["require","exports","module","common:widget/oui/components/calculator","common:widget/oui/components/latest-financial-plan","common:widget/oui/components/plan-performance","common:widget/oui/components/plan-quit-handler","common:widget/oui/components/list-factory","common:widget/oui/components/investment-terminal","common:widget/oui/components/transfer-confirmation"],function(o,n,t){var e={};e.Calculator=o("common:widget/oui/components/calculator"),e.LatestPlan=o("common:widget/oui/components/latest-financial-plan"),e.PlanPerformance=o("common:widget/oui/components/plan-performance"),e.PlanQuitHandler=o("common:widget/oui/components/plan-quit-handler"),e.ListFactory=o("common:widget/oui/components/list-factory"),e.InvestmentTerminal=o("common:widget/oui/components/investment-terminal"),e.TransferConfirmation=o("common:widget/oui/components/transfer-confirmation"),t.exports=e});
;define("common:widget/oui/components/footer",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e,o,i){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),r=function(){};t.extend(r.prototype,{init:function(){t(".we-chat").length&&t("#weixin-content").length&&new n({trigger:".we-chat",width:"350px",content:t("#weixin-content")})}}),i.exports=r});
;define("common:widget/oui/components/header",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol"],function(t,e,a){function o(){var t=null;clearInterval(t);var e=0,a=0;t=setInterval(function(){a=document.documentElement.scrollTop||document.body.scrollTop,e=Math.floor((0-a)/8),0==a?clearInterval(t):document.documentElement.scrollTop=document.body.scrollTop=a+e},10)}var n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/oui/protocol"),r=function(){},c=function(t,e,a){return"success"!=a.retResult||"-1"==t?void n(".ui-nav-dropdown-account").html('<div class="loadfail color-dark-text">抱歉,系统忙,信息加载失败。</div>'):(n(".loadfail",".ui-nav-dropdown-account").addClass("fn-hide"),n(".ui-nav-dropdown-account-box").removeClass("fn-hide"),n("#he-avaliableBalance").text(a.avaliableBalance),n.trim(a.userAvatar)?(n("#he-userAvatar").attr("src",a.userAvatar),n(".he-userAvatar-class").attr("src",a.userAvatar)):(n("#he-userAvatar").attr("src","/static/img/account/default-avatar-78.png"),n(".he-userAvatar-class").attr("src","/static/img/account/default-avatar-78.png")),"true"==a.bindMobile&&"true"==a.setIdentity&&"true"==a.setCashPass&&"true"==a.bindEmail?(n(".user-info-container dd").eq(0).show(),n(".user-info-container dd").eq(1).show(),void n(".ui-nav-dropdown-bottom").eq(0).show()):("true"==a.bindMobile?n(".cellphone",".icon-box").addClass("light").attr("title","绑定手机，已绑定"):n(".cellphone",".icon-box").attr("title","绑定手机，未绑定"),"true"==a.setIdentity?n(".man",".icon-box").addClass("light").attr("title","实名认证，已设置"):n(".man",".icon-box").attr("title","实名认证，未设置"),"true"==a.setCashPass?n(".lock",".icon-box").addClass("light").attr("title","交易密码，已设置"):n(".lock",".icon-box").attr("title","交易密码，未设置"),"true"==a.bindEmail?n(".mail",".icon-box").addClass("light").attr("title","绑定邮箱，已绑定"):n(".mail",".icon-box").attr("title","绑定邮箱，未绑定"),n(".user-info-container dd").eq(2).show(),n(".user-info-container dd").eq(3).show(),void n(".ui-nav-dropdown-bottom").eq(1).show()))},l=function(){var t=n("#header-msgcount"),e=n("#header-newtask");i.getUnreadMsgCount(null,function(e,a,o){var n=o.count;n>=100?(t.attr("class","icon icon-msg mr5"),t.show()):n>0&&100>n&&(t.text(n),t.show())}),i.getUnreadNewTask(null,function(t,a,o){var i=o.count;i>0&&(e.attr("class","icon-task-new mr5"),n("#header-task").show())}),n("#header-task").click(function(){n.get("/html/blank/blank.html?tag=380015",function(){})})},s=function(){"https:"==document.location.protocol.toLowerCase()?i.getHomePageUserInfoHttps({timeout:5e3},c):i.getHomePageUserInfoHttp({timeout:5e3},c)},d=function(){n("#header .ui-nav-item-x").hover(function(){n(this).children(".ui-nav-dropdown").show()},function(){n(this).children(".ui-nav-dropdown").hide()})},u=function(t){n.get("../html/blank/blank.html?tag="+t,function(){})},h=function(t){var e,a=t.currentTarget,o=n(a).closest("li").index();switch(o){case 0:e="000007",u(e);break;case 1:e="000008",u(e);break;case 2:e="000009",u(e);break;case 3:e="000010",u(e);break;case 4:e="000011",u(e)}return!0},m=function(t){var e=t.currentTarget,a=n(e).attr("href");switch(a){case"/event/app.action":tag="000012",u(tag);break;case"/regPage.action?registerSource=web_top":tag="000013",u(tag);break;case"/loginPage.action":tag="000014",u(tag);break;case"/account/index.action":tag="000015",u(tag);break;case"/account/capital!recharge.action":tag="000016",u(tag);break;case"/account/capital!withdraw.action":tag="000017",u(tag);break;case"/help/index.action":tag="000018",u(tag);break;case"http://bbs.renrendai.com":tag="000019",u(tag)}},p=function(){n(".ui-header-main .ui-nav-item-link").on("click",h),n(".ui-header-top .ui-nav-item,.user-info-container .ui-button-mid").on("click",m)};n.extend(r.prototype,{init:function(){var t="true"==n.trim(n("#header-helper-authenticated").text());t&&(l(),s()),d(),p()}});var g=null;n(".fixed-download").hover(function(){n(this).addClass("hover"),clearTimeout(g),n(".download-app-wrap").show(),n(".download-app-wrap-opacity").show()},function(){g=setTimeout(function(){n(".download-app-wrap").hide(),n(".download-app-wrap-opacity").hide(),n(".fixed-download").removeClass("hover")},100)}),window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>=100?n(".fixed-goTop").show():n(".fixed-goTop").hide()},n(".fixed-goTop").click(function(){o(n(this)[0])}),a.exports=r});
;define("common:widget/oui/components/sidebar",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(i,e,t){var n=i("common:widget/oui/lib/jquery/1.9.1/jquery"),s=function(i){n.extend(this,{name:i.name,container:n("#sidebar")}),this._ui={dropdownTriggers:this._elem(".ui-side-item-link"),subLists:this._elem(".ui-side-sub-list")}};n.extend(s.prototype,{init:function(){var i=this._ui;return i.dropdownTriggers.click(function(){n.each(i.subLists,function(i,e){var t=n(e);t.parent().hasClass("active")||t.is(":visible")||t.hide()}),n(this).parent().hasClass("active")||n(this).next().toggle()}),this},_elem:function(i){return this.container.find(i)}}),t.exports=s});
;define("common:widget/oui/config",function(){var a="20140414",e="20150407";e=""===e?a:e,seajs.config({alias:{asyncSlider:"lib/asyncSlider/1.0.0/asyncSlider.js",city:"lib/city/1.0.0/city.js","new-city":"lib/city/1.0.1/new-city.js",counter:"lib/counter/0.0.1/jquery.counter.js",easing:"lib/easing/1.3.0/easing.js",flash:"lib/flash/1.0.1/jquery.flash.js",handlebars:"lib/handlebars/1.0.0/handlebars.js",highcharts:"lib/highcharts/3.0.5/highcharts.js",jquery:"lib/jquery/1.9.1/jquery.js",queue:"lib/plupload/1.5.7/jquery.plupload.queue",simplePagination:"lib/simplePagination/1.5.0/simplePagination.js",validate:"lib/validation/1.11.1/jquery.validate.js",mailSuggest:"lib/mailSuggest/0.0.1/mailSuggest.js",rsa:"rsa/index.js",base:"arale/base/1.1.1/base.js","class":"arale/class/1.1.0/class.js",events:"arale/events/1.1.0/events",widget:"arale/widget/1.1.1/widget.js",popup:"arale/popup/1.1.2/popup.js",tip:"arale/tip/1.1.4/tip.js",overlay:"arale/overlay/1.1.2/overlay.js",mask:"arale/overlay/1.1.2/mask.js","iframe-shim":"arale/shim/1.0.2/iframe-shim.js",position:"arale/position/1.0.1/position.js",dialog:"arale/dialog/1.3.3/dialog.js",confirmbox:"arale/dialog/1.3.3/confirmbox.js",templatable:"arale/templatable/0.9.1/templatable.js",calendar:"arale/calendar/0.9.0/calendar.js",moment:"arale/moment/2.1.0/moment.js",sticky:"arale/sticky/1.2.1/sticky.js","ui-counter":"lib/counter/0.0.1/jquery.counter-analog.css","ui-poptip":"alice/poptip/1.1.1/poptip.css"},map:[[/^(.*(widgets|components|pages|common|page|rsa|protocol).*\.js)(.*)$/i,"$1?v="+e]]})});
;define("lib/easing/1.3.0/easing",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(n){var e=n("common:widget/oui/lib/jquery/1.9.1/jquery");e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(n,t,u,a,r){return e.easing[e.easing.def](n,t,u,a,r)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(-Math.pow(2,-10*e/a)+1)+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return-(s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-r)*Math.PI/i))+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;if(i||(i=.3*a),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin(2*(e*a-r)*Math.PI/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;if(i||(i=.3*a*1.5),s<Math.abs(u)){s=u;var r=i/4}else var r=i/(2*Math.PI)*Math.asin(u/s);return 1>e?-.5*s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*a-r)*Math.PI/i)+t:s*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*a-r)*Math.PI/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){return void 0==r&&(r=1.70158),(e/=a/2)<1?u/2*e*e*(((r*=1.525)+1)*e-r)+t:u/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(n,t,u,a,r){return a-e.easing.easeOutBounce(n,r-t,0,a,r)+u},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?7.5625*u*e*e+t:2/2.75>e?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,t,u,a,r){return r/2>t?.5*e.easing.easeInBounce(n,2*t,0,a,r)+u:.5*e.easing.easeOutBounce(n,2*t-r,0,a,r)+.5*a+u}})});
;define("common:widget/oui/lib/asyncSlider/1.0.0/asyncSlider",["require","common:widget/oui/lib/jquery/1.9.1/jquery","lib/easing/1.3.0/easing"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");e("lib/easing/1.3.0/easing"),function(e){function t(t,o){if("undefined"==typeof l){if(l=e(t),l.css({position:"relative"}),"object"==typeof o?("string"==typeof o.direction&&(I="vertical"==o.direction.toLowerCase()?"vertical":"horizontal"),"undefined"!=typeof o.random&&(W=o.random),"undefined"!=typeof o.minTime&&(k=o.minTime),"undefined"!=typeof o.maxTime&&(y=o.maxTime),"string"==typeof o.easing&&(x=o.easing),"string"==typeof o.easingIn&&(_=o.easingIn),"string"==typeof o.easingOut&&(z=o.easingOut),"undefined"!=typeof o.keyboardNavigate&&(C=o.keyboardNavigate?!0:!1),"undefined"!=typeof o.prevNextNav&&(T=o.prevNextNav),"undefined"!=typeof o.centerPrevNextNav&&(N=!0,H=parseInt(o.centerPrevNextNav,10)),"undefined"!=typeof o.slidesNav&&(L=o.slidesNav),"undefined"!=typeof o.slidesNavType&&(S=o.slidesNavType),"number"==typeof o.autoswitch&&o.autoswitch>0&&(j=!0,q=o.autoswitch,d("on"))):o={},l.children("li").each(function(t){var i=e(this),n=i.find("[data-use]"),a=0===n.length?i.find("*"):n;i.hide().css({zIndex:R+10,position:"relative"}),i.height=i.outerHeight(),i.width=i.outerWidth(),i.background=!1;var s="",o=i.css("background-color"),r=i.css("background-image"),d=i.css("background-repeat"),p=i.css("background-position"),u=o+" "+("none"==r?"":r)+" "+p+" "+d;if(("none"!=r||o)&&(s=u,i.css("background","none")),s||i.attr("data-background")){i.background=s,i.attr("data-background")&&(i.background=i.attr("data-background"));var h=[];if(h=i.background.match(/url\((.*?)\)/),h&&h.length>0){var g=new Image;g.src=h[1]}}i.elements=[],a.each(function(){var t=e(this),n=parseInt(t.css("left"),10),a=parseInt(t.css("top"),10);t.def_left=0,t.def_top=0,n&&(t.def_left=n),a&&(t.def_top=a),"absolute"!=t.css("position")&&t.css({position:"relative"}),t.css({zIndex:R+10}),"BR"!=t.get(0).tagName&&i.elements.push(t)}),i.index=parseInt(t,10),w.push(i),0===t&&(i.show(),l.css({overflow:"hidden"}),c=e('<div id="asyncslider_background_mask"></div>'),f=e('<div id="asyncslider_background_mask_2"></div>'),i.before(c),i.before(f),c.css({position:"absolute",top:0,left:0,zIndex:R+1,padding:0,margin:0,width:l.outerWidth(),height:e(".ui-slide-inimask").height()}),f.css({position:"absolute",top:0,left:0,zIndex:R+2,padding:0,margin:0,width:l.outerWidth(),height:l.outerHeight()}),e(window).resize(function(){c.width(l.outerWidth()),f.width(l.outerWidth())}),i.background&&c.css("background",i.background))}),P=w.length,"undefined"!=typeof o&&"undefined"!=typeof o.firstSlide){var r=o.firstSlide-1;if(r>=0&&P>r){var p=k,v=y,b=m;k=y=0,m=function(){},O=r,s(O,0),k=p,y=v,m=b}}if(l.children().length<2)return;if(e(window).keydown(function(e){if(C)switch(e.keyCode){case 37:a();break;case 39:n()}}),T&&P>1){var D=e('<ul id="asyncslider_next_prev_nav" />');D.css({zIndex:R+100});var M=e('<li class="prev" />'),B=e('<li class="next" />'),E=e('<a href="#">Previous</a>'),F=e('<a href="#">Next</a>');if(D.append(M),D.append(B),M.append(E),B.append(F),M.click(function(e){e.preventDefault(),a()}),B.click(function(e){e.preventDefault(),n()}),"object"==typeof T)T.append(D);else if(l.append(D),N){var G=H,J=i(O);D.css({position:"absolute",left:"50%",margin:0,padding:0,listStyle:"none",marginLeft:-parseInt(J.outerWidth()/2,10),top:0}),D.find("*").css({margin:0,padding:0});var K=D.find(".next"),Q=D.find(".prev");u=K.children(),h=Q.children().css({left:-E.width()-G}),Q.add(K).css({position:"relative"}),Q.width(h.width()),K.width(u.width()),u.add(h).css({position:"absolute"}),u.css({left:J.outerWidth()+G,top:parseInt(J.outerHeight()/2-h.outerHeight()/2,10)}),h.css({top:parseInt(J.outerHeight()/2-h.outerHeight()/2,10)})}}if(L){switch(g=e('<ul id="asyncslider_slides_nav" />'),g.css({zIndex:R+100}),S){case"0":g.addClass("slider-nav-pointer");break;case"1":g.addClass("slider-nav-box");break;default:g.addClass("slider-nav-"+S)}for(var U=0;U<w.length;U++){var V=(w[U],e('<li id="asyncslider_slide_'+(parseInt(U,10)+1)+'" />')),X=e('<a href="#" rel="'+U+'">'+(parseInt(U,10)+1)+"</a>");0===U&&"undefined"==typeof o.firstSlide?V.addClass("active"):"undefined"!=typeof o.firstSlide&&U==parseInt(o.firstSlide,10)-1&&V.addClass("active"),g.append(V),V.append(X),index=parseInt(U,10);{X.click(function(t){if(t.preventDefault(),A)return!1;g.find("li").removeClass("active"),e(this).parent().addClass("active");var i=parseInt(e(this).attr("rel"),10),n=O;O=i,s(O,n)})}}"object"==typeof L?L.append(g):l.append(g)}}}function i(e){return e>=0&&P>e?w[e]:null}function n(e){if(A)return!1;var t=O;O++,O%=P,M="left",B="bottom",e&&(M="right"==e?"right":"left"),e&&(B="bottom"==e?"top":"bottom"),s(O,t)}function a(e){if(A)return!1;var t=O;O--,O=0>O?P-1:O,M="right",B="top",e&&(M="left"==e?"left":"right"),e&&(B="top"==e?"bottom":"top"),s(O,t)}function s(t,n){var a=i(n),s=i(t);if(!a||!s||t==n)return!1;if(A)return!1;A=!0;var r=parseInt((y+k)/2,10);y=k>y?k:y,k=k>y?y:k,s.background?a.background?0==v?(c.css({background:a.background}).hide(),f.hide().css({background:s.background}).stop().fadeTo(r,1)):(c.css({background:s.background}).show(),f.stop().fadeTo(r,0,function(){c.hide(),f.css({background:s.background}).fadeTo(0,1)})):c.css({background:s.background}).hide().fadeTo(r,1):(f.stop().fadeTo(r,0),c.stop().fadeTo(r,0)),N&&u&&h&&(u.stop().animate({top:parseInt(s.outerHeight()/2-u.outerHeight()/2,10)},r),h.stop().animate({top:parseInt(s.outerHeight()/2-h.outerHeight()/2,10)},r)),c.stop().animate({height:s.height},r),f.height(s.height),g&&g.find("li").removeClass("active").filter(":nth-child("+(s.index+1)+")").addClass("active");var w,C,T,H,L,S,j,q,O,P=1;if("horizontal"==I){var E=e(window),F=E.width()-s.width,G=0;l.css({overflow:"hidden"}).stop();var J=parseInt(a.width/2+F/2,10);for(t>n?(q=a.height,q<s.height&&(q=s.height-(s.height-a.height)),a.css({position:"relative",zIndex:R+3}),s.css({position:"relative",zIndex:R+4,top:-q}).show(),P=1):(q=a.height,q<s.height?q=s.height:q-=a.height-s.height,a.css({position:"relative",zIndex:R+3,top:-q}),s.css({position:"relative",zIndex:R+4}).show(),P=-1),M&&(P="right"==M?-1:1),_||(_=x),z||(z=x),T=k,H=parseInt((y-k)/a.elements.length,10),O=a.width+F,w=0;w<a.elements.length;w++)C=a.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),J=O,W||(T+=H,j=T),C.stop().animate({left:-P*J+L,top:S+0},300,_);G=0,T=k,H=parseInt((y-k)/s.elements.length,10),O=s.width+F;{s.elements.length}for(w=0;w<s.elements.length;w++,G=4===w?-50:G+200){C=s.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),J=O+o(0,C.outerWidth()),W||(T+=H,j=T);{parseInt(w,10)}C.css({left:P*J+L,top:S+0}).stop().animate({left:0+L},500+G,z)}G=0}else{l.css({overflow:"hidden"}).stop();var K=l.height();for(t>n?(a.css({position:"relative",zIndex:R+3}),s.css({position:"relative",zIndex:R+4,top:-a.height}).show(),P=1):(a.css({position:"relative",zIndex:R+3,top:-a.height}),s.css({position:"relative",zIndex:R+4}).show(),P=-1),B&&(P="top"==B?-1:1),_||(_=x),z||(z=x),a.animate({top:-P*K},r),T=k,H=parseInt((y-k)/a.elements.length,10),w=0;w<a.elements.length;w++)C=a.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),q=K,W||(T+=H,j=T),C.stop().animate({top:-P*q+S},j,_);for(T=k,H=parseInt((y-k)/s.elements.length,10),w=0;w<s.elements.length;w++)C=s.elements[w],L=C.def_left,S=C.def_top,j=o(k,y),q=K,W||(T+=H,j=T),C.css({top:P*q,left:0+L}).stop().animate({top:0+S},j,z)}return p=window.setTimeout(function(){for(a.css({position:"relative",top:0,left:0}).hide(),s.css({position:"relative",top:0,left:0}),w=0;w<a.elements.length;w++)C=a.elements[w],L=C.def_left,S=C.def_top,C.css({left:L}),C.css({top:S});for(w=0;w<s.elements.length;w++)C=s.elements[w],L=C.def_left,S=C.def_top,C.css({left:L}),C.css({top:S});M="",m(s.index+1),window.clearTimeout(p),p=null,A=!1,b++,"undefined"!=typeof D&&(window.clearTimeout(D),D=null,d("on")),v++},y),!0}function o(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function r(e,t){switch(e.toLowerCase()){case"direction":I="vertical"==t?"vertical":"horizontal";break;case"callback":"function"==typeof t&&(m=t);break;case"minTime":k=parseInt(t,10);break;case"maxTime":y=parseInt(t,10);break;case"easing":_="",z="",x=t;break;case"easingin":_=t;break;case"easingout":z=t;break;case"keyboardnavigate":C=t?!0:!1;break;case"random":W=t?!0:!1;break;case"autoswitch":"number"==typeof t&&t>0?d("update_interval",t):"string"!=typeof t||"play"!=t.toLowerCase()&&"on"!=t.toLowerCase()&&"off"!=t.toLowerCase()&&"pause"!=t.toLowerCase()?"string"==typeof t&&"pause"==t.toLowerCase()&&d("pause"):d(t.toLowerCase())}}function d(e,t){switch(e){case"off":j=!1,"undefined"!=typeof D&&(window.clearInterval(D),D=null);break;case"on":d("update_interval",q);break;case"update_interval":j=!0,q=t,"undefined"!=typeof D&&(window.clearInterval(D),D=null),D=setInterval(function(){j&&n()},q);break;case"play":j=!0,"undefined"==typeof D&&d("on");break;case"pause":j=!1}}var l,c,f,p,u,h,g,v=0,m=function(){},b=0,w=[],k=500,y=1200,I="horizontal",x="easeInOutSine",_="",z="",C=!1,T=!0,N=!0,H=5,L=!0,S="0",W=!0,j=!1,q=5e3,D=null,O=0,P=0,M="",B="",R=10,A=!1;e.fn.extend({asyncSlider:function(i,o,d){if("string"==typeof i)switch(i.toLowerCase()){case"movetoslide":var l=parseInt(o,10);if(l>0&&P>=l){var c=O;O=l-1,d&&(M="right"==d?"right":"left"),d&&(B="bottom"==d?"top":"bottom"),s(O,c)}break;case"set":r(o,d);break;case"next":n(o);break;case"prev":a(o)}t(this,i),"function"==typeof o&&(m=o),e(".ui-slide-inimask").remove()}})}(t)});
;define("common:widget/oui/lib/city/1.0.0/city",function(v,k,t){function e(v,k,t){v.addEventListener?v.addEventListener(k,t,!1):v.attachEvent?v.attachEvent("on"+k,t):v["on"+k]=t}var i={p:[{k:"请选择",v:"请选择"},{k:"北京",v:"北京"},{k:"上海",v:"上海"},{k:"广东",v:"广东"},{k:"江苏",v:"江苏"},{k:"浙江",v:"浙江"},{k:"山东",v:"山东"},{k:"天津",v:"天津"},{k:"重庆",v:"重庆"},{k:"四川",v:"四川"},{k:"河北",v:"河北"},{k:"山西",v:"山西"},{k:"内蒙古",v:"内蒙古"},{k:"辽宁",v:"辽宁"},{k:"吉林",v:"吉林"},{k:"黑龙江",v:"黑龙江"},{k:"安徽",v:"安徽"},{k:"福建",v:"福建"},{k:"江西",v:"江西"},{k:"河南",v:"河南"},{k:"湖南",v:"湖南"},{k:"广西",v:"广西"},{k:"湖北",v:"湖北"},{k:"陕西",v:"陕西"},{k:"新疆",v:"新疆"},{k:"青海",v:"青海"},{k:"宁夏",v:"宁夏"},{k:"甘肃",v:"甘肃"},{k:"西藏",v:"西藏"},{k:"云南",v:"云南"},{k:"海南",v:"海南"},{k:"贵州",v:"贵州"},{k:"香港",v:"香港"},{k:"澳门",v:"澳门"},{k:"台湾",v:"台湾"}],c:[{k:"请选择",v:"请选择"},{k:"东城",v:"北京"},{k:"西城",v:"北京"},{k:"崇文",v:"北京"},{k:"宣武",v:"北京"},{k:"朝阳",v:"北京"},{k:"丰台",v:"北京"},{k:"石景山",v:"北京"},{k:"海淀",v:"北京"},{k:"门头沟",v:"北京"},{k:"房山",v:"北京"},{k:"通州",v:"北京"},{k:"顺义",v:"北京"},{k:"昌平",v:"北京"},{k:"大兴",v:"北京"},{k:"怀柔",v:"北京"},{k:"平谷",v:"北京"},{k:"密云",v:"北京"},{k:"延庆",v:"北京"},{k:"黄浦",v:"上海"},{k:"卢湾",v:"上海"},{k:"徐汇",v:"上海"},{k:"长宁",v:"上海"},{k:"静安",v:"上海"},{k:"普陀",v:"上海"},{k:"闸北",v:"上海"},{k:"虹口",v:"上海"},{k:"杨浦",v:"上海"},{k:"闵行",v:"上海"},{k:"宝山",v:"上海"},{k:"嘉定",v:"上海"},{k:"浦东新区",v:"上海"},{k:"金山",v:"上海"},{k:"松江",v:"上海"},{k:"青浦",v:"上海"},{k:"南汇",v:"上海"},{k:"奉贤",v:"上海"},{k:"崇明",v:"上海"},{k:"广州",v:"广东"},{k:"汕尾",v:"广东"},{k:"阳江",v:"广东"},{k:"揭阳",v:"广东"},{k:"茂名",v:"广东"},{k:"江门",v:"广东"},{k:"韶关",v:"广东"},{k:"惠州",v:"广东"},{k:"梅州",v:"广东"},{k:"汕头",v:"广东"},{k:"深圳",v:"广东"},{k:"珠海",v:"广东"},{k:"佛山",v:"广东"},{k:"肇庆",v:"广东"},{k:"湛江",v:"广东"},{k:"中山",v:"广东"},{k:"河源",v:"广东"},{k:"清远",v:"广东"},{k:"云浮",v:"广东"},{k:"潮州",v:"广东"},{k:"东莞",v:"广东"},{k:"南京",v:"江苏"},{k:"无锡",v:"江苏"},{k:"镇江",v:"江苏"},{k:"苏州",v:"江苏"},{k:"南通",v:"江苏"},{k:"扬州",v:"江苏"},{k:"盐城",v:"江苏"},{k:"徐州",v:"江苏"},{k:"淮阴",v:"江苏"},{k:"连云",v:"江苏"},{k:"常州",v:"江苏"},{k:"泰州",v:"江苏"},{k:"宿迁",v:"江苏"},{k:"衢州",v:"浙江"},{k:"杭州",v:"浙江"},{k:"湖州",v:"浙江"},{k:"嘉兴",v:"浙江"},{k:"宁波",v:"浙江"},{k:"绍兴",v:"浙江"},{k:"台州",v:"浙江"},{k:"温州",v:"浙江"},{k:"丽水",v:"浙江"},{k:"金华",v:"浙江"},{k:"舟山",v:"浙江"},{k:"菏泽",v:"山东"},{k:"济南",v:"山东"},{k:"青岛",v:"山东"},{k:"淄博",v:"山东"},{k:"德州",v:"山东"},{k:"烟台",v:"山东"},{k:"潍坊",v:"山东"},{k:"济宁",v:"山东"},{k:"泰安",v:"山东"},{k:"临沂",v:"山东"},{k:"滨州",v:"山东"},{k:"东营",v:"山东"},{k:"威海",v:"山东"},{k:"枣庄",v:"山东"},{k:"日照",v:"山东"},{k:"莱芜",v:"山东"},{k:"聊城",v:"山东"},{k:"和平",v:"天津"},{k:"河东",v:"天津"},{k:"河西",v:"天津"},{k:"南开",v:"天津"},{k:"河北",v:"天津"},{k:"红桥",v:"天津"},{k:"塘沽",v:"天津"},{k:"汉沽",v:"天津"},{k:"大港",v:"天津"},{k:"东丽",v:"天津"},{k:"西青",v:"天津"},{k:"津南",v:"天津"},{k:"北辰",v:"天津"},{k:"武清",v:"天津"},{k:"宝坻",v:"天津"},{k:"宁河",v:"天津"},{k:"静海",v:"天津"},{k:"蓟县",v:"天津"},{k:"万州",v:"重庆"},{k:"涪陵",v:"重庆"},{k:"渝中",v:"重庆"},{k:"大渡口",v:"重庆"},{k:"江北",v:"重庆"},{k:"沙坪坝",v:"重庆"},{k:"九龙坡",v:"重庆"},{k:"南岸",v:"重庆"},{k:"北碚",v:"重庆"},{k:"万盛",v:"重庆"},{k:"双桥",v:"重庆"},{k:"渝北",v:"重庆"},{k:"巴南",v:"重庆"},{k:"黔江",v:"重庆"},{k:"长寿",v:"重庆"},{k:"江津",v:"重庆"},{k:"合川",v:"重庆"},{k:"永川",v:"重庆"},{k:"南川",v:"重庆"},{k:"綦江",v:"重庆"},{k:"潼南",v:"重庆"},{k:"铜梁",v:"重庆"},{k:"大足",v:"重庆"},{k:"荣昌",v:"重庆"},{k:"璧山",v:"重庆"},{k:"梁平",v:"重庆"},{k:"城口",v:"重庆"},{k:"丰都",v:"重庆"},{k:"垫江",v:"重庆"},{k:"武隆",v:"重庆"},{k:"忠县",v:"重庆"},{k:"开县",v:"重庆"},{k:"云阳",v:"重庆"},{k:"奉节",v:"重庆"},{k:"巫山",v:"重庆"},{k:"巫溪",v:"重庆"},{k:"石柱土家族",v:"重庆"},{k:"秀山土家族苗族",v:"重庆"},{k:"酉阳土家族苗族",v:"重庆"},{k:"彭水苗族土家族",v:"重庆"},{k:"成都",v:"四川"},{k:"攀枝花",v:"四川"},{k:"自贡",v:"四川"},{k:"绵阳",v:"四川"},{k:"南充",v:"四川"},{k:"达州",v:"四川"},{k:"遂宁",v:"四川"},{k:"广安",v:"四川"},{k:"巴中(巴州)",v:"四川"},{k:"泸州",v:"四川"},{k:"宜宾",v:"四川"},{k:"内江",v:"四川"},{k:"乐山",v:"四川"},{k:"凉山彝族",v:"四川"},{k:"雅安",v:"四川"},{k:"甘孜藏族",v:"四川"},{k:"阿坝藏族羌族",v:"四川"},{k:"德阳",v:"四川"},{k:"广元",v:"四川"},{k:"邯郸",v:"河北"},{k:"石家庄",v:"河北"},{k:"保定",v:"河北"},{k:"张家口",v:"河北"},{k:"承德",v:"河北"},{k:"唐山",v:"河北"},{k:"廊坊",v:"河北"},{k:"沧州",v:"河北"},{k:"衡水",v:"河北"},{k:"邢台",v:"河北"},{k:"秦皇岛",v:"河北"},{k:"朔州",v:"山西"},{k:"忻州",v:"山西"},{k:"太原",v:"山西"},{k:"大同",v:"山西"},{k:"阳泉",v:"山西"},{k:"晋中",v:"山西"},{k:"长治",v:"山西"},{k:"晋城",v:"山西"},{k:"临汾",v:"山西"},{k:"吕梁地区",v:"山西"},{k:"运城",v:"山西"},{k:"呼伦贝尔",v:"内蒙古"},{k:"呼和浩特",v:"内蒙古"},{k:"包头",v:"内蒙古"},{k:"乌海",v:"内蒙古"},{k:"乌兰察布盟",v:"内蒙古"},{k:"通辽",v:"内蒙古"},{k:"赤峰",v:"内蒙古"},{k:"鄂尔多斯",v:"内蒙古"},{k:"巴彦淖尔盟",v:"内蒙古"},{k:"锡林郭勒盟",v:"内蒙古"},{k:"兴安盟(乌兰浩特市)",v:"内蒙古"},{k:"阿拉善盟",v:"内蒙古"},{k:"沈阳",v:"辽宁"},{k:"铁岭",v:"辽宁"},{k:"大连",v:"辽宁"},{k:"鞍山",v:"辽宁"},{k:"抚顺",v:"辽宁"},{k:"本溪",v:"辽宁"},{k:"丹东",v:"辽宁"},{k:"锦州",v:"辽宁"},{k:"营口",v:"辽宁"},{k:"阜新",v:"辽宁"},{k:"辽阳",v:"辽宁"},{k:"朝阳",v:"辽宁"},{k:"盘锦",v:"辽宁"},{k:"葫芦岛",v:"辽宁"},{k:"长春",v:"吉林"},{k:"吉林",v:"吉林"},{k:"延边朝鲜族",v:"吉林"},{k:"四平",v:"吉林"},{k:"通化",v:"吉林"},{k:"白城",v:"吉林"},{k:"辽源",v:"吉林"},{k:"松原",v:"吉林"},{k:"白山",v:"吉林"},{k:"哈尔滨",v:"黑龙江"},{k:"齐齐哈尔",v:"黑龙江"},{k:"牡丹江",v:"黑龙江"},{k:"佳木斯",v:"黑龙江"},{k:"绥化",v:"黑龙江"},{k:"黑河",v:"黑龙江"},{k:"大兴安岭地区",v:"黑龙江"},{k:"伊春",v:"黑龙江"},{k:"大庆",v:"黑龙江"},{k:"七台河",v:"黑龙江"},{k:"鸡西",v:"黑龙江"},{k:"鹤岗",v:"黑龙江"},{k:"双鸭山",v:"黑龙江"},{k:"滁州",v:"安徽"},{k:"合肥",v:"安徽"},{k:"蚌埠",v:"安徽"},{k:"芜湖",v:"安徽"},{k:"淮南",v:"安徽"},{k:"马鞍山",v:"安徽"},{k:"安庆",v:"安徽"},{k:"宿州",v:"安徽"},{k:"阜阳",v:"安徽"},{k:"黄山",v:"安徽"},{k:"淮北",v:"安徽"},{k:"铜陵",v:"安徽"},{k:"宣城",v:"安徽"},{k:"六安",v:"安徽"},{k:"巢湖",v:"安徽"},{k:"池州",v:"安徽"},{k:"福州",v:"福建"},{k:"厦门",v:"福建"},{k:"宁德",v:"福建"},{k:"莆田",v:"福建"},{k:"泉州",v:"福建"},{k:"漳州",v:"福建"},{k:"龙岩",v:"福建"},{k:"三明",v:"福建"},{k:"南平",v:"福建"},{k:"鹰潭",v:"江西"},{k:"新余",v:"江西"},{k:"南昌",v:"江西"},{k:"九江",v:"江西"},{k:"上饶",v:"江西"},{k:"抚州",v:"江西"},{k:"宜春",v:"江西"},{k:"吉安",v:"江西"},{k:"赣州",v:"江西"},{k:"景德镇",v:"江西"},{k:"萍乡",v:"江西"},{k:"商丘",v:"河南"},{k:"郑州",v:"河南"},{k:"安阳",v:"河南"},{k:"新乡",v:"河南"},{k:"许昌",v:"河南"},{k:"平顶山",v:"河南"},{k:"信阳",v:"河南"},{k:"南阳",v:"河南"},{k:"开封",v:"河南"},{k:"洛阳",v:"河南"},{k:"焦作",v:"河南"},{k:"鹤壁",v:"河南"},{k:"濮阳",v:"河南"},{k:"周口",v:"河南"},{k:"漯河",v:"河南"},{k:"驻马店",v:"河南"},{k:"三门峡",v:"河南"},{k:"岳阳",v:"湖南"},{k:"长沙",v:"湖南"},{k:"湘潭",v:"湖南"},{k:"株洲",v:"湖南"},{k:"衡阳",v:"湖南"},{k:"郴州",v:"湖南"},{k:"常德",v:"湖南"},{k:"益阳",v:"湖南"},{k:"娄底",v:"湖南"},{k:"邵阳",v:"湖南"},{k:"湘西土家族苗族",v:"湖南"},{k:"张家界",v:"湖南"},{k:"怀化",v:"湖南"},{k:"永州",v:"湖南"},{k:"防城港",v:"广西"},{k:"南宁",v:"广西"},{k:"柳州地区",v:"广西"},{k:"桂林",v:"广西"},{k:"梧州",v:"广西"},{k:"贵港",v:"广西"},{k:"百色",v:"广西"},{k:"钦州",v:"广西"},{k:"河池",v:"广西"},{k:"北海",v:"广西"},{k:"玉林",v:"广西"},{k:"武汉",v:"湖北"},{k:"襄樊",v:"湖北"},{k:"鄂州",v:"湖北"},{k:"孝感",v:"湖北"},{k:"黄冈",v:"湖北"},{k:"黄石",v:"湖北"},{k:"咸宁",v:"湖北"},{k:"荆州",v:"湖北"},{k:"宜昌",v:"湖北"},{k:"恩施土家族苗族",v:"湖北"},{k:"十堰",v:"湖北"},{k:"随州",v:"湖北"},{k:"荆门",v:"湖北"},{k:"天门",v:"湖北"},{k:"西安",v:"陕西"},{k:"咸阳",v:"陕西"},{k:"延安",v:"陕西"},{k:"榆林",v:"陕西"},{k:"渭南",v:"陕西"},{k:"商洛",v:"陕西"},{k:"安康",v:"陕西"},{k:"汉中",v:"陕西"},{k:"宝鸡",v:"陕西"},{k:"铜川",v:"陕西"},{k:"塔城地区",v:"新疆"},{k:"哈密地区",v:"新疆"},{k:"和田地区",v:"新疆"},{k:"阿勒泰地区",v:"新疆"},{k:"克孜勒苏柯尔克孜",v:"新疆"},{k:"博尔塔拉蒙古",v:"新疆"},{k:"克拉玛依",v:"新疆"},{k:"乌鲁木齐",v:"新疆"},{k:"奎屯",v:"新疆"},{k:"石河子",v:"新疆"},{k:"昌吉回族",v:"新疆"},{k:"吐鲁番地区",v:"新疆"},{k:"巴音郭楞蒙古",v:"新疆"},{k:"阿克苏地区",v:"新疆"},{k:"喀什地区",v:"新疆"},{k:"伊犁哈萨克",v:"新疆"},{k:"海北藏族",v:"青海"},{k:"西宁",v:"青海"},{k:"海东地区",v:"青海"},{k:"黄南藏族",v:"青海"},{k:"海南藏族",v:"青海"},{k:"果洛藏族",v:"青海"},{k:"玉树藏族",v:"青海"},{k:"海西蒙古族藏族",v:"青海"},{k:"格尔木",v:"青海"},{k:"银川",v:"宁夏"},{k:"石嘴山",v:"宁夏"},{k:"吴忠",v:"宁夏"},{k:"固原",v:"宁夏"},{k:"临夏回族",v:"甘肃"},{k:"兰州",v:"甘肃"},{k:"定西地区",v:"甘肃"},{k:"平凉地区",v:"甘肃"},{k:"庆阳地区",v:"甘肃"},{k:"金昌",v:"甘肃"},{k:"张掖",v:"甘肃"},{k:"酒泉",v:"甘肃"},{k:"天水",v:"甘肃"},{k:"陇南地区",v:"甘肃"},{k:"甘南藏族",v:"甘肃"},{k:"白银",v:"甘肃"},{k:"拉萨",v:"西藏"},{k:"日喀则地区",v:"西藏"},{k:"山南地区",v:"西藏"},{k:"林芝地区",v:"西藏"},{k:"昌都地区",v:"西藏"},{k:"那曲地区",v:"西藏"},{k:"阿里地区",v:"西藏"},{k:"西双版纳傣族",v:"云南"},{k:"德宏傣族景颇族",v:"云南"},{k:"昭通",v:"云南"},{k:"昆明",v:"云南"},{k:"大理白族",v:"云南"},{k:"红河哈尼族彝族",v:"云南"},{k:"曲靖",v:"云南"},{k:"保山",v:"云南"},{k:"文山壮族苗族",v:"云南"},{k:"玉溪",v:"云南"},{k:"楚雄彝族",v:"云南"},{k:"思茅地区",v:"云南"},{k:"临沧地区",v:"云南"},{k:"怒江傈僳族",v:"云南"},{k:"迪庆藏族",v:"云南"},{k:"丽江地区",v:"云南"},{k:"海口",v:"海南"},{k:"三亚",v:"海南"},{k:"五指山",v:"海南"},{k:"琼海",v:"海南"},{k:"儋州",v:"海南"},{k:"文昌",v:"海南"},{k:"万宁",v:"海南"},{k:"东方",v:"海南"},{k:"定安",v:"海南"},{k:"屯昌",v:"海南"},{k:"澄迈",v:"海南"},{k:"临高",v:"海南"},{k:"白沙黎族",v:"海南"},{k:"昌江黎族",v:"海南"},{k:"乐东黎族",v:"海南"},{k:"陵水黎族",v:"海南"},{k:"保亭黎族苗族",v:"海南"},{k:"琼中黎族苗族",v:"海南"},{k:"贵阳",v:"贵州"},{k:"遵义",v:"贵州"},{k:"安顺",v:"贵州"},{k:"黔南布依族苗族",v:"贵州"},{k:"黔东南苗族侗族",v:"贵州"},{k:"铜仁地区",v:"贵州"},{k:"毕节地区",v:"贵州"},{k:"六盘水",v:"贵州"},{k:"黔西南布依族苗族",v:"贵州"},{k:"中西区",v:"香港"},{k:"湾仔区",v:"香港"},{k:"东区",v:"香港"},{k:"南区",v:"香港"},{k:"油尖旺区",v:"香港"},{k:"深水埗区",v:"香港"},{k:"九龙城区",v:"香港"},{k:"黄大仙区",v:"香港"},{k:"观塘区",v:"香港"},{k:"荃湾区",v:"香港"},{k:"葵青区",v:"香港"},{k:"沙田区",v:"香港"},{k:"西贡区",v:"香港"},{k:"大埔区",v:"香港"},{k:"北区",v:"香港"},{k:"元朗区",v:"香港"},{k:"屯门区",v:"香港"},{k:"离岛区",v:"香港"},{k:"澳门",v:"澳门"},{k:"台北",v:"台湾"},{k:"高雄",v:"台湾"},{k:"基隆",v:"台湾"},{k:"台中",v:"台湾"},{k:"台南",v:"台湾"},{k:"新竹",v:"台湾"},{k:"嘉义",v:"台湾"}],__initSel:function(v,k,t){null!=k&&(k.length=0);for(var e=0;e<v.length;e+=1){var i=v[e],n=document.createElement("option");n.value=i.k,"请选择"==i.k&&(n.value=""),i.k==t&&(n.selected=!0);var a=document.createTextNode(i.k);n.appendChild(a),null!=k&&k.appendChild(n)}},initProvince:function(v,k){var t=document.getElementById(v);this.__initSel(this.p,t,k)},initCity:function(v,k,t){var e=document.getElementById(v),i=document.getElementById(k);if(e&&i){var n=new Array;if(null!=e){for(var a=0;a<this.c.length;a+=1)this.c[a].v==e.value&&n.push(this.c[a]);this.__initSel(n,i,t)}if(""==i.value){var o=document.createTextNode("请选择"),s=document.createElement("option");s.appendChild(o),i.appendChild(s)}}},init:function(v,k,t){/:/.test(t)?(i.initProvince(v,t.split(":")[0]),i.initCity(v,k,t.split(":")[1])):(i.initProvince(v,""),i.initCity(v,k,"")),n(v)&&(n(v).onchange=function(){i.initCity(v,k,"")})}},n=function(v){return"string"==typeof v?document.getElementById(v):v},a={create:function(){return function(){this.initialize.apply(this,arguments)}}},o=function(v,k){for(var t in k)v[t]=k[t];return v},s=a.create();s.prototype={initialize:function(v,k,t,i){this.SelYear=n(v),this.SelMonth=n(k),this.SelDay=n(t),this.SetOptions(i);var a=new Date,o=parseInt(this.options.Month),s=parseInt(this.options.Day),h=parseInt(this.options.MinYear),r=parseInt(this.options.MaxYear);this.Year=parseInt(this.options.Year)||a.getFullYear(),this.Month=o>=1&&12>=o?o:a.getMonth()+1,this.Day=s>0?s:a.getDate(),this.MinYear=h&&h<this.Year?h:this.Year,this.MaxYear=r&&r>this.Year?r:this.Year,this.onChange=this.options.onChange,this.SetSelect(this.SelYear,this.MinYear,this.MaxYear-this.MinYear+1,this.Year-this.MinYear),this.SetSelect(this.SelMonth,1,12,this.Month-1),this.SetDay();var l=this;e(this.SelYear,"change",function(){l.Year=l.SelYear.value,l.SetDay(),l.onChange()}),e(this.SelMonth,"change",function(){l.Month=l.SelMonth.value,l.SetDay(),l.onChange()}),e(this.SelDay,"change",function(){l.Day=l.SelDay.value,l.onChange()})},SetOptions:function(v){this.options={Year:0,Month:0,Day:0,MinYear:0,MaxYear:0,onChange:function(){}},o(this.options,v||{})},SetDay:function(){var v=new Date(this.Year,this.Month,0).getDate();this.Day>v&&(this.Day=v),this.SetSelect(this.SelDay,1,v,this.Day-1)},SetSelect:function(v,k,t,e){v.options.length=t;for(var i=0;t>i;i++)v.options[i].text=v.options[i].value=k+i;v.selectedIndex=e}};var h=a.create();h.prototype={initialize:function(v,k){this.SelYear=n(v),this.SetOptions(k);var t=new Date,i=parseInt(this.options.MinYear),a=parseInt(this.options.MaxYear);this.Year=parseInt(this.options.Year)||t.getFullYear(),this.MinYear=i&&i<this.Year?i:this.Year,this.MaxYear=a&&a>this.Year?a:this.Year,this.onChange=this.options.onChange,this.SetSelect(this.SelYear,this.MinYear,this.MaxYear-this.MinYear+1,this.Year-this.MinYear);var o=this;e(this.SelYear,"change",function(){o.Year=o.SelYear.value,o.onChange()})},SetOptions:function(v){this.options={Year:0,MinYear:0,MaxYear:0,onChange:function(){}},o(this.options,v||{})},SetSelect:function(v,k,t,e){v.options.length=t;for(var i=0;t>i;i++)v.options[i].text=v.options[i].value=k+i;v.selectedIndex=e}},t.exports=i});
;define("common:widget/oui/lib/city/1.0.1/new-city",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(require,exports,module){var $=require("common:widget/oui/lib/jquery/1.9.1/jquery"),PC={p:[{k:"北京",v:"北京"},{k:"上海",v:"上海"},{k:"广东",v:"广东"},{k:"江苏",v:"江苏"},{k:"浙江",v:"浙江"},{k:"山东",v:"山东"},{k:"天津",v:"天津"},{k:"重庆",v:"重庆"},{k:"四川",v:"四川"},{k:"河北",v:"河北"},{k:"山西",v:"山西"},{k:"内蒙古",v:"内蒙古"},{k:"辽宁",v:"辽宁"},{k:"吉林",v:"吉林"},{k:"黑龙江",v:"黑龙江"},{k:"安徽",v:"安徽"},{k:"福建",v:"福建"},{k:"江西",v:"江西"},{k:"河南",v:"河南"},{k:"湖南",v:"湖南"},{k:"广西",v:"广西"},{k:"湖北",v:"湖北"},{k:"陕西",v:"陕西"},{k:"新疆",v:"新疆"},{k:"青海",v:"青海"},{k:"宁夏",v:"宁夏"},{k:"甘肃",v:"甘肃"},{k:"西藏",v:"西藏"},{k:"云南",v:"云南"},{k:"海南",v:"海南"},{k:"贵州",v:"贵州"},{k:"香港",v:"香港"},{k:"澳门",v:"澳门"},{k:"台湾",v:"台湾"}],c:[{k:"东城",v:"北京"},{k:"西城",v:"北京"},{k:"崇文",v:"北京"},{k:"宣武",v:"北京"},{k:"朝阳",v:"北京"},{k:"丰台",v:"北京"},{k:"石景山",v:"北京"},{k:"海淀",v:"北京"},{k:"门头沟",v:"北京"},{k:"房山",v:"北京"},{k:"通州",v:"北京"},{k:"顺义",v:"北京"},{k:"昌平",v:"北京"},{k:"大兴",v:"北京"},{k:"怀柔",v:"北京"},{k:"平谷",v:"北京"},{k:"密云",v:"北京"},{k:"延庆",v:"北京"},{k:"黄浦",v:"上海"},{k:"卢湾",v:"上海"},{k:"徐汇",v:"上海"},{k:"长宁",v:"上海"},{k:"静安",v:"上海"},{k:"普陀",v:"上海"},{k:"闸北",v:"上海"},{k:"虹口",v:"上海"},{k:"杨浦",v:"上海"},{k:"闵行",v:"上海"},{k:"宝山",v:"上海"},{k:"嘉定",v:"上海"},{k:"浦东新区",v:"上海"},{k:"金山",v:"上海"},{k:"松江",v:"上海"},{k:"青浦",v:"上海"},{k:"南汇",v:"上海"},{k:"奉贤",v:"上海"},{k:"崇明",v:"上海"},{k:"广州",v:"广东"},{k:"汕尾",v:"广东"},{k:"阳江",v:"广东"},{k:"揭阳",v:"广东"},{k:"茂名",v:"广东"},{k:"江门",v:"广东"},{k:"韶关",v:"广东"},{k:"惠州",v:"广东"},{k:"梅州",v:"广东"},{k:"汕头",v:"广东"},{k:"深圳",v:"广东"},{k:"珠海",v:"广东"},{k:"佛山",v:"广东"},{k:"肇庆",v:"广东"},{k:"湛江",v:"广东"},{k:"中山",v:"广东"},{k:"河源",v:"广东"},{k:"清远",v:"广东"},{k:"云浮",v:"广东"},{k:"潮州",v:"广东"},{k:"东莞",v:"广东"},{k:"南京",v:"江苏"},{k:"无锡",v:"江苏"},{k:"镇江",v:"江苏"},{k:"苏州",v:"江苏"},{k:"南通",v:"江苏"},{k:"扬州",v:"江苏"},{k:"盐城",v:"江苏"},{k:"徐州",v:"江苏"},{k:"淮阴",v:"江苏"},{k:"连云",v:"江苏"},{k:"常州",v:"江苏"},{k:"泰州",v:"江苏"},{k:"宿迁",v:"江苏"},{k:"淮安",v:"江苏"},{k:"连云港",v:"江苏"},{k:"衢州",v:"浙江"},{k:"杭州",v:"浙江"},{k:"湖州",v:"浙江"},{k:"嘉兴",v:"浙江"},{k:"宁波",v:"浙江"},{k:"绍兴",v:"浙江"},{k:"台州",v:"浙江"},{k:"温州",v:"浙江"},{k:"丽水",v:"浙江"},{k:"金华",v:"浙江"},{k:"舟山",v:"浙江"},{k:"菏泽",v:"山东"},{k:"济南",v:"山东"},{k:"青岛",v:"山东"},{k:"淄博",v:"山东"},{k:"德州",v:"山东"},{k:"烟台",v:"山东"},{k:"潍坊",v:"山东"},{k:"济宁",v:"山东"},{k:"泰安",v:"山东"},{k:"临沂",v:"山东"},{k:"滨州",v:"山东"},{k:"东营",v:"山东"},{k:"威海",v:"山东"},{k:"枣庄",v:"山东"},{k:"日照",v:"山东"},{k:"莱芜",v:"山东"},{k:"聊城",v:"山东"},{k:"和平",v:"天津"},{k:"河东",v:"天津"},{k:"河西",v:"天津"},{k:"南开",v:"天津"},{k:"河北",v:"天津"},{k:"红桥",v:"天津"},{k:"塘沽",v:"天津"},{k:"汉沽",v:"天津"},{k:"大港",v:"天津"},{k:"东丽",v:"天津"},{k:"西青",v:"天津"},{k:"津南",v:"天津"},{k:"北辰",v:"天津"},{k:"武清",v:"天津"},{k:"宝坻",v:"天津"},{k:"宁河",v:"天津"},{k:"静海",v:"天津"},{k:"蓟县",v:"天津"},{k:"万州",v:"重庆"},{k:"涪陵",v:"重庆"},{k:"渝中",v:"重庆"},{k:"大渡口",v:"重庆"},{k:"江北",v:"重庆"},{k:"沙坪坝",v:"重庆"},{k:"九龙坡",v:"重庆"},{k:"南岸",v:"重庆"},{k:"北碚",v:"重庆"},{k:"万盛",v:"重庆"},{k:"双桥",v:"重庆"},{k:"渝北",v:"重庆"},{k:"巴南",v:"重庆"},{k:"黔江",v:"重庆"},{k:"长寿",v:"重庆"},{k:"江津",v:"重庆"},{k:"合川",v:"重庆"},{k:"永川",v:"重庆"},{k:"南川",v:"重庆"},{k:"綦江",v:"重庆"},{k:"潼南",v:"重庆"},{k:"铜梁",v:"重庆"},{k:"大足",v:"重庆"},{k:"荣昌",v:"重庆"},{k:"璧山",v:"重庆"},{k:"梁平",v:"重庆"},{k:"城口",v:"重庆"},{k:"丰都",v:"重庆"},{k:"垫江",v:"重庆"},{k:"武隆",v:"重庆"},{k:"忠县",v:"重庆"},{k:"开县",v:"重庆"},{k:"云阳",v:"重庆"},{k:"奉节",v:"重庆"},{k:"巫山",v:"重庆"},{k:"巫溪",v:"重庆"},{k:"石柱土家族",v:"重庆"},{k:"秀山土家族苗族",v:"重庆"},{k:"酉阳土家族苗族",v:"重庆"},{k:"彭水苗族土家族",v:"重庆"},{k:"成都",v:"四川"},{k:"攀枝花",v:"四川"},{k:"自贡",v:"四川"},{k:"绵阳",v:"四川"},{k:"南充",v:"四川"},{k:"达州",v:"四川"},{k:"遂宁",v:"四川"},{k:"广安",v:"四川"},{k:"巴中",v:"四川"},{k:"泸州",v:"四川"},{k:"宜宾",v:"四川"},{k:"内江",v:"四川"},{k:"乐山",v:"四川"},{k:"凉山彝族",v:"四川"},{k:"雅安",v:"四川"},{k:"甘孜藏族",v:"四川"},{k:"阿坝藏族羌族",v:"四川"},{k:"德阳",v:"四川"},{k:"广元",v:"四川"},{k:"资阳",v:"四川"},{k:"邯郸",v:"河北"},{k:"石家庄",v:"河北"},{k:"保定",v:"河北"},{k:"张家口",v:"河北"},{k:"承德",v:"河北"},{k:"唐山",v:"河北"},{k:"廊坊",v:"河北"},{k:"沧州",v:"河北"},{k:"衡水",v:"河北"},{k:"邢台",v:"河北"},{k:"秦皇岛",v:"河北"},{k:"朔州",v:"山西"},{k:"忻州",v:"山西"},{k:"太原",v:"山西"},{k:"大同",v:"山西"},{k:"阳泉",v:"山西"},{k:"晋中",v:"山西"},{k:"长治",v:"山西"},{k:"晋城",v:"山西"},{k:"临汾",v:"山西"},{k:"吕梁地区",v:"山西"},{k:"运城",v:"山西"},{k:"呼伦贝尔",v:"内蒙古"},{k:"呼和浩特",v:"内蒙古"},{k:"包头",v:"内蒙古"},{k:"乌海",v:"内蒙古"},{k:"乌兰察布盟",v:"内蒙古"},{k:"通辽",v:"内蒙古"},{k:"赤峰",v:"内蒙古"},{k:"鄂尔多斯",v:"内蒙古"},{k:"巴彦淖尔盟",v:"内蒙古"},{k:"锡林郭勒盟",v:"内蒙古"},{k:"兴安盟",v:"内蒙古"},{k:"阿拉善盟",v:"内蒙古"},{k:"沈阳",v:"辽宁"},{k:"铁岭",v:"辽宁"},{k:"大连",v:"辽宁"},{k:"鞍山",v:"辽宁"},{k:"抚顺",v:"辽宁"},{k:"本溪",v:"辽宁"},{k:"丹东",v:"辽宁"},{k:"锦州",v:"辽宁"},{k:"营口",v:"辽宁"},{k:"阜新",v:"辽宁"},{k:"辽阳",v:"辽宁"},{k:"朝阳",v:"辽宁"},{k:"盘锦",v:"辽宁"},{k:"葫芦岛",v:"辽宁"},{k:"长春",v:"吉林"},{k:"吉林",v:"吉林"},{k:"延边朝鲜族",v:"吉林"},{k:"四平",v:"吉林"},{k:"通化",v:"吉林"},{k:"白城",v:"吉林"},{k:"辽源",v:"吉林"},{k:"松原",v:"吉林"},{k:"白山",v:"吉林"},{k:"延边",v:"吉林"},{k:"哈尔滨",v:"黑龙江"},{k:"齐齐哈尔",v:"黑龙江"},{k:"牡丹江",v:"黑龙江"},{k:"佳木斯",v:"黑龙江"},{k:"绥化",v:"黑龙江"},{k:"黑河",v:"黑龙江"},{k:"大兴安岭地区",v:"黑龙江"},{k:"伊春",v:"黑龙江"},{k:"大庆",v:"黑龙江"},{k:"七台河",v:"黑龙江"},{k:"鸡西",v:"黑龙江"},{k:"鹤岗",v:"黑龙江"},{k:"双鸭山",v:"黑龙江"},{k:"滁州",v:"安徽"},{k:"合肥",v:"安徽"},{k:"蚌埠",v:"安徽"},{k:"芜湖",v:"安徽"},{k:"淮南",v:"安徽"},{k:"马鞍山",v:"安徽"},{k:"安庆",v:"安徽"},{k:"宿州",v:"安徽"},{k:"阜阳",v:"安徽"},{k:"黄山",v:"安徽"},{k:"淮北",v:"安徽"},{k:"铜陵",v:"安徽"},{k:"宣城",v:"安徽"},{k:"六安",v:"安徽"},{k:"巢湖",v:"安徽"},{k:"池州",v:"安徽"},{k:"福州",v:"福建"},{k:"厦门",v:"福建"},{k:"宁德",v:"福建"},{k:"莆田",v:"福建"},{k:"泉州",v:"福建"},{k:"漳州",v:"福建"},{k:"龙岩",v:"福建"},{k:"三明",v:"福建"},{k:"南平",v:"福建"},{k:"鹰潭",v:"江西"},{k:"新余",v:"江西"},{k:"南昌",v:"江西"},{k:"九江",v:"江西"},{k:"上饶",v:"江西"},{k:"抚州",v:"江西"},{k:"宜春",v:"江西"},{k:"吉安",v:"江西"},{k:"赣州",v:"江西"},{k:"景德镇",v:"江西"},{k:"萍乡",v:"江西"},{k:"商丘",v:"河南"},{k:"郑州",v:"河南"},{k:"安阳",v:"河南"},{k:"新乡",v:"河南"},{k:"许昌",v:"河南"},{k:"平顶山",v:"河南"},{k:"信阳",v:"河南"},{k:"南阳",v:"河南"},{k:"开封",v:"河南"},{k:"洛阳",v:"河南"},{k:"焦作",v:"河南"},{k:"鹤壁",v:"河南"},{k:"濮阳",v:"河南"},{k:"周口",v:"河南"},{k:"漯河",v:"河南"},{k:"驻马店",v:"河南"},{k:"三门峡",v:"河南"},{k:"岳阳",v:"湖南"},{k:"长沙",v:"湖南"},{k:"湘潭",v:"湖南"},{k:"株洲",v:"湖南"},{k:"衡阳",v:"湖南"},{k:"郴州",v:"湖南"},{k:"常德",v:"湖南"},{k:"益阳",v:"湖南"},{k:"娄底",v:"湖南"},{k:"邵阳",v:"湖南"},{k:"湘西土家族苗族",v:"湖南"},{k:"张家界",v:"湖南"},{k:"怀化",v:"湖南"},{k:"永州",v:"湖南"},{k:"吉首",v:"湖南"},{k:"防城港",v:"广西"},{k:"南宁",v:"广西"},{k:"柳州地区",v:"广西"},{k:"桂林",v:"广西"},{k:"梧州",v:"广西"},{k:"贵港",v:"广西"},{k:"百色",v:"广西"},{k:"钦州",v:"广西"},{k:"河池",v:"广西"},{k:"北海",v:"广西"},{k:"玉林",v:"广西"},{k:"崇左",v:"广西"},{k:"来宾",v:"广西"},{k:"武汉",v:"湖北"},{k:"襄樊",v:"湖北"},{k:"鄂州",v:"湖北"},{k:"孝感",v:"湖北"},{k:"黄冈",v:"湖北"},{k:"黄石",v:"湖北"},{k:"咸宁",v:"湖北"},{k:"荆州",v:"湖北"},{k:"宜昌",v:"湖北"},{k:"恩施土家族苗族",v:"湖北"},{k:"十堰",v:"湖北"},{k:"随州",v:"湖北"},{k:"荆门",v:"湖北"},{k:"天门",v:"湖北"},{k:"西安",v:"陕西"},{k:"咸阳",v:"陕西"},{k:"延安",v:"陕西"},{k:"榆林",v:"陕西"},{k:"渭南",v:"陕西"},{k:"商洛",v:"陕西"},{k:"安康",v:"陕西"},{k:"汉中",v:"陕西"},{k:"宝鸡",v:"陕西"},{k:"铜川",v:"陕西"},{k:"塔城地区",v:"新疆"},{k:"哈密地区",v:"新疆"},{k:"和田地区",v:"新疆"},{k:"阿勒泰地区",v:"新疆"},{k:"克孜勒苏柯尔克孜",v:"新疆"},{k:"博尔塔拉蒙古",v:"新疆"},{k:"克拉玛依",v:"新疆"},{k:"乌鲁木齐",v:"新疆"},{k:"奎屯",v:"新疆"},{k:"石河子",v:"新疆"},{k:"昌吉回族",v:"新疆"},{k:"吐鲁番地区",v:"新疆"},{k:"巴音郭楞蒙古",v:"新疆"},{k:"阿克苏地区",v:"新疆"},{k:"喀什地区",v:"新疆"},{k:"伊犁哈萨克",v:"新疆"},{k:"海北藏族",v:"青海"},{k:"西宁",v:"青海"},{k:"海东地区",v:"青海"},{k:"黄南藏族",v:"青海"},{k:"海南藏族",v:"青海"},{k:"果洛藏族",v:"青海"},{k:"玉树藏族",v:"青海"},{k:"海西蒙古族藏族",v:"青海"},{k:"格尔木",v:"青海"},{k:"银川",v:"宁夏"},{k:"石嘴山",v:"宁夏"},{k:"吴忠",v:"宁夏"},{k:"中卫",v:"宁夏"},{k:"固原",v:"宁夏"},{k:"临夏回族",v:"甘肃"},{k:"兰州",v:"甘肃"},{k:"定西地区",v:"甘肃"},{k:"平凉地区",v:"甘肃"},{k:"庆阳地区",v:"甘肃"},{k:"金昌",v:"甘肃"},{k:"张掖",v:"甘肃"},{k:"酒泉",v:"甘肃"},{k:"天水",v:"甘肃"},{k:"陇南地区",v:"甘肃"},{k:"甘南藏族",v:"甘肃"},{k:"白银",v:"甘肃"},{k:"嘉峪关",v:"甘肃"},{k:"拉萨",v:"西藏"},{k:"日喀则地区",v:"西藏"},{k:"山南地区",v:"西藏"},{k:"林芝地区",v:"西藏"},{k:"昌都地区",v:"西藏"},{k:"那曲地区",v:"西藏"},{k:"阿里地区",v:"西藏"},{k:"樟木口岸",v:"西藏"},{k:"西双版纳傣族",v:"云南"},{k:"德宏傣族景颇族",v:"云南"},{k:"昭通",v:"云南"},{k:"昆明",v:"云南"},{k:"大理白族",v:"云南"},{k:"红河哈尼族彝族",v:"云南"},{k:"曲靖",v:"云南"},{k:"保山",v:"云南"},{k:"文山壮族苗族",v:"云南"},{k:"玉溪",v:"云南"},{k:"楚雄彝族",v:"云南"},{k:"思茅地区",v:"云南"},{k:"临沧地区",v:"云南"},{k:"怒江傈僳族",v:"云南"},{k:"迪庆藏族",v:"云南"},{k:"丽江地区",v:"云南"},{k:"海口",v:"海南"},{k:"三亚",v:"海南"},{k:"五指山",v:"海南"},{k:"琼海",v:"海南"},{k:"儋州",v:"海南"},{k:"文昌",v:"海南"},{k:"万宁",v:"海南"},{k:"东方",v:"海南"},{k:"定安",v:"海南"},{k:"屯昌",v:"海南"},{k:"澄迈",v:"海南"},{k:"临高",v:"海南"},{k:"白沙黎族",v:"海南"},{k:"昌江黎族",v:"海南"},{k:"乐东黎族",v:"海南"},{k:"陵水黎族",v:"海南"},{k:"保亭黎族苗族",v:"海南"},{k:"琼中黎族苗族",v:"海南"},{k:"贵阳",v:"贵州"},{k:"遵义",v:"贵州"},{k:"安顺",v:"贵州"},{k:"黔南布依族苗族",v:"贵州"},{k:"黔东南苗族侗族",v:"贵州"},{k:"铜仁地区",v:"贵州"},{k:"毕节地区",v:"贵州"},{k:"六盘水",v:"贵州"},{k:"黔西南布依族苗族",v:"贵州"},{k:"中西区",v:"香港"},{k:"湾仔区",v:"香港"},{k:"东区",v:"香港"},{k:"南区",v:"香港"},{k:"油尖旺区",v:"香港"},{k:"深水埗区",v:"香港"},{k:"九龙城区",v:"香港"},{k:"黄大仙区",v:"香港"},{k:"观塘区",v:"香港"},{k:"荃湾区",v:"香港"},{k:"葵青区",v:"香港"},{k:"沙田区",v:"香港"},{k:"西贡区",v:"香港"},{k:"大埔区",v:"香港"},{k:"北区",v:"香港"},{k:"元朗区",v:"香港"},{k:"屯门区",v:"香港"},{k:"离岛区",v:"香港"},{k:"澳门",v:"澳门"},{k:"台北",v:"台湾"},{k:"高雄",v:"台湾"},{k:"基隆",v:"台湾"},{k:"台中",v:"台湾"},{k:"台南",v:"台湾"},{k:"新竹",v:"台湾"},{k:"嘉义",v:"台湾"}],init:function(provinceId,cityid){var pr=eval(PC.p),ci=eval(PC.c);$(provinceId).empty(),$(cityid).empty();for(var index in pr)$(provinceId).append("<li datavalue="+pr[index].k+"><span>"+pr[index].k+"</span></li>");$(".J_popBox").delegate("li","click",function(v){var k=$(v.currentTarget);if("J_select_jiguan"==k.parent("ul").attr("id")){var i=$("#J_select_jiguan1");i.parent("div").find(".J_txt").text("请选择"),i.parent("div").find("input").attr("value",""),i.empty();for(var t in ci)ci[t].v==k.attr("datavalue")&&i.append("<li datavalue="+ci[t].k+"><span>"+ci[t].k+"</span></li>")}if("J_select_hukou"==k.parent("ul").attr("id")){var i=$("#J_select_hukou1");i.parent("div").find(".J_txt").text("请选择"),i.parent("div").find("input").attr("value",""),i.empty();for(var t in ci)ci[t].v==k.attr("datavalue")&&i.append("<li datavalue="+ci[t].k+"><span>"+ci[t].k+"</span></li>")}if("J_select_gongzuo"==k.parent("ul").attr("id")){var i=$("#J_select_gongzuo1");i.parent("div").find(".J_txt").text("请选择"),i.parent("div").find("input").attr("value",""),i.empty();for(var t in ci)ci[t].v==k.attr("datavalue")&&i.append("<li datavalue="+ci[t].k+"><span>"+ci[t].k+"</span></li>")}})},readcity:function(){var ci=eval(PC.c),pd=$("#pData").data("province").split("|"),p1=[],p2=[],p3=[];null!=pd[0]&&(p1=pd[0].split(":")),null!=pd[1]&&(p2=pd[1].split(":")),null!=pd[2]&&(p3=pd[2].split(":")),""==$.trim(p1[0])&&(p1[0]="请选择",p1[1]="请选择"),""==$.trim(p2[0])&&(p2[0]="请选择",p2[1]="请选择"),""==$.trim(p3[0])&&(p3[0]="请选择",p3[1]="请选择"),$("#homeProvince").attr("value",$.trim(p1[0])),$("#homeCity").attr("value",$.trim(p1[1])),$("#liveProvince").attr("value",$.trim(p2[0])),$("#liveCity").attr("value",$.trim(p2[1])),$("#province").attr("value",$.trim(p3[0])),$("#city").attr("value",$.trim(p3[1])),$("#homeProvince").parent("div").find(".J_txt").text($.trim(p1[0])),$("#homeCity").parent("div").find(".J_txt").text($.trim(p1[1])),$("#liveProvince").parent("div").find(".J_txt").text($.trim(p2[0])),$("#liveCity").parent("div").find(".J_txt").text($.trim(p2[1])),$("#province").parent("div").find(".J_txt").text($.trim(p3[0])),$("#city").parent("div").find(".J_txt").text($.trim(p3[1]));for(var index in ci)ci[index].v==$.trim(p1[0])&&$("#J_select_jiguan1").append("<li datavalue="+ci[index].k+"><span>"+ci[index].k+"</span></li>");for(var index in ci)ci[index].v==$.trim(p2[0])&&$("#J_select_hukou1").append("<li datavalue="+ci[index].k+"><span>"+ci[index].k+"</span></li>");for(var index in ci)ci[index].v==$.trim(p3[0])&&$("#J_select_gongzuo1").append("<li datavalue="+ci[index].k+"><span>"+ci[index].k+"</span></li>")}};module.exports=PC});
;define("common:widget/oui/lib/flash/1.0.1/jquery.flash",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(a){var e=a("common:widget/oui/lib/jquery/1.9.1/jquery");!function(){function a(){var a="";for(var e in this)"function"!=typeof this[e]&&(a+=e+'="'+this[e]+'" ');return a}function t(){var a="";for(var e in this)"function"!=typeof this[e]&&(a+=e+"="+encodeURIComponent(this[e])+"&");return a.replace(/&$/,"")}var n;n=e.fn.flash=function(a,t,r,s){var i=r||n.replace;if(t=n.copy(n.pluginOptions,t),!n.hasFlash(t.version))if(t.expressInstall&&n.hasFlash(6,0,65))var l={flashvars:{MMredirectURL:location,MMplayerType:"PlugIn",MMdoctitle:e("title").text()}};else{if(!t.update)return this;i=s||n.update}return a=n.copy(n.htmlOptions,l,a),this.each(function(){i.call(this,n.copy(a))})},n.copy=function(){for(var a={},t={},n=0;n<arguments.length;n++){var r=arguments[n];void 0!=r&&(e.extend(a,r),void 0!=r.flashvars&&e.extend(t,r.flashvars))}return a.flashvars=t,a},n.hasFlash=function(){if(/hasFlash\=true/.test(location))return!0;if(/hasFlash\=false/.test(location))return!1;for(var a=n.hasFlash.playerVersion().match(/\d+/g),e=String([arguments[0],arguments[1],arguments[2]]).match(/\d+/g)||String(n.pluginOptions.version).match(/\d+/g),t=0;3>t;t++){if(a[t]=parseInt(a[t]||0),e[t]=parseInt(e[t]||0),a[t]<e[t])return!1;if(a[t]>e[t])return!0}return!0},n.hasFlash.playerVersion=function(){try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){}}return"0,0,0"},n.htmlOptions={height:240,flashvars:{},pluginspage:"http://www.adobe.com/go/getflashplayer",src:"#",type:"application/x-shockwave-flash",width:320},n.pluginOptions={expressInstall:!1,update:!0,version:"6.0.65"},n.replace=function(a){this.innerHTML='<div class="alt">'+this.innerHTML+"</div>",e(this).addClass("flash-replaced").prepend(n.transform(a))},n.update=function(){var a=String(location).split("?");a.splice(1,0,"?hasFlash=true&"),a=a.join("");var t='<p>This content requires the Flash Player. <a href="http://www.adobe.com/go/getflashplayer">Download Flash Player</a>. Already have Flash Player? <a href="'+a+'">Click here.</a></p>';this.innerHTML='<span class="alt">'+this.innerHTML+"</span>",e(this).addClass("flash-update").prepend(t)},n.transform=function(e){return e.toString=a,e.flashvars&&(e.flashvars.toString=t),"<embed "+String(e)+"/>"},window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}})}()});
;define("common:widget/oui/lib/jcrop/0.9.12/jquery.Jcrop",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");!function(e){e.Jcrop=function(t,n){function o(e){return Math.round(e)+"px"}function r(e){return J.baseClass+"-"+e}function i(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function s(e){return[e.pageX-P[0],e.pageY-P[1]]}function c(t){"object"!=typeof t&&(t={}),J=e.extend(J,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof J[t]&&(J[t]=function(){})})}function u(e,t,n){if(P=a(Y),pt.setCursor("move"===e?e:e+"-resize"),"move"===e)return pt.activateHandlers(l(t),b,n);var o=lt.getFixed(),r=h(e),i=lt.getCorner(h(r));lt.setPressed(lt.getCorner(r)),lt.setCurrent(i),pt.activateHandlers(d(e,o),b,n)}function d(e,t){return function(n){if(J.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}lt.setCurrent(n),ft.update()}}function l(e){var t=e;return gt.watchKeys(),function(e){lt.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,ft.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(Y),ot=!0,u(e,s(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function p(e,t,n){var o=e.width(),r=e.height();o>t&&t>0&&(o=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,o=n/e.height()*e.width()),tt=e.width()/o,nt=e.height()/r,e.width(o).height(r)}function g(e){return{x:e.x*tt,y:e.y*nt,x2:e.x2*tt,y2:e.y2*nt,w:e.w*tt,h:e.h*nt}}function b(){var e=lt.getFixed();e.w>J.minSelect[0]&&e.h>J.minSelect[1]?(ft.enableHandles(),ft.done()):ft.release(),pt.setCursor(J.allowSelect?"crosshair":"default")}function w(e){if(J.disabled)return!1;if(!J.allowSelect)return!1;ot=!0,P=a(Y),ft.disableHandles(),pt.setCursor("crosshair");var t=s(e);return lt.setPressed(t),ft.update(),pt.activateHandlers(v,b,"touch"===e.type.substring(0,5)),gt.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function v(e){lt.setCurrent(e),ft.update()}function y(){var t=e("<div></div>").addClass(r("tracker"));return R&&t.css({opacity:0,backgroundColor:"white"}),t}function m(e){G.removeClass().addClass(r("holder")).addClass(e)}function x(e,t){function n(){window.setTimeout(v,l)}var o=e[0]/tt,r=e[1]/nt,i=e[2]/tt,a=e[3]/nt;if(!rt){var s=lt.flipCoords(o,r,i,a),c=lt.getFixed(),u=[c.x,c.y,c.x2,c.y2],d=u,l=J.animationDelay,h=s[0]-u[0],f=s[1]-u[1],p=s[2]-u[2],g=s[3]-u[3],b=0,w=J.swingSpeed;o=d[0],r=d[1],i=d[2],a=d[3],ft.animMode(!0);var v=function(){return function(){b+=(100-b)/w,d[0]=Math.round(o+b/100*h),d[1]=Math.round(r+b/100*f),d[2]=Math.round(i+b/100*p),d[3]=Math.round(a+b/100*g),b>=99.8&&(b=100),100>b?(S(d),n()):(ft.done(),ft.animMode(!1),"function"==typeof t&&t.call(bt))}}();n()}}function C(e){S([e[0]/tt,e[1]/nt,e[2]/tt,e[3]/nt]),J.onSelect.call(bt,g(lt.getFixed())),ft.enableHandles()}function S(e){lt.setPressed([e[0],e[1]]),lt.setCurrent([e[2],e[3]]),ft.update()}function k(){return g(lt.getFixed())}function z(){return lt.getFixed()}function M(e){c(e),B()}function O(){J.disabled=!0,ft.disableHandles(),ft.setCursor("default"),pt.setCursor("default")}function j(){J.disabled=!1,B()}function F(){ft.done(),pt.activateHandlers(null,null)}function H(){G.remove(),K.show(),K.css("visibility","visible"),e(t).removeData("Jcrop")}function D(e,t){ft.release(),O();var n=new Image;n.onload=function(){var o=n.width,r=n.height,i=J.boxWidth,a=J.boxHeight;Y.width(o).height(r),Y.attr("src",e),N.attr("src",e),p(Y,i,a),L=Y.width(),X=Y.height(),N.width(L).height(X),st.width(L+2*at).height(X+2*at),G.width(L).height(X),ht.resize(L,X),j(),"function"==typeof t&&t.call(bt)},n.src=e}function I(e,t,n){var o=t||J.bgColor;J.bgFade&&i()&&J.fadeTime&&!n?e.animate({backgroundColor:o},{queue:!1,duration:J.fadeTime}):e.css("backgroundColor",o)}function B(e){J.allowResize?e?ft.enableOnly():ft.enableHandles():ft.disableHandles(),pt.setCursor(J.allowSelect?"crosshair":"default"),ft.setCursor(J.allowMove?"move":"default"),J.hasOwnProperty("trueSize")&&(tt=J.trueSize[0]/L,nt=J.trueSize[1]/X),J.hasOwnProperty("setSelect")&&(C(J.setSelect),ft.done(),delete J.setSelect),ht.refresh(),J.bgColor!=ct&&(I(J.shade?ht.getShades():G,J.shade?J.shadeColor||J.bgColor:J.bgColor),ct=J.bgColor),ut!=J.bgOpacity&&(ut=J.bgOpacity,J.shade?ht.refresh():ft.setBgOpacity(ut)),Z=J.maxSize[0]||0,$=J.maxSize[1]||0,_=J.minSize[0]||0,et=J.minSize[1]||0,J.hasOwnProperty("outerImage")&&(Y.attr("src",J.outerImage),delete J.outerImage),ft.refresh()}var P,J=e.extend({},e.Jcrop.defaults),A=navigator.userAgent.toLowerCase(),R=/msie/.test(A),T=/msie [1-6]\./.test(A);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),c(n);var q={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},K=e(t),E=!0;if("IMG"==t.tagName){if(0!=K[0].width&&0!=K[0].height)K.width(K[0].width),K.height(K[0].height);else{var W=new Image;W.src=K[0].src,K.width(W.width),K.height(W.height)}var Y=K.clone().removeAttr("id").css(q).show();Y.width(K.width()),Y.height(K.height()),K.after(Y).hide()}else Y=K.css(q).show(),E=!1,null===J.shade&&(J.shade=!0);p(Y,J.boxWidth,J.boxHeight);var L=Y.width(),X=Y.height(),G=e("<div />").width(L).height(X).addClass(r("holder")).css({position:"relative",backgroundColor:J.bgColor}).insertAfter(K).append(Y);J.addClass&&G.addClass(J.addClass);var N=e("<div />"),V=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Q=e("<div />").width("100%").height("100%").css("zIndex",320),U=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=lt.getFixed();J.onDblClick.call(bt,e)}).insertBefore(Y).append(V,Q);E&&(N=e("<img />").attr("src",Y.attr("src")).css(q).width(L).height(X),V.append(N)),T&&U.css({overflowY:"hidden"});var Z,$,_,et,tt,nt,ot,rt,it,at=J.boundary,st=y().width(L+2*at).height(X+2*at).css({position:"absolute",top:o(-at),left:o(-at),zIndex:290}).mousedown(w),ct=J.bgColor,ut=J.bgOpacity;P=a(Y);var dt=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],o=document.createElement("div");try{for(e=0;e<n.length;e++){var r=n[e];r="on"+r;var i=r in o;i||(o.setAttribute(r,"return;"),i="function"==typeof o[r]),t[n[e]]=i}return t.touchstart&&t.touchend&&t.touchmove}catch(a){return!1}}function t(){return J.touchSupport===!0||J.touchSupport===!1?J.touchSupport:e()}return{createDragger:function(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(Y),ot=!0,u(e,s(dt.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return w(dt.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),lt=function(){function e(e){e=a(e),p=h=e[0],g=f=e[1]}function t(e){e=a(e),d=e[0]-p,l=e[1]-g,p=e[0],g=e[1]}function n(){return[d,l]}function o(e){var t=e[0],n=e[1];0>h+t&&(t-=t+h),0>f+n&&(n-=n+f),g+n>X&&(n+=X-(g+n)),p+t>L&&(t+=L-(p+t)),h+=t,p+=t,f+=n,g+=n}function r(e){var t=i();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function i(){if(!J.aspectRatio)return c();var e,t,n,o,r=J.aspectRatio,i=J.minSize[0]/tt,a=J.maxSize[0]/tt,d=J.maxSize[1]/nt,l=p-h,b=g-f,w=Math.abs(l),v=Math.abs(b),y=w/v;return 0===a&&(a=10*L),0===d&&(d=10*X),r>y?(t=g,n=v*r,e=0>l?h-n:n+h,0>e?(e=0,o=Math.abs((e-h)/r),t=0>b?f-o:o+f):e>L&&(e=L,o=Math.abs((e-h)/r),t=0>b?f-o:o+f)):(e=p,o=w/r,t=0>b?f-o:f+o,0>t?(t=0,n=Math.abs((t-f)*r),e=0>l?h-n:n+h):t>X&&(t=X,n=Math.abs(t-f)*r,e=0>l?h-n:n+h)),e>h?(i>e-h?e=h+i:e-h>a&&(e=h+a),t=t>f?f+(e-h)/r:f-(e-h)/r):h>e&&(i>h-e?e=h-i:h-e>a&&(e=h-a),t=t>f?f+(h-e)/r:f-(h-e)/r),0>e?(h-=e,e=0):e>L&&(h-=e-L,e=L),0>t?(f-=t,t=0):t>X&&(f-=t-X,t=X),u(s(h,f,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>L&&(e[0]=L),e[1]>X&&(e[1]=X),[Math.round(e[0]),Math.round(e[1])]}function s(e,t,n,o){var r=e,i=n,a=t,s=o;return e>n&&(r=n,i=e),t>o&&(a=o,s=t),[r,a,i,s]}function c(){var e,t=p-h,n=g-f;return Z&&Math.abs(t)>Z&&(p=t>0?h+Z:h-Z),$&&Math.abs(n)>$&&(g=n>0?f+$:f-$),et/nt&&Math.abs(n)<et/nt&&(g=n>0?f+et/nt:f-et/nt),_/tt&&Math.abs(t)<_/tt&&(p=t>0?h+_/tt:h-_/tt),0>h&&(p-=h,h-=h),0>f&&(g-=f,f-=f),0>p&&(h-=p,p-=p),0>g&&(f-=g,g-=g),p>L&&(e=p-L,h-=e,p-=e),g>X&&(e=g-X,f-=e,g-=e),h>L&&(e=h-X,g-=e,f-=e),f>X&&(e=f-X,g-=e,f-=e),u(s(h,f,p,g))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,l,h=0,f=0,p=0,g=0;return{flipCoords:s,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:r,getFixed:i}}(),ht=function(){function t(e,t){p.left.css({height:o(t)}),p.right.css({height:o(t)})}function n(){return r(lt.getFixed())}function r(e){p.top.css({left:o(e.x),width:o(e.w),height:o(e.y)}),p.bottom.css({top:o(e.y2),left:o(e.x),width:o(e.w),height:o(X-e.y2)}),p.right.css({left:o(e.x2),width:o(L-e.x2)}),p.left.css({width:o(e.x)})}function i(){return e("<div />").css({position:"absolute",backgroundColor:J.shadeColor||J.bgColor}).appendTo(f)}function a(){h||(h=!0,f.insertBefore(Y),n(),ft.setBgOpacity(1,0,1),N.hide(),s(J.shadeColor||J.bgColor,1),ft.isAwake()?u(J.bgOpacity,1):u(1,1))}function s(e,t){I(l(),e,t)}function c(){h&&(f.remove(),N.show(),h=!1,ft.isAwake()?ft.setBgOpacity(J.bgOpacity,1,1):(ft.setBgOpacity(1,1,1),ft.disableHandles()),I(G,0,1))}function u(e,t){h&&(J.bgFade&&!t?f.animate({opacity:1-e},{queue:!1,duration:J.fadeTime}):f.css({opacity:1-e}))}function d(){J.shade?a():c(),ft.isAwake()&&u(J.bgOpacity)}function l(){return f.children()}var h=!1,f=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:i(),left:i().height(X),right:i().height(X),bottom:i()};return{update:n,updateRaw:r,getShades:l,setBgColor:s,enable:a,disable:c,resize:t,refresh:d,opacity:u}}(),ft=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:J.borderOpacity}).addClass(r(t));return V.append(n),n}function n(t,n){var o=e("<div />").mousedown(f(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return dt.support&&o.bind("touchstart.jcrop",dt.createDragger(t)),Q.append(o),o}function i(e){var t=J.handleSize,o=n(e,O++).css({opacity:J.handleOpacity}).addClass(r("handle"));return t&&o.width(t).height(t),o}function a(e){return n(e,O++).addClass("jcrop-dragbar")}function s(e){var t;for(t=0;t<e.length;t++)H[e[t]]=a(e[t])}function c(e){var n,o;for(o=0;o<e.length;o++){switch(e[o]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}j[e[o]]=t(n)}}function u(e){var t;for(t=0;t<e.length;t++)F[e[t]]=i(e[t])}function d(e,t){J.shade||N.css({top:o(-t),left:o(-e)}),U.css({top:o(t),left:o(e)})}function l(e,t){U.width(Math.round(e)).height(Math.round(t))}function h(){var e=lt.getFixed();lt.setPressed([e.x,e.y]),lt.setCurrent([e.x2,e.y2]),p()}function p(e){return M?b(e):void 0}function b(e){var t=lt.getFixed();l(t.w,t.h),d(t.x,t.y),J.shade&&ht.updateRaw(t),M||v(),e?J.onSelect.call(bt,g(t)):J.onChange.call(bt,g(t))}function w(e,t,n){(M||t)&&(J.bgFade&&!n?Y.animate({opacity:e},{queue:!1,duration:J.fadeTime}):Y.css("opacity",e))}function v(){U.show(),J.shade?ht.opacity(ut):w(ut,!0),M=!0}function m(){S(),U.hide(),J.shade?ht.opacity(1):w(1),M=!1,J.onRelease.call(bt)}function x(){D&&Q.show()}function C(){return D=!0,J.allowResize?(Q.show(),!0):void 0}function S(){D=!1,Q.hide()}function k(e){e?(rt=!0,S()):(rt=!1,C())}function z(){k(!1),h()}var M,O=370,j={},F={},H={},D=!1;J.dragEdges&&e.isArray(J.createDragbars)&&s(J.createDragbars),e.isArray(J.createHandles)&&u(J.createHandles),J.drawBorders&&e.isArray(J.createBorders)&&c(J.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var I=y().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return dt.support&&I.bind("touchstart.jcrop",dt.createDragger("move")),V.append(I),S(),{updateVisible:p,update:b,release:m,refresh:h,isAwake:function(){return M},setCursor:function(e){I.css("cursor",e)},enableHandles:C,enableOnly:function(){D=!0},showHandles:x,disableHandles:S,animMode:k,setBgOpacity:w,done:z}}(),pt=function(){function t(t){st.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",c):h&&e(document).bind("mousemove.jcrop",o).bind("mouseup.jcrop",r)}function n(){st.css({zIndex:290}),e(document).unbind(".jcrop")}function o(e){return d(s(e)),!1}function r(e){return e.preventDefault(),e.stopPropagation(),ot&&(ot=!1,l(s(e)),ft.isAwake()&&J.onSelect.call(bt,g(lt.getFixed())),n(),d=function(){},l=function(){}),!1}function i(e,n,o){return ot=!0,d=e,l=n,t(o),!1}function a(e){return d(s(dt.cfilter(e))),!1}function c(e){return r(dt.cfilter(e))}function u(e){st.css("cursor",e)}var d=function(){},l=function(){},h=J.trackDocument;return h||st.mousemove(o).mouseup(r).mouseout(r),Y.before(st),{activateHandlers:i,setCursor:u}}(),gt=function(){function t(){J.keySupport&&(i.show(),i.focus())}function n(){i.hide()}function o(e,t,n){J.allowMove&&(lt.moveOffset([t,n]),ft.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey||e.metaKey)return!0;it=e.shiftKey?!0:!1;var t=it?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:J.allowSelect&&ft.release();break;case 9:return!0}return!1}var i=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(i);return J.keySupport&&(i.keydown(r).blur(n),T||!J.fixedSupport?(i.css({position:"absolute",left:"-20px"}),a.append(i).insertBefore(Y)):i.insertBefore(Y)),{watchKeys:t}}();dt.support&&st.bind("touchstart.jcrop",dt.newSelection),Q.hide(),B(!0);var bt={setImage:D,animateTo:x,setSelect:C,setOptions:M,tellSelect:k,tellScaled:z,setClass:m,disable:O,enable:j,cancel:F,release:ft.release,destroy:H,focus:gt.watchKeys,getBounds:function(){return[L*tt,X*nt]},getWidgetSize:function(){return[L,X]},getScaleFactor:function(){return[tt,nt]},getOptions:function(){return J},ui:{holder:G,selection:U}};return R&&G.bind("selectstart",function(){return!1}),K.data("Jcrop",bt),bt},e.fn.Jcrop=function(t,n){var o;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o)}):(e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o))}),this},e.Jcrop.Loader=function(t,n,o){function r(){a.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(r,50)}var i=e(t),a=i[0];i.bind("load.jcloader",r).bind("error.jcloader",function(){i.unbind(".jcloader"),e.isFunction(o)&&o.call(a)}),a.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(t)});
;define("common:widget/oui/lib/jcrop/0.9.8/jquery.Jcrop",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");!function(e){e.Jcrop=function(t,n){function o(e){return""+parseInt(e)+"px"}function r(e){return""+parseInt(e)+"%"}function s(e){return K.baseClass+"-"+e}function a(t){var n=e(t).offset();return[n.left,n.top]}function c(e){return[e.pageX-it[0],e.pageY-it[1]]}function u(e){e!=Z&&(ut.setCursor(e),Z=e)}function d(e,t){if(it=a(W),ut.setCursor("move"==e?e:e+"-resize"),"move"==e)return ut.activateHandlers(f(t),m);var n=at.getFixed(),o=p(e),r=at.getCorner(p(o));at.setPressed(at.getCorner(o)),at.setCurrent(r),ut.activateHandlers(l(e,n),m)}function l(e,t){return function(n){if(K.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}at.setCurrent(n),ct.update()}}function f(e){var t=e;return dt.watchKeys(),function(e){at.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,ct.update()}}function p(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function v(e){return function(t){return K.disabled?!1:"move"!=e||K.allowMove?(U=!0,d(e,c(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function b(e,t,n){var o=e.width(),r=e.height();o>t&&t>0&&(o=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,o=n/e.height()*e.width()),N=e.width()/o,Q=e.height()/r,e.width(o).height(r)}function g(e){return{x:parseInt(e.x*N),y:parseInt(e.y*Q),x2:parseInt(e.x2*N),y2:parseInt(e.y2*Q),w:parseInt(e.w*N),h:parseInt(e.h*Q)}}function m(){var e=at.getFixed();e.w>K.minSelect[0]&&e.h>K.minSelect[1]?(ct.enableHandles(),ct.done()):ct.release(),ut.setCursor(K.allowSelect?"crosshair":"default")}function y(e){if(K.disabled)return!1;if(!K.allowSelect)return!1;U=!0,it=a(W),ct.disableHandles(),u("crosshair");var t=c(e);return at.setPressed(t),ut.activateHandlers(x,m),dt.watchKeys(),ct.update(),e.stopPropagation(),e.preventDefault(),!1}function x(e){at.setCurrent(e),ct.update()}function C(){var t=e("<div></div>").addClass(s("tracker"));return q&&t.css({opacity:0,backgroundColor:"white"}),t}function S(e){function t(){window.setTimeout(g,u)}var n=e[0]/N,o=e[1]/Q,r=e[2]/N,s=e[3]/Q;if(!$){var i=at.flipCoords(n,o,r,s),a=at.getFixed(),c=initcr=[a.x,a.y,a.x2,a.y2],u=K.animationDelay,d=c[0],l=c[1],r=c[2],s=c[3],f=i[0]-initcr[0],h=i[1]-initcr[1],p=i[2]-initcr[2],w=i[3]-initcr[3],v=0,b=K.swingSpeed;ct.animMode(!0);var g=function(){return function(){v+=(100-v)/b,c[0]=d+v/100*f,c[1]=l+v/100*h,c[2]=r+v/100*p,c[3]=s+v/100*w,100>v?t():ct.done(),v>=99.8&&(v=100),z(c)}}();t()}}function k(e){z([e[0]/N,e[1]/Q,e[2]/N,e[3]/Q])}function z(e){at.setPressed([e[0],e[1]]),at.setCurrent([e[2],e[3]]),ct.update()}function M(t){"object"!=typeof t&&(t={}),K=e.extend(K,t),"function"!=typeof K.onChange&&(K.onChange=function(){}),"function"!=typeof K.onSelect&&(K.onSelect=function(){})}function I(){return g(at.getFixed())}function H(){return at.getFixed()}function O(e){M(e),J()}function j(){K.disabled=!0,ct.disableHandles(),ct.setCursor("default"),ut.setCursor("default")}function D(){K.disabled=!1,J()}function F(){ct.done(),ut.activateHandlers(null,null)}function P(){V.remove(),A.show()}function J(e){K.allowResize?e?ct.enableOnly():ct.enableHandles():ct.disableHandles(),ut.setCursor(K.allowSelect?"crosshair":"default"),ct.setCursor(K.allowMove?"move":"default"),V.css("backgroundColor",K.bgColor),"setSelect"in K&&(k(n.setSelect),ct.done(),delete K.setSelect),"trueSize"in K&&(N=K.trueSize[0]/E,Q=K.trueSize[1]/T),L=K.maxSize[0]||0,X=K.maxSize[1]||0,Y=K.minSize[0]||0,G=K.minSize[1]||0,"outerImage"in K&&(W.attr("src",K.outerImage),delete K.outerImage),ct.refresh()}var t=t,n=n,R=navigator.userAgent.toLowerCase(),q=/msie/.test(R);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),"trackDocument"in n||(n.trackDocument=q?!1:!0,q&&document.documentMode&&(n.trackDocument=!0)),"keySupport"in n||(n.keySupport=q?!1:!0);var B={trackDocument:!1,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,borderOpacity:.4,handleOpacity:.5,handlePad:5,handleSize:9,handleOffset:5,edgeMargin:14,aspectRatio:0,keySupport:!0,cornerHandles:!0,sideHandles:!0,drawBorders:!0,dragEdges:!0,boxWidth:0,boxHeight:0,boundary:8,animationDelay:20,swingSpeed:3,allowSelect:!0,allowMove:!0,allowResize:!0,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){}},K=B;M(n);var A=e(t),W=A.clone().removeAttr("id").css({position:"absolute"});W.width(A.width()),W.height(A.height()),A.after(W).hide(),b(W,K.boxWidth,K.boxHeight);var E=W.width(),T=W.height(),V=e("<div />").width(E).height(T).addClass(s("holder")).css({position:"relative",backgroundColor:K.bgColor}).insertAfter(A).append(W);K.addClass&&V.addClass(K.addClass);var L,X,Y,G,N,Q,U,Z,$,_,et=e("<img />").attr("src",W.attr("src")).css("position","absolute").width(E).height(T),tt=e("<div />").width(r(100)).height(r(100)).css({zIndex:310,position:"absolute",overflow:"hidden"}).append(et),nt=e("<div />").width(r(100)).height(r(100)).css("zIndex",320),ot=e("<div />").css({position:"absolute",zIndex:300}).insertBefore(W).append(tt,nt),rt=K.boundary,st=C().width(E+2*rt).height(T+2*rt).css({position:"absolute",top:o(-rt),left:o(-rt),zIndex:290}).mousedown(y),it=a(W),at=function(){function e(e){var e=i(e);v=f=e[0],b=p=e[1]}function t(e){var e=i(e);d=e[0]-v,l=e[1]-b,v=e[0],b=e[1]}function n(){return[d,l]}function o(e){var t=e[0],n=e[1];0>f+t&&(t-=t+f),0>p+n&&(n-=n+p),b+n>T&&(n+=T-(b+n)),v+t>E&&(t+=E-(v+t)),f+=t,v+=t,p+=n,b+=n}function r(e){var t=s();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function s(){if(!K.aspectRatio)return c();var e,t,n=K.aspectRatio,o=K.minSize[0]/N,r=(K.minSize[1]/Q,K.maxSize[0]/N),s=K.maxSize[1]/Q,i=v-f,d=b-p,l=Math.abs(i),g=Math.abs(d),m=l/g;return 0==r&&(r=10*E),0==s&&(s=10*T),n>m?(t=b,w=g*n,e=0>i?f-w:w+f,0>e?(e=0,h=Math.abs((e-f)/n),t=0>d?p-h:h+p):e>E&&(e=E,h=Math.abs((e-f)/n),t=0>d?p-h:h+p)):(e=v,h=l/n,t=0>d?p-h:p+h,0>t?(t=0,w=Math.abs((t-p)*n),e=0>i?f-w:w+f):t>T&&(t=T,w=Math.abs(t-p)*n,e=0>i?f-w:w+f)),e>f?(o>e-f?e=f+o:e-f>r&&(e=f+r),t=t>p?p+(e-f)/n:p-(e-f)/n):f>e&&(o>f-e?e=f-o:f-e>r&&(e=f-r),t=t>p?p+(f-e)/n:p-(f-e)/n),0>e?(f-=e,e=0):e>E&&(f-=e-E,e=E),0>t?(p-=t,t=0):t>T&&(p-=t-T,t=T),last=u(a(f,p,e,t))}function i(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>E&&(e[0]=E),e[1]>T&&(e[1]=T),[e[0],e[1]]}function a(e,t,n,o){var r=e,s=n,i=t,a=o;return e>n&&(r=n,s=e),t>o&&(i=o,a=t),[Math.round(r),Math.round(i),Math.round(s),Math.round(a)]}function c(){var e=v-f,t=b-p;if(L&&Math.abs(e)>L&&(v=e>0?f+L:f-L),X&&Math.abs(t)>X&&(b=t>0?p+X:p-X),G&&Math.abs(t)<G&&(b=t>0?p+G:p-G),Y&&Math.abs(e)<Y&&(v=e>0?f+Y:f-Y),0>f&&(v-=f,f-=f),0>p&&(b-=p,p-=p),0>v&&(f-=v,v-=v),0>b&&(p-=b,b-=b),v>E){var n=v-E;f-=n,v-=n}if(b>T){var n=b-T;p-=n,b-=n}if(f>E){var n=f-T;b-=n,p-=n}if(p>T){var n=p-T;b-=n,p-=n}return u(a(f,p,v,b))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,l,f=0,p=0,v=0,b=0;return{flipCoords:a,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:r,getFixed:s}}(),ct=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:K.borderOpacity}).addClass(s(t));return tt.append(n),n}function n(t,n){var o=e("<div />").mousedown(v(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n});return nt.append(o),o}function a(e){return n(e,I++).css({top:o(-D+1),left:o(-D+1),opacity:K.handleOpacity}).addClass(s("handle"))}function c(e){var t=K.handleSize,s=D,i=t,a=t,c=s,u=s;switch(e){case"n":case"s":a=r(100);break;case"e":case"w":i=r(100)}return n(e,I++).width(a).height(i).css({top:o(-c+1),left:o(-u+1)})}function u(e){for(i in e)O[e[i]]=a(e[i])}function d(e){var t=Math.round(e.h/2-D),n=Math.round(e.w/2-D),r=(west=-D+1,e.w-D),s=e.h-D;"e"in O&&O.e.css({top:o(t),left:o(r)})&&O.w.css({top:o(t)})&&O.s.css({top:o(s),left:o(n)})&&O.n.css({left:o(n)}),"ne"in O&&O.ne.css({left:o(r)})&&O.se.css({top:o(s),left:o(r)})&&O.sw.css({top:o(s)}),"b"in O&&O.b.css({top:o(s)})&&O.r.css({left:o(r)})}function l(e,t){et.css({top:o(-t),left:o(-e)}),ot.css({top:o(t),left:o(e)})}function f(e,t){ot.width(e).height(t)}function h(){var e=at.getFixed();at.setPressed([e.x,e.y]),at.setCurrent([e.x2,e.y2]),p()}function p(){return M?w():void 0}function w(){var e=at.getFixed();f(e.w,e.h),l(e.x,e.y),K.drawBorders&&H.right.css({left:o(e.w-1)})&&H.bottom.css({top:o(e.h-1)}),j&&d(e),M||b(),K.onChange(g(e))}function b(){ot.show(),W.css("opacity",K.bgOpacity),M=!0}function m(){S(),ot.hide(),W.css("opacity",1),M=!1}function y(){j&&(d(at.getFixed()),nt.show())}function x(){return j=!0,K.allowResize?(d(at.getFixed()),nt.show(),!0):void 0}function S(){j=!1,nt.hide()}function k(e){($=e)?S():x()}function z(){k(!1),h()}var M,I=370,H={},O={},j=!1,D=K.handleOffset;K.drawBorders&&(H={top:t("hline").css("top",o(q?-1:0)),bottom:t("hline"),left:t("vline"),right:t("vline")}),K.dragEdges&&(O.t=c("n"),O.b=c("s"),O.r=c("e"),O.l=c("w")),K.sideHandles&&u(["n","s","e","w"]),K.cornerHandles&&u(["sw","nw","ne","se"]);var F=C().mousedown(v("move")).css({cursor:"move",position:"absolute",zIndex:360});return tt.append(F),S(),{updateVisible:p,update:w,release:m,refresh:h,setCursor:function(e){F.css("cursor",e)},enableHandles:x,enableOnly:function(){j=!0},showHandles:y,disableHandles:S,animMode:k,done:z}}(),ut=function(){function t(){st.css({zIndex:450}),d&&e(document).mousemove(o).mouseup(r)}function n(){st.css({zIndex:290}),d&&e(document).unbind("mousemove",o).unbind("mouseup",r)}function o(e){a(c(e))}function r(e){return e.preventDefault(),e.stopPropagation(),U&&(U=!1,u(c(e)),K.onSelect(g(at.getFixed())),n(),a=function(){},u=function(){}),!1}function s(e,n){return U=!0,a=e,u=n,t(),!1}function i(e){st.css("cursor",e)}var a=function(){},u=function(){},d=K.trackDocument;return d||st.mousemove(o).mouseup(r).mouseout(r),W.before(st),{activateHandlers:s,setCursor:i}}(),dt=function(){function t(){K.keySupport&&(s.show(),s.focus())}function n(){s.hide()}function o(e,t,n){K.allowMove&&(at.moveOffset([t,n]),ct.updateVisible()),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey)return!0;_=e.shiftKey?!0:!1;var t=_?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:ct.release();break;case 9:return!0}return nothing(e)}var s=e('<input type="radio" />').css({position:"absolute",left:"-30px"}).keypress(r).blur(n),i=e("<div />").css({position:"absolute",overflow:"hidden"}).append(s);return K.keySupport&&i.insertBefore(W),{watchKeys:t}}();nt.hide(),J(!0);var lt={animateTo:S,setSelect:k,setOptions:O,tellSelect:I,tellScaled:H,disable:j,enable:D,cancel:F,focus:dt.watchKeys,getBounds:function(){return[E*N,T*Q]},getWidgetSize:function(){return[E,T]},release:ct.release,destroy:P};return A.data("Jcrop",lt),lt},e.fn.Jcrop=function(t){function n(n){var o=t.useImg||n.src,r=new Image;r.onload=function(){e.Jcrop(n,t)},r.src=o}return"object"!=typeof t&&(t={}),this.each(function(){if(e(this).data("Jcrop")){if("api"==t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else n(this)}),this}}(t)});
;define("common:widget/oui/lib/mailSuggest/0.0.1/mailSuggest",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(t,e,i){var o=t("common:widget/oui/lib/jquery/1.9.1/jquery"),n=function(t){this.opt=o.extend({domains:["qq.com","163.com","126.com","gmail.com","189.cn","sina.com","hotmail.com","sina.cn"]},t)};n.prototype={run:function(t){var e={},i=[],n=[],s=this.opt.domains;if(/@/.test(t)){var m=t.match(/(.*)@(.*)/);o.each(s,function(t,e){var i=new RegExp("^"+m[2]);i.test(e)&&n.push(e)}),e.parts=m[1],e.address=m[2]}else e.parts=t,n=s;return o.each(n,function(t,o){i.push({email:e.parts+"@"+o})}),e.inputs=t,e.lists=i,e}},i.exports=n});
;define("common:widget/oui/lib/plupload/1.5.7/plupload.full",function(){!function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}var n,i,r=0,a=[],s={},o={},l={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},d=/[<>&\"\']/g,u=window.setTimeout,c={};!function(e){var t,n,i,r=e.split(/,/);for(t=0;t<r.length;t+=2)for(i=r[t+1].split(/ /),n=0;n<i.length;n++)o[i[n]]=r[t]}("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var g={VERSION:"1.5.7",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:o,ua:function(){var e,t,n,i=navigator,r=i.userAgent,a=i.vendor;return e=/WebKit/.test(r),n=e&&-1!==a.indexOf("Apple"),t=window.opera&&window.opera.buildNumber,{windows:-1!==navigator.platform.indexOf("Win"),android:/Android/.test(r),ie:!e&&!t&&/MSIE/gi.test(r)&&/Explorer/gi.test(i.appName),webkit:e,gecko:!e&&/Gecko/.test(r),safari:n,opera:!!t}}(),typeOf:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(e){return g.each(arguments,function(t,n){n>0&&g.each(t,function(t,n){e[n]=t})}),e},cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},addRuntime:function(e,t){return t.name=e,a[e]=t,a.push(t),t},guid:function(){var e,t=(new Date).getTime().toString(32);for(e=0;5>e;e++)t+=Math.floor(65535*Math.random()).toString(32);return(g.guidPrefix||"p")+t+(r++).toString(32)},buildUrl:function(e,t){var n="";return g.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},each:function(e,t){var i,r,a;if(e)if(i=e.length,i===n){for(r in e)if(e.hasOwnProperty(r)&&t(e[r],r)===!1)return}else for(a=0;i>a;a++)if(t(e[a],a)===!1)return},formatSize:function(e){return e===n||/\D/.test(e)?g.translate("N/A"):e>1073741824?Math.round(e/1073741824,1)+" GB":e>1048576?Math.round(e/1048576,1)+" MB":e>1024?Math.round(e/1024,1)+" KB":e+" b"},getPos:function(e,t){function n(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===l.compatMode?l.documentElement:l.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var i,r,a,s=0,o=0,l=document;if(e=e,t=t||l.body,e&&e.getBoundingClientRect&&g.ua.ie&&(!l.documentMode||l.documentMode<8))return r=n(e),a=n(t),{x:r.x-a.x,y:r.y-a.y};for(i=e;i&&i!=t&&i.nodeType;)s+=i.offsetLeft||0,o+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)s-=i.scrollLeft||0,o-=i.scrollTop||0,i=i.parentNode;return{x:s,y:o}},getSize:function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}},parseSize:function(e){var t;return"string"==typeof e&&(e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],"g"==t&&(e*=1073741824),"m"==t&&(e*=1048576),"k"==t&&(e*=1024)),e},xmlEncode:function(e){return e?(""+e).replace(d,function(e){return l[e]?"&"+l[e]+";":e}):e},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},inArray:function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1},addI18n:function(e){return g.extend(s,e)},translate:function(e){return s[e]||e},isEmptyObj:function(e){if(e===n)return!0;for(var t in e)return!1;return!0},hasClass:function(e,t){var n;return""==e.className?!1:(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n.test(e.className))},addClass:function(e,t){g.hasClass(e,t)||(e.className=""==e.className?t:e.className.replace(/\s+$/,"")+" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},addEvent:function(r,a,s){var o,l,d;d=arguments[3],a=a.toLowerCase(),i===n&&(i="Plupload_"+g.guid()),r.addEventListener?(o=s,r.addEventListener(a,o,!1)):r.attachEvent&&(o=function(){var n=window.event;n.target||(n.target=n.srcElement),n.preventDefault=e,n.stopPropagation=t,s(n)},r.attachEvent("on"+a,o)),r[i]===n&&(r[i]=g.guid()),c.hasOwnProperty(r[i])||(c[r[i]]={}),l=c[r[i]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:o,orig:s,key:d})},removeEvent:function(e,t){var r,a,s;if("function"==typeof arguments[2]?a=arguments[2]:s=arguments[2],t=t.toLowerCase(),e[i]&&c[e[i]]&&c[e[i]][t]){r=c[e[i]][t];for(var o=r.length-1;o>=0&&(r[o].key!==s&&r[o].orig!==a||(e.removeEventListener?e.removeEventListener(t,r[o].func,!1):e.detachEvent&&e.detachEvent("on"+t,r[o].func),r[o].orig=null,r[o].func=null,r.splice(o,1),a===n));o--);if(r.length||delete c[e[i]][t],g.isEmptyObj(c[e[i]])){delete c[e[i]];try{delete e[i]}catch(l){e[i]=n}}}},removeAllEvents:function(e){var t=arguments[1];e[i]!==n&&e[i]&&g.each(c[e[i]],function(n,i){g.removeEvent(e,i,t)})}};g.Uploader=function(e){function t(){var e,t,n=0;if(this.state==g.STARTED){for(t=0;t<l.length;t++)e||l[t].status!=g.QUEUED?n++:(e=l[t],e.status=g.UPLOADING,this.trigger("BeforeUpload",e)&&this.trigger("UploadFile",e));n==l.length&&(this.stop(),this.trigger("UploadComplete",l))}}function i(){var e,t;for(r.reset(),e=0;e<l.length;e++)t=l[e],t.size!==n?(r.size+=t.size,r.loaded+=t.loaded):r.size=n,t.status==g.DONE?r.uploaded++:t.status==g.FAILED?r.failed++:r.queued++;r.size===n?r.percent=l.length>0?Math.ceil(r.uploaded/l.length*100):0:(r.bytesPerSec=Math.ceil(r.loaded/((+new Date-s||1)/1e3)),r.percent=r.size>0?Math.ceil(r.loaded/r.size*100):0)}var r,s,o={},l=[],d=!1;r=new g.QueueProgress,e=g.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},e),g.extend(this,{state:g.STOPPED,runtime:"",features:{},files:l,settings:e,total:r,id:g.guid(),init:function(){function r(){var e,t,n,i=d[f++];if(i){if(e=i.getFeatures(),t=p.settings.required_features)for(t=t.split(","),n=0;n<t.length;n++)if(!e[t[n]])return void r();i.init(p,function(t){t&&t.success?(p.features=e,p.runtime=i.name,p.trigger("Init",{runtime:i.name}),p.trigger("PostInit"),p.refresh()):r()})}else p.trigger("Error",{code:g.INIT_ERROR,message:g.translate("Init error.")})}var o,d,c,p=this,f=0;if("function"==typeof e.preinit?e.preinit(p):g.each(e.preinit,function(e,t){p.bind(t,e)}),e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/"),/^(\w+:\/\/|\/)/.test(e.url)||(e.url=e.page_url+e.url),e.chunk_size=g.parseSize(e.chunk_size),e.max_file_size=g.parseSize(e.max_file_size),p.bind("FilesAdded",function(t,i){var r,a,s,o=0,d=e.filters;for(d&&d.length&&(s=[],g.each(d,function(e){g.each(e.extensions.split(/,/),function(e){s.push(/^\s*\*\s*$/.test(e)?"\\.*":"\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),s=new RegExp(s.join("|")+"$","i")),r=0;r<i.length;r++)a=i[r],a.loaded=0,a.percent=0,a.status=g.QUEUED,!s||s.test(a.name)?a.size!==n&&a.size>e.max_file_size?t.trigger("Error",{code:g.FILE_SIZE_ERROR,message:g.translate("File size error."),file:a}):(l.push(a),o++):t.trigger("Error",{code:g.FILE_EXTENSION_ERROR,message:g.translate("File extension error."),file:a});return o?void u(function(){p.trigger("QueueChanged"),p.refresh()},1):!1}),e.unique_names&&p.bind("UploadFile",function(e,t){var n=t.name.match(/\.([^.]+)$/),i="tmp";n&&(i=n[1]),t.target_name=t.id+"."+i}),p.bind("UploadProgress",function(e,t){t.percent=t.size>0?Math.ceil(t.loaded/t.size*100):100,i()}),p.bind("StateChanged",function(e){if(e.state==g.STARTED)s=+new Date;else if(e.state==g.STOPPED)for(o=e.files.length-1;o>=0;o--)e.files[o].status==g.UPLOADING&&(e.files[o].status=g.QUEUED,i())}),p.bind("QueueChanged",i),p.bind("Error",function(e,n){n.file&&(n.file.status=g.FAILED,i(),e.state==g.STARTED&&u(function(){t.call(p)},1))}),p.bind("FileUploaded",function(e,n){n.status=g.DONE,n.loaded=n.size,e.trigger("UploadProgress",n),u(function(){t.call(p)},1)}),e.runtimes)for(d=[],c=e.runtimes.split(/\s?,\s?/),o=0;o<c.length;o++)a[c[o]]&&d.push(a[c[o]]);else d=a;r(),"function"==typeof e.init?e.init(p):g.each(e.init,function(e,t){p.bind(t,e)})},refresh:function(){this.trigger("Refresh")},start:function(){l.length&&this.state!=g.STARTED&&(this.state=g.STARTED,this.trigger("StateChanged"),t.call(this))},stop:function(){this.state!=g.STOPPED&&(this.state=g.STOPPED,this.trigger("CancelUpload"),this.trigger("StateChanged"))},disableBrowse:function(){d=arguments[0]!==n?arguments[0]:!0,this.trigger("DisableBrowse",d)},getFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e)return l[t]},removeFile:function(e){var t;for(t=l.length-1;t>=0;t--)if(l[t].id===e.id)return this.splice(t,1)[0]},splice:function(e,t){var i;return i=l.splice(e===n?0:e,t===n?l.length:t),this.trigger("FilesRemoved",i),this.trigger("QueueChanged"),i},trigger:function(e){var t,n,i=o[e.toLowerCase()];if(i)for(n=Array.prototype.slice.call(arguments),n[0]=this,t=0;t<i.length;t++)if(i[t].func.apply(i[t].scope,n)===!1)return!1;return!0},hasEventListener:function(e){return!!o[e.toLowerCase()]},bind:function(e,t,n){var i;e=e.toLowerCase(),i=o[e]||[],i.push({func:t,scope:n||this}),o[e]=i},unbind:function(e){e=e.toLowerCase();var t,i=o[e],r=arguments[1];if(i){if(r!==n){for(t=i.length-1;t>=0;t--)if(i[t].func===r){i.splice(t,1);break}}else i=[];i.length||delete o[e]}},unbindAll:function(){var e=this;g.each(o,function(t,n){e.unbind(n)})},destroy:function(){this.stop(),this.trigger("Destroy"),this.unbindAll()}})},g.File=function(e,t,n){var i=this;i.id=e,i.name=t,i.size=n,i.loaded=0,i.percent=0,i.status=0},g.Runtime=function(){this.getFeatures=function(){},this.init=function(){}},g.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},g.runtimes={},window.plupload=g}(),function(){if(!window.google||!google.gears){var e=null;if("undefined"!=typeof GearsFactory)e=new GearsFactory;else try{e=new ActiveXObject("Gears.Factory"),-1!=e.getBuildInfo().indexOf("ie_mobile")&&e.privateSetGlobalObject(this)}catch(t){"undefined"!=typeof navigator.mimeTypes&&navigator.mimeTypes["application/x-googlegears"]&&(e=document.createElement("object"),e.style.display="none",e.width=0,e.height=0,e.type="application/x-googlegears",document.documentElement.appendChild(e))}e&&(window.google||(window.google={}),google.gears||(google.gears={factory:e}))}}(),function(e,t,n){function i(e,t,n){var i,r;i=google.gears.factory.create("beta.canvas");try{if(i.decode(e),t.width||(t.width=i.width),t.height||(t.height=i.height),r=Math.min(t.width/i.width,t.height/i.height),1>r)i.resize(Math.round(i.width*r),Math.round(i.height*r));else if(!t.quality||"image/jpeg"!==n)return e;return t.quality?i.encode(n,{quality:t.quality/100}):i.encode(n)}catch(a){}return e}var r={};n.runtimes.Gears=n.addRuntime("gears",{getFeatures:function(){return{dragdrop:!0,jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(a,s){function o(e){var t,i,s,o=[];for(i=0;i<e.length;i++)t=e[i],s=n.guid(),r[s]=t.blob,o.push(new n.File(s,t.name,t.blob.length));a.trigger("FilesAdded",o)}var l,d,u=!1;if(!e.google||!google.gears)return s({success:!1});try{l=google.gears.factory.create("beta.desktop")}catch(c){return s({success:!1})}a.bind("PostInit",function(){var e=a.settings,i=t.getElementById(e.drop_element);i&&(n.addEvent(i,"dragover",function(e){l.setDropEffect(e,"copy"),e.preventDefault()},a.id),n.addEvent(i,"drop",function(e){var t=l.getDragData(e,"application/x-gears-files");t&&o(t.files),e.preventDefault()},a.id),i=0),n.addEvent(t.getElementById(e.browse_button),"click",function(t){var n,i,r,a=[];if(t.preventDefault(),!u){e:for(n=0;n<e.filters.length;n++)for(r=e.filters[n].extensions.split(","),i=0;i<r.length;i++){if("*"===r[i]){a=[];break e}a.push("."+r[i])}l.openFiles(o,{singleFile:!e.multi_selection,filter:a})}},a.id)}),a.bind("CancelUpload",function(){d.abort&&d.abort()}),a.bind("UploadFile",function(e,t){function a(){function i(i){var r,a,s,o="----pluploadboundary"+n.guid(),l="--",u="\r\n";p&&(d.setRequestHeader("Content-Type","multipart/form-data; boundary="+o),r=google.gears.factory.create("beta.blobbuilder"),n.each(n.extend(h,e.settings.multipart_params),function(e,t){r.append(l+o+u+'Content-Disposition: form-data; name="'+t+'"'+u+u),r.append(e+u)}),s=n.mimeTypes[t.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",r.append(l+o+u+'Content-Disposition: form-data; name="'+e.settings.file_data_name+'"; filename="'+t.name+'"'+u+"Content-Type: "+s+u+u),r.append(i),r.append(u+l+o+l+u),a=r.getAsBlob(),f=a.length-i.length,i=a),d.send(i)}var g,p=e.settings.multipart,f=0,h={name:t.target_name||t.name},m=e.settings.url;t.status!=n.DONE&&t.status!=n.FAILED&&e.state!=n.STOPPED&&(l&&(h.chunk=u,h.chunks=s),g=Math.min(o,t.size-u*o),p||(m=n.buildUrl(e.settings.url,h)),d=google.gears.factory.create("beta.httprequest"),d.open("POST",m),p||(d.setRequestHeader("Content-Disposition",'attachment; filename="'+t.name+'"'),d.setRequestHeader("Content-Type","application/octet-stream")),n.each(e.settings.headers,function(e,t){d.setRequestHeader(t,e)}),d.upload.onprogress=function(n){t.loaded=c+n.loaded-f,e.trigger("UploadProgress",t)},d.onreadystatechange=function(){var i;if(4==d.readyState&&e.state!==n.STOPPED)if(200==d.status){if(i={chunk:u,chunks:s,response:d.responseText,status:d.status},e.trigger("ChunkUploaded",t,i),i.cancelled)return void(t.status=n.FAILED);c+=g,++u>=s?(t.status=n.DONE,e.trigger("FileUploaded",t,{response:d.responseText,status:d.status})):a()}else e.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:t,chunk:u,chunks:s,status:d.status})},s>u&&i(r[t.id].slice(u*o,g)))}var s,o,l,u=0,c=0,g=e.settings.resize;g&&/\.(png|jpg|jpeg)$/i.test(t.name)&&(r[t.id]=i(r[t.id],g,/\.png$/i.test(t.name)?"image/png":"image/jpeg")),t.size=r[t.id].length,o=e.settings.chunk_size,l=o>0,s=Math.ceil(t.size/o),l||(o=t.size,s=1),a()}),a.bind("DisableBrowse",function(e,t){u=t}),a.bind("Destroy",function(e){var i,r,a={browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(i in a)r=t.getElementById(a[i]),r&&n.removeAllEvents(r,e.id)}),s({success:!0})}})}(window,document,plupload),function(e,t,n,i){function r(e){var t,n,a,s,o=typeof e;if(e===i||null===e)return"null";if("string"===o)return t="\bb	t\nn\ff\rr\"\"''\\\\",'"'+e.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(e,n){var i=t.indexOf(n);return i+1?"\\"+t.charAt(i+1):(e=n.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+'"';if("object"==o){if(n=e.length!==i,t="",n){for(a=0;a<e.length;a++)t&&(t+=","),t+=r(e[a]);t="["+t+"]"}else{for(s in e)e.hasOwnProperty(s)&&(t&&(t+=","),t+=r(s)+":"+r(e[s]));t="{"+t+"}"}return t}return""+e}function a(e){var t,n,i,r,a,s=!1,o=null,l=0;try{try{o=new ActiveXObject("AgControl.AgControl"),o.IsVersionSupported(e)&&(s=!0),o=null}catch(d){var u=navigator.plugins["Silverlight Plug-In"];if(u){for(t=u.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do r=parseInt(i[l],10),a=parseInt(n[l],10),l++;while(l<i.length&&r===a);a>=r&&!isNaN(r)&&(s=!0)}}}catch(c){s=!1}return s}var s={},o={};n.silverlight={trigger:function(e,t){var i,r=s[e];r&&(i=n.toArray(arguments).slice(1),i[0]="Silverlight:"+t,setTimeout(function(){r.trigger.apply(r,i)},0))}},n.runtimes.Silverlight=n.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(i,l){function d(){return t.getElementById(i.id+"_silverlight").content.Upload}var u,c,g="",p=i.settings.filters,f=t.body;if(!a("2.0.31005.0")||e.opera&&e.opera.buildNumber)return void l({success:!1});for(o[i.id]=!1,s[i.id]=i,u=t.createElement("div"),u.id=i.id+"_silverlight_container",n.extend(u.style,{position:"absolute",top:"0px",background:i.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:i.settings.shim_bgcolor||t.documentMode>8?"":.01}),u.className="plupload silverlight",i.settings.container&&(f=t.getElementById(i.settings.container),"static"===n.getStyle(f,"position")&&(f.style.position="relative")),f.appendChild(u),c=0;c<p.length;c++)g+=(""!=g?"|":"")+p[c].title+" | *."+p[c].extensions.replace(/,/g,";*.");u.innerHTML='<object id="'+i.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+i.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+i.id+",filter="+g+",multiselect="+i.settings.multi_selection+'"/></object>',i.bind("Silverlight:Init",function(){var e,a={};o[i.id]||(o[i.id]=!0,i.bind("Silverlight:StartSelectFiles",function(){e=[]}),i.bind("Silverlight:SelectFile",function(t,i,r,s){var o;o=n.guid(),a[o]=i,a[i]=o,e.push(new n.File(o,r,s))}),i.bind("Silverlight:SelectSuccessful",function(){e.length&&i.trigger("FilesAdded",e)}),i.bind("Silverlight:UploadChunkError",function(e,t,r,s,o){i.trigger("Error",{code:n.IO_ERROR,message:"IO Error.",details:o,file:e.getFile(a[t])})}),i.bind("Silverlight:UploadFileProgress",function(e,t,i,r){var s=e.getFile(a[t]);s.status!=n.FAILED&&(s.size=r,s.loaded=i,e.trigger("UploadProgress",s))}),i.bind("Refresh",function(e){var i,r,a;i=t.getElementById(e.settings.browse_button),i&&(r=n.getPos(i,t.getElementById(e.settings.container)),a=n.getSize(i),n.extend(t.getElementById(e.id+"_silverlight_container").style,{top:r.y+"px",left:r.x+"px",width:a.w+"px",height:a.h+"px"}))}),i.bind("Silverlight:UploadChunkSuccessful",function(e,t,i,r,s){var o,l=e.getFile(a[t]);o={chunk:i,chunks:r,response:s},e.trigger("ChunkUploaded",l,o),l.status!=n.FAILED&&e.state!==n.STOPPED&&d().UploadNextChunk(),i==r-1&&(l.status=n.DONE,e.trigger("FileUploaded",l,{response:s}))}),i.bind("Silverlight:UploadSuccessful",function(e,t,i){var r=e.getFile(a[t]);r.status=n.DONE,e.trigger("FileUploaded",r,{response:i})}),i.bind("FilesRemoved",function(e,t){var n;for(n=0;n<t.length;n++)d().RemoveFile(a[t[n].id])}),i.bind("UploadFile",function(e,t){var i=e.settings,s=i.resize||{};d().UploadFile(a[t.id],e.settings.url,r({name:t.target_name||t.name,mime:n.mimeTypes[t.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:i.chunk_size,image_width:s.width,image_height:s.height,image_quality:s.quality,multipart:!!i.multipart,multipart_params:i.multipart_params||{},file_data_name:i.file_data_name,headers:i.headers}))}),i.bind("CancelUpload",function(){d().CancelUpload()}),i.bind("Silverlight:MouseEnter",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_hover,r&&a&&n.addClass(r,a)}),i.bind("Silverlight:MouseLeave",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_hover,r&&a&&n.removeClass(r,a)}),i.bind("Silverlight:MouseLeftButtonDown",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_active,r&&a&&(n.addClass(r,a),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,a)}))}),i.bind("Sliverlight:StartSelectFiles",function(e){var r,a;r=t.getElementById(i.settings.browse_button),a=e.settings.browse_button_active,r&&a&&n.removeClass(r,a)}),i.bind("DisableBrowse",function(e,t){d().DisableBrowse(t)}),i.bind("Destroy",function(e){var i;n.removeAllEvents(t.body,e.id),delete o[e.id],delete s[e.id],i=t.getElementById(e.id+"_silverlight_container"),i&&i.parentNode.removeChild(i)}),l({success:!0}))})}})}(window,document,plupload),function(e,t,n){function i(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}var r={},a={};n.flash={trigger:function(e,t,n){setTimeout(function(){var i=r[e];i&&i.trigger("Flash:"+t,n)},0)}},n.runtimes.Flash=n.addRuntime("flash",{getFeatures:function(){return{jpgresize:!0,pngresize:!0,maxWidth:8091,maxHeight:8091,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(e,s){function o(){return t.getElementById(e.id+"_flash")}function l(){return c++>5e3?void s({success:!1}):void(a[e.id]===!1&&setTimeout(l,1))}var d,u,c=0,g=t.body;return i()<10?void s({success:!1}):(a[e.id]=!1,r[e.id]=e,d=t.getElementById(e.settings.browse_button),u=t.createElement("div"),u.id=e.id+"_flash_container",n.extend(u.style,{position:"absolute",top:"0px",background:e.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"}),u.className="plupload flash",e.settings.container&&(g=t.getElementById(e.settings.container),"static"===n.getStyle(g,"position")&&(g.style.position="relative")),g.appendChild(u),function(){var i,r;i='<object id="'+e.id+'_flash" type="application/x-shockwave-flash" data="'+e.settings.flash_swf_url+'" ',n.ua.ie&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+e.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(e.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.ua.ie?(r=t.createElement("div"),u.appendChild(r),r.outerHTML=i,r=null):u.innerHTML=i}(),l(),d=u=null,e.bind("Destroy",function(e){var i;n.removeAllEvents(t.body,e.id),delete a[e.id],delete r[e.id],i=t.getElementById(e.id+"_flash_container"),i&&i.parentNode.removeChild(i)}),void e.bind("Flash:Init",function(){var i={};try{o().setFileFilters(e.settings.filters,e.settings.multi_selection)}catch(r){return void s({success:!1})}a[e.id]||(a[e.id]=!0,e.bind("UploadFile",function(t,r){var a=t.settings,s=e.settings.resize||{};o().uploadFile(i[r.id],a.url,{name:r.target_name||r.name,mime:n.mimeTypes[r.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:a.chunk_size,width:s.width,height:s.height,quality:s.quality,multipart:a.multipart,multipart_params:a.multipart_params||{},file_data_name:a.file_data_name,format:/\.(jpg|jpeg)$/i.test(r.name)?"jpg":"png",headers:a.headers,urlstream_upload:a.urlstream_upload})}),e.bind("CancelUpload",function(){o().cancelUpload()}),e.bind("Flash:UploadProcess",function(e,t){var r=e.getFile(i[t.id]);r.status!=n.FAILED&&(r.loaded=t.loaded,r.size=t.size,e.trigger("UploadProgress",r))}),e.bind("Flash:UploadChunkComplete",function(e,t){var r,a=e.getFile(i[t.id]);r={chunk:t.chunk,chunks:t.chunks,response:t.text},e.trigger("ChunkUploaded",a,r),a.status!==n.FAILED&&e.state!==n.STOPPED&&o().uploadNextChunk(),t.chunk==t.chunks-1&&(a.status=n.DONE,e.trigger("FileUploaded",a,{response:t.text}))}),e.bind("Flash:SelectFiles",function(t,r){var a,s,o,l=[];for(s=0;s<r.length;s++)a=r[s],o=n.guid(),i[o]=a.id,i[a.id]=o,l.push(new n.File(o,a.name,a.size));l.length&&e.trigger("FilesAdded",l)}),e.bind("Flash:SecurityError",function(t,r){e.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),details:r.message,file:e.getFile(i[r.id])})}),e.bind("Flash:GenericError",function(t,r){e.trigger("Error",{code:n.GENERIC_ERROR,message:n.translate("Generic error."),details:r.message,file:e.getFile(i[r.id])})}),e.bind("Flash:IOError",function(t,r){e.trigger("Error",{code:n.IO_ERROR,message:n.translate("IO error."),details:r.message,file:e.getFile(i[r.id])})}),e.bind("Flash:ImageError",function(t,r){e.trigger("Error",{code:parseInt(r.code,10),message:n.translate("Image error."),file:e.getFile(i[r.id])})}),e.bind("Flash:StageEvent:rollOver",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_hover,r&&a&&n.addClass(r,a)}),e.bind("Flash:StageEvent:rollOut",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_hover,r&&a&&n.removeClass(r,a)}),e.bind("Flash:StageEvent:mouseDown",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_active,r&&a&&(n.addClass(r,a),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,a)},i.id))}),e.bind("Flash:StageEvent:mouseUp",function(i){var r,a;r=t.getElementById(e.settings.browse_button),a=i.settings.browse_button_active,r&&a&&n.removeClass(r,a)}),e.bind("Flash:ExifData",function(t,n){e.trigger("ExifData",e.getFile(i[n.id]),n.data)}),e.bind("Flash:GpsData",function(t,n){e.trigger("GpsData",e.getFile(i[n.id]),n.data)}),e.bind("QueueChanged",function(){e.refresh()}),e.bind("FilesRemoved",function(e,t){var n;for(n=0;n<t.length;n++)o().removeFile(i[t[n].id])}),e.bind("StateChanged",function(){e.refresh()}),e.bind("Refresh",function(i){var r,a,s;o().setFileFilters(e.settings.filters,e.settings.multi_selection),r=t.getElementById(i.settings.browse_button),r&&(a=n.getPos(r,t.getElementById(i.settings.container)),s=n.getSize(r),n.extend(t.getElementById(i.id+"_flash_container").style,{top:a.y+"px",left:a.x+"px",width:s.w+"px",height:s.h+"px"}))}),e.bind("DisableBrowse",function(e,t){o().disableBrowse(t)}),s({success:!0}))}))}})}(window,document,plupload),function(e){e.runtimes.BrowserPlus=e.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:!0,jpgresize:!0,pngresize:!0,chunks:!0,progress:!0,multipart:!0,multi_selection:!0}},init:function(t,n){function i(n){var i,r,a,o=[];for(i=0;i<n.length;i++)r=n[i],a=e.guid(),s[a]=r,o.push(new e.File(a,r.name,r.size));i&&t.trigger("FilesAdded",o)}function r(){var r=!1;t.bind("PostInit",function(){function n(e,t){a.DragAndDrop.AddDropTarget({id:e},function(){a.DragAndDrop.AttachCallbacks({id:e,hover:function(e){!e&&t&&t()},drop:function(e){t&&t(),i(e)}},function(){})})}function s(){document.getElementById(u).style.top="-1000px"}var l,d=o.drop_element,u=t.id+"_droptarget",c=document.getElementById(d);c&&(document.attachEvent&&/MSIE/gi.test(navigator.userAgent)?(l=document.createElement("div"),l.setAttribute("id",u),e.extend(l.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0}),document.body.appendChild(l),e.addEvent(c,"dragenter",function(){var t,n;t=document.getElementById(d),n=e.getPos(t),e.extend(document.getElementById(u).style,{top:n.y+"px",left:n.x+"px",width:t.offsetWidth+"px",height:t.offsetHeight+"px"})}),n(u,s)):n(d)),e.addEvent(document.getElementById(o.browse_button),"click",function(t){var n,s,l,d,u=[],c=o.filters;if(t.preventDefault(),!r){e:for(n=0;n<c.length;n++)for(l=c[n].extensions.split(","),s=0;s<l.length;s++){if("*"===l[s]){u=[];break e}d=e.mimeTypes[l[s]],d&&-1===e.inArray(d,u)&&u.push(e.mimeTypes[l[s]])}a.FileBrowse.OpenBrowseDialog({mimeTypes:u},function(e){e.success&&i(e.value)})}}),c=l=null}),t.bind("CancelUpload",function(){a.Uploader.cancel({},function(){})}),t.bind("DisableBrowse",function(e,t){r=t}),t.bind("UploadFile",function(t,n){function i(r,s){var l;n.status!=e.FAILED&&(u.name=n.target_name||n.name,c&&(u.chunk=""+r,u.chunks=""+s),l=g.shift(),a.Uploader.upload({url:t.settings.url,files:{file:l},cookies:document.cookies,postvars:e.extend(u,t.settings.multipart_params),progressCallback:function(e){var i,a=0;for(o[r]=parseInt(e.filePercent*l.size/100,10),i=0;i<o.length;i++)a+=o[i];n.loaded=a,t.trigger("UploadProgress",n)}},function(a){var o;a.success?(o=a.value.statusCode,c&&t.trigger("ChunkUploaded",n,{chunk:r,chunks:s,response:a.value.body,status:o}),g.length>0?i(++r,s):(n.status=e.DONE,t.trigger("FileUploaded",n,{response:a.value.body,status:o}),o>=400&&t.trigger("Error",{code:e.HTTP_ERROR,message:e.translate("HTTP Error."),file:n,status:o}))):t.trigger("Error",{code:e.GENERIC_ERROR,message:e.translate("Generic Error."),file:n,details:a.error})}))}function r(e){n.size=e.size,c?a.FileAccess.chunk({file:e,chunkSize:c},function(e){if(e.success){var t=e.value,n=t.length;o=Array(n);for(var r=0;n>r;r++)o[r]=0,g.push(t[r]);i(0,n)}}):(o=Array(1),g.push(e),i(0,1))}var o,d=s[n.id],u={},c=t.settings.chunk_size,g=[];l&&/\.(png|jpg|jpeg)$/i.test(n.name)?BrowserPlus.ImageAlter.transform({file:d,quality:l.quality||90,actions:[{scale:{maxwidth:l.width,maxheight:l.height}}]},function(e){e.success&&r(e.value.file)}):r(d)}),n({success:!0})}var a=window.BrowserPlus,s={},o=t.settings,l=o.resize;a?a.init(function(e){var t=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];l&&t.push({service:"ImageAlter",version:"4"}),e.success?a.require({services:t},function(e){e.success?r():n()}):n()}):n()}})}(plupload),function(e,t,n,r){function a(e){var n=e.naturalWidth,i=e.naturalHeight;if(n*i>1048576){var r=t.createElement("canvas");r.width=r.height=1;var a=r.getContext("2d");return a.drawImage(e,-n+1,0),0===a.getImageData(0,0,1,1).data[3]}return!1}function s(e,n,i){var r=t.createElement("canvas");r.width=1,r.height=i;var a=r.getContext("2d");a.drawImage(e,0,0);for(var s=a.getImageData(0,0,1,i).data,o=0,l=i,d=i;d>o;){var u=s[4*(d-1)+3];0===u?l=d:o=d,d=l+o>>1}var c=d/i;return 0===c?1:c}function o(e,n,i){var r=e.naturalWidth,o=e.naturalHeight,l=i.width,d=i.height,u=n.getContext("2d");u.save();var c=a(e);c&&(r/=2,o/=2);var g=1024,p=t.createElement("canvas");p.width=p.height=g;for(var f=p.getContext("2d"),h=s(e,r,o),m=0;o>m;){for(var v=m+g>o?o-m:g,b=0;r>b;){var y=b+g>r?r-b:g;f.clearRect(0,0,g,g),f.drawImage(e,-b,-m);var E=b*l/r<<0,w=Math.ceil(y*l/r),_=m*d/o/h<<0,x=Math.ceil(v*d/o/h);u.drawImage(p,0,0,y,v,E,_,w,x),b+=g}m+=g}u.restore(),p=f=null}function l(t,n){var i;return"FileReader"in e?(i=new FileReader,i.readAsDataURL(t),i.onload=function(){n(i.result)},void 0):n(t.getAsDataURL())}function d(t,n){var i;return"FileReader"in e?(i=new FileReader,i.readAsBinaryString(t),i.onload=function(){n(i.result)},void 0):n(t.getAsBinary())}function u(e,n,i,r){var a,s,d,u=this;l(h[e.id],function(l){a=t.createElement("canvas"),a.style.display="none",t.body.appendChild(a),s=new Image,s.onerror=s.onabort=function(){r({success:!1})},s.onload=function(){var t,c,f,h;if(n.width||(n.width=s.width),n.height||(n.height=s.height),d=Math.min(n.width/s.width,n.height/s.height),1>d)t=Math.round(s.width*d),c=Math.round(s.height*d);else{if(!n.quality||"image/jpeg"!==i)return void r({success:!1});
t=s.width,c=s.height}if(a.width=t,a.height=c,o(s,a,{width:t,height:c}),"image/jpeg"===i&&(f=new g(atob(l.substring(l.indexOf("base64,")+7))),f.headers&&f.headers.length&&(h=new p,h.init(f.get("exif")[0])&&(h.setExif("PixelXDimension",t),h.setExif("PixelYDimension",c),f.set("exif",h.getBinary()),u.hasEventListener("ExifData")&&u.trigger("ExifData",e,h.EXIF()),u.hasEventListener("GpsData")&&u.trigger("GpsData",e,h.GPS())))),n.quality&&"image/jpeg"===i)try{l=a.toDataURL(i,n.quality/100)}catch(m){l=a.toDataURL(i)}else l=a.toDataURL(i);l=l.substring(l.indexOf("base64,")+7),l=atob(l),f&&f.headers&&f.headers.length&&(l=f.restore(l),f.purge()),a.parentNode.removeChild(a),r({success:!0,data:l})},s.src=l})}function c(){function e(e,t){var n,r=a?0:-8*(t-1),s=0;for(n=0;t>n;n++)s|=i.charCodeAt(e+n)<<Math.abs(r+8*n);return s}function t(e,t,n){var n=3===arguments.length?n:i.length-t-1;i=i.substr(0,t)+e+i.substr(n+t)}function n(e,n,i){var r,s="",o=a?0:-8*(i-1);for(r=0;i>r;r++)s+=String.fromCharCode(n>>Math.abs(o+8*r)&255);t(s,e,i)}var i,a=!1;return{II:function(e){return e===r?a:void(a=e)},init:function(e){a=!1,i=e},SEGMENT:function(e,n,r){switch(arguments.length){case 1:return i.substr(e,i.length-e-1);case 2:return i.substr(e,n);case 3:t(r,e,n);break;default:return i}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(t,i){return i===r?e(t,4):void n(t,i,4)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i="";for(n+=t;n>t;t++)i+=String.fromCharCode(e(t,1));return i}}}function g(e){var t,n,i,a={65505:{app:"EXIF",name:"APP1",signature:"Exif\x00"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\x00"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\x00"}},s=[],o=r,l=0;if(t=new c,t.init(e),65496===t.SHORT(0)){for(n=2,i=Math.min(1048576,e.length);i>=n;)if(o=t.SHORT(n),o>=65488&&65495>=o)n+=2;else{if(65498===o||65497===o)break;l=t.SHORT(n+2)+2,a[o]&&t.STRING(n+4,a[o].signature.length)===a[o].signature&&s.push({hex:o,app:a[o].app.toUpperCase(),name:a[o].name.toUpperCase(),start:n,length:l,segment:t.SEGMENT(n,l)}),n+=l}return t.init(null),{headers:s,restore:function(e){t.init(e);var i=new g(e);if(!i.headers)return!1;for(var r=i.headers.length;r>0;r--){var a=i.headers[r-1];t.SEGMENT(a.start,a.length,"")}i.purge(),n=65504==t.SHORT(2)?4+t.SHORT(4):2;for(var r=0,o=s.length;o>r;r++)t.SEGMENT(n,0,s[r].segment),n+=s[r].length;return t.SEGMENT()},get:function(e){for(var t=[],n=0,i=s.length;i>n;n++)s[n].app===e.toUpperCase()&&t.push(s[n].segment);return t},set:function(e,t){var n=[];"string"==typeof t?n.push(t):n=t;for(var i=ii=0,r=s.length;r>i&&(s[i].app===e.toUpperCase()&&(s[i].segment=n[ii],s[i].length=n[ii].length,ii++),!(ii>=n.length));i++);},purge:function(){s=[],t.init(null)}}}}function p(){function e(e,t){var n,i,a,o,u,c,g,p,f=s.SHORT(e),h=[],m={};for(n=0;f>n;n++)if(g=c=e+12*n+2,a=t[s.SHORT(g)],a!==r){switch(o=s.SHORT(g+=2),u=s.LONG(g+=2),g+=4,h=[],o){case 1:case 7:for(u>4&&(g=s.LONG(g)+d.tiffHeader),i=0;u>i;i++)h[i]=s.BYTE(g+i);break;case 2:u>4&&(g=s.LONG(g)+d.tiffHeader),m[a]=s.STRING(g,u-1);continue;case 3:for(u>2&&(g=s.LONG(g)+d.tiffHeader),i=0;u>i;i++)h[i]=s.SHORT(g+2*i);break;case 4:for(u>1&&(g=s.LONG(g)+d.tiffHeader),i=0;u>i;i++)h[i]=s.LONG(g+4*i);break;case 5:for(g=s.LONG(g)+d.tiffHeader,i=0;u>i;i++)h[i]=s.LONG(g+4*i)/s.LONG(g+4*i+4);break;case 9:for(g=s.LONG(g)+d.tiffHeader,i=0;u>i;i++)h[i]=s.SLONG(g+4*i);break;case 10:for(g=s.LONG(g)+d.tiffHeader,i=0;u>i;i++)h[i]=s.SLONG(g+4*i)/s.SLONG(g+4*i+4);break;default:continue}p=1==u?h[0]:h,m[a]=l.hasOwnProperty(a)&&"object"!=typeof p?l[a][p]:p}return m}function t(){var t=r,n=d.tiffHeader;return s.II(18761==s.SHORT(n)),42!==s.SHORT(n+=2)?!1:(d.IFD0=d.tiffHeader+s.LONG(n+=2),t=e(d.IFD0,o.tiff),d.exifIFD="ExifIFDPointer"in t?d.tiffHeader+t.ExifIFDPointer:r,d.gpsIFD="GPSInfoIFDPointer"in t?d.tiffHeader+t.GPSInfoIFDPointer:r,!0)}function a(e,t,n){var r,a,l,u=0;if("string"==typeof t){var c=o[e.toLowerCase()];for(hex in c)if(c[hex]===t){t=hex;break}}for(r=d[e.toLowerCase()+"IFD"],a=s.SHORT(r),i=0;a>i;i++)if(l=r+12*i+2,s.SHORT(l)==t){u=l+8;break}return u?(s.LONG(u,n),!0):!1}var s,o,l,d={};return s=new c,o={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return d={tiffHeader:10},e!==r&&e.length?(s.init(e),65505===s.SHORT(0)&&"EXIF\x00"===s.STRING(4,5).toUpperCase()?t():!1):!1},EXIF:function(){var t;if(t=e(d.exifIFD,o.exif),t.ExifVersion&&"array"===n.typeOf(t.ExifVersion)){for(var i=0,r="";i<t.ExifVersion.length;i++)r+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=r}return t},GPS:function(){var t;return t=e(d.gpsIFD,o.gps),t.GPSVersionID&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:a("exif",e,t)},getBinary:function(){return s.SEGMENT()}}}var f,h={};n.runtimes.Html5=n.addRuntime("html5",{getFeatures:function(){var i,r,a,s,o,l;return r=a=o=l=!1,e.XMLHttpRequest&&(i=new XMLHttpRequest,a=!!i.upload,r=!(!i.sendAsBinary&&!i.upload)),r&&(s=!!(i.sendAsBinary||e.Uint8Array&&e.ArrayBuffer),o=!(!File||!File.prototype.getAsDataURL&&!e.FileReader||!s),l=!(!File||!(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))),f=n.ua.safari&&n.ua.windows,{html5:r,dragdrop:function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}(),jpgresize:o,pngresize:o,multipart:o||!!e.FileReader||!!e.FormData,canSendBinary:s,cantSendBlobInFormData:!(!(n.ua.gecko&&e.FormData&&e.FileReader)||FileReader.prototype.readAsArrayBuffer)||n.ua.android,progress:a,chunks:l,multi_selection:!(n.ua.safari&&n.ua.windows),triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(i,r){function a(e){var t,r,a,s=[],o={};for(r=0;r<e.length;r++)t=e[r],o[t.name]&&n.ua.safari&&n.ua.windows||(o[t.name]=!0,a=n.guid(),h[a]=t,s.push(new n.File(a,t.fileName||t.name,t.fileSize||t.size)));s.length&&i.trigger("FilesAdded",s)}var s,o;return s=this.getFeatures(),s.html5?(i.bind("Init",function(e){var r,s,o,l,d,u,c,g=[],p=e.settings.filters,f=t.body;r=t.createElement("div"),r.id=e.id+"_html5_container",n.extend(r.style,{position:"absolute",background:i.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:i.settings.shim_bgcolor?"":0}),r.className="plupload html5",i.settings.container&&(f=t.getElementById(i.settings.container),"static"===n.getStyle(f,"position")&&(f.style.position="relative")),f.appendChild(r);e:for(o=0;o<p.length;o++)for(d=p[o].extensions.split(/,/),l=0;l<d.length;l++){if("*"===d[l]){g=[];break e}u=n.mimeTypes[d[l]],u&&-1===n.inArray(u,g)&&g.push(u)}if(r.innerHTML='<input id="'+i.id+'_html5"  style="font-size:999px" type="file" accept="'+g.join(",")+'" '+(i.settings.multi_selection&&i.features.multi_selection?'multiple="multiple"':"")+" />",r.scrollTop=100,c=t.getElementById(i.id+"_html5"),e.features.triggerDialog?n.extend(c.style,{position:"absolute",width:"100%",height:"100%"}):n.extend(c.style,{cssFloat:"right",styleFloat:"right"}),c.onchange=function(){a(this.files),this.value=""},s=t.getElementById(e.settings.browse_button)){var h=e.settings.browse_button_hover,m=e.settings.browse_button_active,v=e.features.triggerDialog?s:r;h&&(n.addEvent(v,"mouseover",function(){n.addClass(s,h)},e.id),n.addEvent(v,"mouseout",function(){n.removeClass(s,h)},e.id)),m&&(n.addEvent(v,"mousedown",function(){n.addClass(s,m)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(s,m)},e.id)),e.features.triggerDialog&&n.addEvent(s,"click",function(n){var i=t.getElementById(e.id+"_html5");i&&!i.disabled&&i.click(),n.preventDefault()},e.id)}}),i.bind("PostInit",function(){var e=t.getElementById(i.settings.drop_element);if(e){if(f)return void n.addEvent(e,"dragenter",function(){var r,s,o;r=t.getElementById(i.id+"_drop"),r||(r=t.createElement("input"),r.setAttribute("type","file"),r.setAttribute("id",i.id+"_drop"),r.setAttribute("multiple","multiple"),n.addEvent(r,"change",function(){a(this.files),n.removeEvent(r,"change",i.id),r.parentNode.removeChild(r)},i.id),n.addEvent(r,"dragover",function(e){e.stopPropagation()},i.id),e.appendChild(r)),s=n.getPos(e,t.getElementById(i.settings.container)),o=n.getSize(e),"static"===n.getStyle(e,"position")&&n.extend(e.style,{position:"relative"}),n.extend(r.style,{position:"absolute",display:"block",top:0,left:0,width:o.w+"px",height:o.h+"px",opacity:0})},i.id);n.addEvent(e,"dragover",function(e){e.preventDefault()},i.id),n.addEvent(e,"drop",function(e){var t=e.dataTransfer;t&&t.files&&a(t.files),e.preventDefault()},i.id)}}),i.bind("Refresh",function(e){var r,a,s,o,l;r=t.getElementById(i.settings.browse_button),r&&(a=n.getPos(r,t.getElementById(e.settings.container)),s=n.getSize(r),o=t.getElementById(i.id+"_html5_container"),n.extend(o.style,{top:a.y+"px",left:a.x+"px",width:s.w+"px",height:s.h+"px"}),i.features.triggerDialog&&("static"===n.getStyle(r,"position")&&n.extend(r.style,{position:"relative"}),l=parseInt(n.getStyle(r,"zIndex"),10),isNaN(l)&&(l=0),n.extend(r.style,{zIndex:l}),n.extend(o.style,{zIndex:l-1})))}),i.bind("DisableBrowse",function(e,n){var i=t.getElementById(e.id+"_html5");i&&(i.disabled=n)}),i.bind("CancelUpload",function(){o&&o.abort&&o.abort()}),i.bind("UploadFile",function(t,i){function r(e,t,n){var i;if(!File.prototype.slice)return(i=File.prototype.webkitSlice||File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(r){return e.slice(t,n-t)}}function a(a){function l(){function g(e){if(o.sendAsBinary)o.sendAsBinary(e);else if(t.features.canSendBinary){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=255&e.charCodeAt(i);o.send(n.buffer)}}function p(r){var a,c=0,p="----pluploadboundary"+n.guid(),w="--",_="\r\n",x="";if(o=new XMLHttpRequest,o.upload&&(o.upload.onprogress=function(e){i.loaded=Math.min(i.size,u+e.loaded-c),t.trigger("UploadProgress",i)}),o.onreadystatechange=function(){var e,s;if(4==o.readyState&&t.state!==n.STOPPED){try{e=o.status}catch(c){e=0}if(e>=400)t.trigger("Error",{code:n.HTTP_ERROR,message:n.translate("HTTP Error."),file:i,status:e});else{if(h){if(s={chunk:d,chunks:h,response:o.responseText,status:e},t.trigger("ChunkUploaded",i,s),u+=b,s.cancelled)return void(i.status=n.FAILED);i.loaded=Math.min(i.size,(d+1)*v)}else i.loaded=i.size;t.trigger("UploadProgress",i),r=f=a=x=null,!h||++d>=h?(i.status=n.DONE,t.trigger("FileUploaded",i,{response:o.responseText,status:e})):l()}}},t.settings.multipart&&s.multipart){if(m.name=i.target_name||i.name,o.open("post",E,!0),n.each(t.settings.headers,function(e,t){o.setRequestHeader(t,e)}),"string"!=typeof r&&e.FormData)return a=new FormData,n.each(n.extend(m,t.settings.multipart_params),function(e,t){a.append(t,e)}),a.append(t.settings.file_data_name,r),void o.send(a);if("string"==typeof r)return o.setRequestHeader("Content-Type","multipart/form-data; boundary="+p),n.each(n.extend(m,t.settings.multipart_params),function(e,t){x+=w+p+_+'Content-Disposition: form-data; name="'+t+'"'+_+_,x+=unescape(encodeURIComponent(e))+_}),y=n.mimeTypes[i.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",x+=w+p+_+'Content-Disposition: form-data; name="'+t.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(i.name))+'"'+_+"Content-Type: "+y+_+_+r+_+w+p+w+_,c=x.length-r.length,r=x,void g(r)}E=n.buildUrl(t.settings.url,n.extend(m,t.settings.multipart_params)),o.open("post",E,!0),o.setRequestHeader("Content-Type","application/octet-stream"),n.each(t.settings.headers,function(e,t){o.setRequestHeader(t,e)}),"string"==typeof r?g(r):o.send(r)}var f,h,m,v,b,y,E=t.settings.url;i.status!=n.DONE&&i.status!=n.FAILED&&t.state!=n.STOPPED&&(m={name:i.target_name||i.name},c.chunk_size&&i.size>c.chunk_size&&(s.chunks||"string"==typeof a)?(v=c.chunk_size,h=Math.ceil(i.size/v),b=Math.min(v,i.size-d*v),f="string"==typeof a?a.substring(d*v,d*v+b):r(a,d*v,d*v+b),m.chunk=d,m.chunks=h):(b=i.size,f=a),t.settings.multipart&&s.multipart&&"string"!=typeof f&&e.FileReader&&s.cantSendBlobInFormData&&s.chunks&&t.settings.chunk_size?!function(){var e=new FileReader;e.onload=function(){p(e.result),e=null},e.readAsBinaryString(f)}():p(f))}var d=0,u=0;l()}var l,c=t.settings;l=h[i.id],s.jpgresize&&t.settings.resize&&/\.(png|jpg|jpeg)$/i.test(i.name)?u.call(t,i,t.settings.resize,/\.png$/i.test(i.name)?"image/png":"image/jpeg",function(e){e.success?(i.size=e.data.length,a(e.data)):s.chunks?a(l):d(l,a)}):!s.chunks&&s.jpgresize?d(l,a):a(l)}),i.bind("Destroy",function(e){var i,r,a=t.body,s={inputContainer:e.id+"_html5_container",inputFile:e.id+"_html5",browseButton:e.settings.browse_button,dropElm:e.settings.drop_element};for(i in s)r=t.getElementById(s[i]),r&&n.removeAllEvents(r,e.id);n.removeAllEvents(t.body,e.id),e.settings.container&&(a=t.getElementById(e.settings.container)),a.removeChild(t.getElementById(s.inputContainer))}),void r({success:!0})):void r({success:!1})}})}(window,document,plupload),function(e,t,n){function i(e){return t.getElementById(e)}n.runtimes.Html4=n.addRuntime("html4",{getFeatures:function(){return{multipart:!0,triggerDialog:n.ua.gecko&&e.FormData||n.ua.webkit}},init:function(r,a){r.bind("Init",function(a){function s(){var e,o,l,d;u=n.guid(),v.push(u),e=t.createElement("form"),e.setAttribute("id","form_"+u),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"),e.setAttribute("target",a.id+"_iframe"),e.style.position="absolute",o=t.createElement("input"),o.setAttribute("id","input_"+u),o.setAttribute("type","file"),o.setAttribute("accept",y),o.setAttribute("size",1),d=i(a.settings.browse_button),a.features.triggerDialog&&d&&n.addEvent(i(a.settings.browse_button),"click",function(e){o.disabled||o.click(),e.preventDefault()},a.id),n.extend(o.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"}),n.extend(e.style,{overflow:"hidden"}),l=a.settings.shim_bgcolor,l&&(e.style.background=l),b&&n.extend(o.style,{filter:"alpha(opacity=0)"}),n.addEvent(o,"change",function(t){var l,c=t.target,g=[];c.value&&(i("form_"+u).style.top="-1048575px",l=c.value.replace(/\\/g,"/"),l=l.substring(l.length,l.lastIndexOf("/")+1),g.push(new n.File(u,l)),a.features.triggerDialog?n.removeEvent(d,"click",a.id):n.removeAllEvents(e,a.id),n.removeEvent(o,"change",a.id),s(),g.length&&r.trigger("FilesAdded",g))},a.id),e.appendChild(o),h.appendChild(e),a.refresh()}function o(){var i=t.createElement("div");i.innerHTML='<iframe id="'+a.id+'_iframe" name="'+a.id+'_iframe" src="'+m+':&quot;&quot;" style="display:none"></iframe>',l=i.firstChild,h.appendChild(l),n.addEvent(l,"load",function(t){var i,r,s=t.target;if(d){try{i=s.contentWindow.document||s.contentDocument||e.frames[s.id].document}catch(o){return void a.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),file:d})}r=i.documentElement.innerText||i.documentElement.textContent,r&&(d.status=n.DONE,d.loaded=1025,d.percent=100,a.trigger("UploadProgress",d),a.trigger("FileUploaded",d,{response:r}))}},a.id)}var l,d,u,c,g,p,f,h=t.body,m="javascript",v=[],b=/MSIE/.test(navigator.userAgent),y=[],E=a.settings.filters;e:for(c=0;c<E.length;c++)for(g=E[c].extensions.split(/,/),f=0;f<g.length;f++){if("*"===g[f]){y=[];break e}p=n.mimeTypes[g[f]],p&&-1===n.inArray(p,y)&&y.push(p)}y=y.join(","),a.settings.container&&(h=i(a.settings.container),"static"===n.getStyle(h,"position")&&(h.style.position="relative")),a.bind("UploadFile",function(e,r){var a,s;r.status!=n.DONE&&r.status!=n.FAILED&&e.state!=n.STOPPED&&(a=i("form_"+r.id),s=i("input_"+r.id),s.setAttribute("name",e.settings.file_data_name),a.setAttribute("action",e.settings.url),n.each(n.extend({name:r.target_name||r.name},e.settings.multipart_params),function(e,i){var r=t.createElement("input");n.extend(r,{type:"hidden",name:i,value:e}),a.insertBefore(r,a.firstChild)}),d=r,i("form_"+u).style.top="-1048575px",a.submit())}),a.bind("FileUploaded",function(e){e.refresh()}),a.bind("StateChanged",function(t){t.state==n.STARTED?o():t.state==n.STOPPED&&e.setTimeout(function(){n.removeEvent(l,"load",t.id),l.parentNode&&l.parentNode.removeChild(l)},0),n.each(t.files,function(e){if(e.status===n.DONE||e.status===n.FAILED){var t=i("form_"+e.id);t&&t.parentNode.removeChild(t)}})}),a.bind("Refresh",function(e){var r,a,s,o,l,d,c,g,p;r=i(e.settings.browse_button),r&&(l=n.getPos(r,i(e.settings.container)),d=n.getSize(r),c=i("form_"+u),g=i("input_"+u),n.extend(c.style,{top:l.y+"px",left:l.x+"px",width:d.w+"px",height:d.h+"px"}),e.features.triggerDialog&&("static"===n.getStyle(r,"position")&&n.extend(r.style,{position:"relative"}),p=parseInt(r.style.zIndex,10),isNaN(p)&&(p=0),n.extend(r.style,{zIndex:p}),n.extend(c.style,{zIndex:p-1})),s=e.settings.browse_button_hover,o=e.settings.browse_button_active,a=e.features.triggerDialog?r:c,s&&(n.addEvent(a,"mouseover",function(){n.addClass(r,s)},e.id),n.addEvent(a,"mouseout",function(){n.removeClass(r,s)},e.id)),o&&(n.addEvent(a,"mousedown",function(){n.addClass(r,o)},e.id),n.addEvent(t.body,"mouseup",function(){n.removeClass(r,o)},e.id)))}),r.bind("FilesRemoved",function(e,t){var n,r;for(n=0;n<t.length;n++)r=i("form_"+t[n].id),r&&r.parentNode.removeChild(r)}),r.bind("DisableBrowse",function(e,n){var i=t.getElementById("input_"+u);i&&(i.disabled=n)}),r.bind("Destroy",function(e){var r,a,s,o={inputContainer:"form_"+u,inputFile:"input_"+u,browseButton:e.settings.browse_button};for(r in o)a=i(o[r]),a&&n.removeAllEvents(a,e.id);n.removeAllEvents(t.body,e.id),n.each(v,function(e){s=i("form_"+e),s&&s.parentNode.removeChild(s)})}),s()}),a({success:!0})}})}(window,document,plupload)});
;define("common:widget/oui/lib/plupload/1.5.7/jquery.plupload.queue",["require","exports","module","common:widget/oui/lib/plupload/1.5.7/css/jquery.plupload.queue.css","common:widget/oui/lib/plupload/1.5.7/plupload.full","common:widget/oui/lib/jquery/1.9.1/jquery"],function(l){l("common:widget/oui/lib/plupload/1.5.7/css/jquery.plupload.queue.css"),l("common:widget/oui/lib/plupload/1.5.7/plupload.full");var a=l("common:widget/oui/lib/jquery/1.9.1/jquery");!function(l){function a(l){return plupload.translate(l)||l}function e(e,d){d.contents().each(function(a,e){e=l(e),e.is(".plupload")||e.remove()}),d.prepend('<div class="plupload_wrapper plupload_scroll"><div id="'+e+'_container" class="plupload_container"><div class="plupload"><div class="plupload_header"><div class="plupload_header_content"><div class="plupload_header_title">'+a("Select files")+'</div><div class="plupload_header_text">'+a("Add files to the upload queue and click the start button.")+'</div></div></div><div class="plupload_content"><div class="plupload_filelist_header"><div class="plupload_file_name">'+a("Filename")+'</div><div class="plupload_file_action">&nbsp;</div><div class="plupload_file_status"><span>'+a("Status")+'</span></div><div class="plupload_file_size">'+a("Size")+'</div><div class="plupload_clearer">&nbsp;</div></div><ul id="'+e+'_filelist" class="plupload_filelist"></ul><div class="plupload_filelist_footer"><div class="plupload_file_name"><div class="plupload_buttons"><a href="#" class="plupload_button plupload_add">'+a("Add files")+'</a><a href="#" class="plupload_button plupload_start">'+a("Start upload")+'</a></div><span class="plupload_upload_status"></span></div><div class="plupload_file_action"></div><div class="plupload_file_status"><span class="plupload_total_status">0%</span></div><div class="plupload_file_size"><span class="plupload_total_file_size">0 b</span></div><div class="plupload_progress"><div class="plupload_progress_container"><div class="plupload_progress_bar"></div></div></div><div class="plupload_clearer">&nbsp;</div></div></div></div></div><input type="hidden" id="'+e+'_count" name="'+e+'_count" value="0" /></div>')}var d={};l.fn.pluploadQueue=function(p){return p?(this.each(function(){function t(a){var e;a.status==plupload.DONE&&(e="plupload_done"),a.status==plupload.FAILED&&(e="plupload_failed"),a.status==plupload.QUEUED&&(e="plupload_delete"),a.status==plupload.UPLOADING&&(e="plupload_uploading");var d=l("#"+a.id).attr("class",e).find("a").css("display","block");a.hint&&d.attr("title",a.hint)}function i(){l("span.plupload_total_status",u).html(o.total.percent+"%"),l("div.plupload_progress_bar",u).css("width",o.total.percent+"%"),l("span.plupload_upload_status",u).html(a("Uploaded %d/%d files").replace(/%d\/%d/,o.total.uploaded+"/"+o.files.length))}function s(){var e,d=l("ul.plupload_filelist",u).html(""),p=0;l.each(o.files,function(a,i){e="",i.status==plupload.DONE&&(i.target_name&&(e+='<input type="hidden" name="'+n+"_"+p+'_tmpname" value="'+plupload.xmlEncode(i.target_name)+'" />'),e+='<input type="hidden" name="'+n+"_"+p+'_name" value="'+plupload.xmlEncode(i.name)+'" />',e+='<input type="hidden" name="'+n+"_"+p+'_status" value="'+(i.status==plupload.DONE?"done":"failed")+'" />',p++,l("#"+n+"_count").val(p)),d.append('<li id="'+i.id+'"><div class="plupload_file_name"><span>'+i.name+'</span></div><div class="plupload_file_action"><a href="#"></a></div><div class="plupload_file_status">'+i.percent+'%</div><div class="plupload_file_size">'+plupload.formatSize(i.size)+'</div><div class="plupload_clearer">&nbsp;</div>'+e+"</li>"),t(i),l("#"+i.id+".plupload_delete a").click(function(a){l("#"+i.id).remove(),o.removeFile(i),a.preventDefault()})}),l("span.plupload_total_file_size",u).html(plupload.formatSize(o.total.size)),l("span.plupload_add_text",u).html(0===o.total.queued?a("Add files."):o.total.queued+" files queued."),l("a.plupload_start",u).toggleClass("plupload_disabled",o.files.length==o.total.uploaded+o.total.failed),d[0].scrollTop=d[0].scrollHeight,i(),!o.files.length&&o.features.dragdrop&&o.settings.dragdrop&&l("#"+n+"_filelist").append('<li class="plupload_droptext">'+a("Drag files here.")+"</li>")}var o,u,n;u=l(this),n=u.attr("id"),n||(n=plupload.guid(),u.attr("id",n)),o=new plupload.Uploader(l.extend({dragdrop:!0,container:n},p)),d[n]=o,o.bind("UploadFile",function(a,e){l("#"+e.id).addClass("plupload_current_file")}),o.bind("Init",function(d){e(n,u),!p.unique_names&&p.rename&&u.on("click","#"+n+"_filelist div.plupload_file_name span",function(a){var e,p,t,i=l(a.target),s="";e=d.getFile(i.parents("li")[0].id),t=e.name,p=/^(.+)(\.[^.]+)$/.exec(t),p&&(t=p[1],s=p[2]),i.hide().after('<input type="text" />'),i.next().val(t).focus().blur(function(){i.show().next().remove()}).keydown(function(a){var d=l(this);-1!==l.inArray(a.keyCode,[13,27])&&(a.preventDefault(),13===a.keyCode&&(e.name=d.val()+s,i.html(e.name)),d.blur())})}),l("a.plupload_add",u).attr("id",n+"_browse"),d.settings.browse_button=n+"_browse",d.features.dragdrop&&d.settings.dragdrop&&(d.settings.drop_element=n+"_filelist",l("#"+n+"_filelist").append('<li class="plupload_droptext">'+a("Drag files here.")+"</li>")),l("#"+n+"_container"),l("a.plupload_start",u).click(function(a){l(this).hasClass("plupload_disabled")||o.start(),a.preventDefault()}),l("a.plupload_stop",u).click(function(l){l.preventDefault(),o.stop()}),l("a.plupload_start",u).addClass("plupload_disabled")}),o.init(),o.bind("Error",function(e,d){var p,t=d.file;t&&(p=d.message,d.details&&(p+=" ("+d.details+")"),d.code==plupload.FILE_SIZE_ERROR&&alert(a("Error: 文件尺寸过大: ")+t.name),d.code==plupload.FILE_EXTENSION_ERROR&&alert(a("Error: 不允许上传该类型的文件: ")+t.name),t.hint=p,l("#"+t.id).attr("class","plupload_failed").find("a").css("display","block").attr("title",p))}),o.bind("StateChanged",function(){o.state===plupload.STARTED?(l("li.plupload_delete a,div.plupload_buttons",u).hide(),l("span.plupload_upload_status,div.plupload_progress,a.plupload_stop",u).css("display","block"),l("span.plupload_upload_status",u).html("Uploaded "+o.total.uploaded+"/"+o.files.length+" files"),p.multiple_queues&&l("span.plupload_total_status,span.plupload_total_file_size",u).show()):(s(),l("a.plupload_stop,div.plupload_progress",u).hide(),l("a.plupload_delete",u).css("display","block"))}),o.bind("QueueChanged",s),o.bind("FileUploaded",function(l,a){t(a)}),o.bind("UploadProgress",function(a,e){l("#"+e.id+" div.plupload_file_status",u).html(e.percent+"%"),t(e),i(),p.multiple_queues&&o.total.uploaded+o.total.failed==o.files.length&&(l(".plupload_buttons,.plupload_upload_status",u).css("display","inline"),l(".plupload_start",u).addClass("plupload_disabled"),l("span.plupload_total_status,span.plupload_total_file_size",u).hide())}),p.setup&&p.setup(o)}),this):d[l(this[0]).attr("id")]}}(a),plupload.addI18n({"Select files":"选择上传文件","Add files to the upload queue and click the start button.":"可以添加多个文件，每文件最大限制为3MB，文件格式为JPG,GIF,PNG格式图片以及.PDF格式文件",Filename:"文件名",Status:"状态",Size:"大小","Add files":"添加文件","Stop current upload":"停止删除","Start uploading queue":"开始上传","Drag files here.":'请拖入文件或点击"添加文件"',"Start upload":"开始上传","Uploaded %d/%d files":"已上传 %d/%d 文件","Error: Invalid file extension":"无效的文件格式","Error: File too large":"错误：文件大小超过设定"})});
;define("common:widget/oui/lib/simplePagination/1.5.0/simplePagination.nocmd",function(){!function(e){var a={init:function(t){var i=e.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",selectOnClick:!0,onPageClick:function(){},onInit:function(){}},t||{}),n=this;return i.pages=i.pages?i.pages:Math.ceil(i.items/i.itemsOnPage)?Math.ceil(i.items/i.itemsOnPage):1,i.currentPage=i.currentPage-1,i.halfDisplayed=i.displayedPages/2,this.each(function(){n.addClass(i.cssStyle+" simple-pagination").data("pagination",i),a._draw.call(n)}),i.onInit(),this},selectPage:function(e){return a._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data("pagination");return e.currentPage>0&&a._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data("pagination");return e.currentPage<e.pages-1&&a._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var t=this.data("pagination");return t.currentPage=e-1,this.data("pagination",t),a._draw.call(this),this},redraw:function(){return a._draw.call(this),this},disable:function(){var e=this.data("pagination");return e.disabled=!0,this.data("pagination",e),a._draw.call(this),this},enable:function(){var e=this.data("pagination");return e.disabled=!1,this.data("pagination",e),a._draw.call(this),this},updateItems:function(e){var t=this.data("pagination");t.items=e,t.pages=Math.ceil(t.items/t.itemsOnPage)?Math.ceil(t.items/t.itemsOnPage):1,this.data("pagination",t),a._draw.call(this)},updateItemsOnPage:function(e){var t=this.data("pagination");return t.itemsOnPage=e,this.data("pagination",t),a._selectPage.call(this,0),this},_draw:function(){var t,i=this.data("pagination"),n=a._getInterval(i);a.destroy.call(this);var s="UL"===this.prop("tagName")?this:e("<ul></ul>").appendTo(this);if(i.prevText&&a._appendItem.call(this,i.currentPage-1,{text:i.prevText,classes:"prev"}),n.start>0&&i.edges>0){var r=Math.min(i.edges,n.start);for(t=0;r>t;t++)a._appendItem.call(this,t);i.edges<n.start&&n.start-i.edges!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):n.start-i.edges==1&&a._appendItem.call(this,i.edges)}for(t=n.start;t<n.end;t++)a._appendItem.call(this,t);if(n.end<i.pages&&i.edges>0){i.pages-i.edges>n.end&&i.pages-i.edges-n.end!=1?s.append('<li class="disabled"><span class="ellipse">'+i.ellipseText+"</span></li>"):i.pages-i.edges-n.end==1&&a._appendItem.call(this,n.end++);var l=Math.max(i.pages-i.edges,n.end);for(t=l;t<i.pages;t++)a._appendItem.call(this,t)}i.nextText&&a._appendItem.call(this,i.currentPage+1,{text:i.nextText,classes:"next"})},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(t,i){var n,s,r=this,l=r.data("pagination"),p=e("<li></li>"),d=r.find("ul");t=0>t?0:t<l.pages?t:l.pages-1,n=e.extend({text:t+1,classes:""},i||{}),t==l.currentPage||l.disabled?(p.addClass(l.disabled?"disabled":"active"),s=e('<span class="current">'+n.text+"</span>")):(s=e('<a href="'+l.hrefTextPrefix+(t+1)+l.hrefTextSuffix+'" class="page-link">'+n.text+"</a>"),s.click(function(e){return a._selectPage.call(r,t,e)})),n.classes&&s.addClass(n.classes),p.append(s),d.length?d.append(p):r.append(p)},_selectPage:function(e,t){var i=this.data("pagination");return i.currentPage=e,i.selectOnClick&&a._draw.call(this),i.onPageClick(e+1,t)}};e.fn.pagination=function(t){return a[t]&&"_"!=t.charAt(0)?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.pagination"):a.init.apply(this,arguments)}}(jQuery)});
;define("common:widget/oui/lib/validation/1.11.1/jquery.validate.min",function(){!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return void delete e[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(""+new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format}(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(jQuery)});
;define("common:widget/oui/page",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery");t(function(){var i=e("common:widget/oui/common"),o=t("#pg-server-message");if(o.length>0){var n=o.data("status"),m=o.data("message"),a=o.data("ispop"),r={message:m};""!==n&&(0===n||"0"===n?(r.success=!0,a+""=="true"&&(r.link="http://www.we.com/event/catchnew_registerIndex.action",r.linkText="邀请好友投资即得100元红包，多邀多得，快快",r.linkTextEnd="邀请壕友")):r.error=!0,i.showMessage(r))}var s=t("#title-detail"),c=t("title").html();s.length>0&&t("title").html(s.html()+" -"+c),i.initPoptips()})});
;define("common:widget/oui/pages/about",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(i){function e(i){new n.List({name:i.name,api:i.api,pagination:!0}).init(o.loadJSON("#"+i.name+"-rsp"))}var t=i("common:widget/oui/lib/jquery/1.9.1/jquery"),o=i("common:widget/oui/common"),s=i("common:widget/oui/protocol"),n=i("common:widget/oui/widgets/widgets"),a={};if(t("#news-list").length>0)t.extend(a,{name:"news-list",api:s.API.getNews}),e(a);else if(t("#notices-list").length>0)t.extend(a,{name:"notices-list",api:s.API.getNotices}),e(a);else{var l=t("#pg-helper-notice-type").text();t(".detail").length>0&&("NOTICE"==l?jQuery(".sub li:eq(8)").addClass("active"):jQuery(".sub li:eq(7)").addClass("active"))}t(".about-list>li h5").hover(function(){"none"==t(this).siblings(".about-list-item").css("display")&&t(this).parent().addClass("hover")},function(){t(this).parent().removeClass("hover")}).on("click",function(){t(this).siblings(".about-list-item").toggle(),t(this).parent().removeClass("hover"),"none"==t(this).siblings(".about-list-item").css("display")&&t(this).parent().addClass("hover")}),t(".about-list .icon-snow-top").on("click",function(){t(this).parents(".about-list-item").hide()})});
;define("common:widget/oui/pages/account/account/addcard",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery"],function(i,t,a){var e=i("common:widget/oui/lib/jquery/1.9.1/jquery"),c=function(){function i(){e.ajax({url:"/citydb/citydb!listCitys.action",async:!1,dataType:"JSON",success:function(i){s=i}})}function t(){var t=["华北","东北","华东","中南","西南","西北"],a=[];"undefined"==typeof s&&i();var d=s;e.each(d.datas,function(i,t){a.push(t.province+"|"+t.region)}),a=o(a,function(i,t){return i.split("|")[0]===t.split("|")[0]}),a=n(a),v.empty().hide(),e.each(t,function(i,t){var a=e("<div class='areadiv' data="+t+"></div>");a.html(t),v.append(a)}),e.each(a,function(i,t){var a=t.split("|"),c=e("<span data-province="+a[0]+">"+a[0]+"</span>");e(".areadiv[data='"+a[1]+"']").append(c)}),v.undelegate("click").delegate("span","click",function(){var i=e(this).attr("data-province");c(e(this),i)}).show(),u.show()}function a(){e.each(l,function(i,t){var a="citydiv";t%5===4&&(a+=" city-item-col-5");var c=e("<a href='javascript:' class='"+a+"' data-city='"+t.city+"' data-value='"+t.id+"'>"+t.city+"</a>");g.append(c)}),g.undelegate("click").delegate("a","click",function(){var i=e(this).attr("data-city");r.val(i).trigger("blur"),h.val(e(this).attr("data-value")),u.hide()})}function c(i,t){{var a=s,c=[];i[0].offsetLeft,i[0].offsetTop}f.empty(),e.each(a.datas,function(i,a){a.province==t&&c.push({city:a.city,value:a.id})});{var n=e("<div class='city-province fn-clear'><em>省份</em></div>");e("<a class='J_close' href='javascript:'>"+t+" <i>X</i></a>").click(function(){p.hide()}).appendTo(n)}f.prepend(n);var o=e("<div class='city-province'><em>城市</em></div>");e.each(c,function(i,t){var a=e("<a class='citydiv' data-city='"+t.city+"' data-value='"+t.value+"'>"+t.city+"</a>");o.append(a)}),f.append(o),p.show(),f.undelegate("click").delegate("a.citydiv","click",function(){var i=e(this).attr("data-city");r.val(i).trigger("blur"),h.val(e(this).attr("data-value")),u.hide()})}function n(i){for(var t=[],a=[],c=[],n=[],o=[],d=0,s=i.length;s>d;d++)/北京市/.test(i[d])?t.push(i[d]):/市/.test(i[d])?a.push(i[d]):/区/.test(i[d])?n.push(i[d]):c.push(i[d]);return o=e.merge(t,a),o=e.merge(o,c),o=e.merge(o,n)}function o(i,t){var a,e,c=i.length,n=i.slice(0);for("function"!=typeof t&&(t=function(i,t){return i===t});--c>0;)for(e=n[c],a=c;a--;)if(t(e,n[a])){n.splice(c,1);break}return n}function d(){h=e("#cityid"),r=e("#bank_area"),u=e("<div class='probox'></div>").css({top:r[0].offsetHeight+6}).insertAfter(r),g=e("<div class='hotCitiesBox fn-clear' style='display:block;'></div>"),$allCitiesBox=e("<div class='allCitiesBox'></div>"),v=e("<div id='provincebox'></div>"),p=e("<div id='citybox'></div>"),y=e("<ul class='city-tab J_city_tab fn-clear'><li class='active' data-name='hot'>热门城市</li><li data-name='all'>省份城市</li></ul>").appendTo(u),f=e("<div id='cityboxcon'></div>"),p.append(f);e("<span class='close'>X</span>").click(function(){u.hide(),p.hide()}).appendTo(u);$allCitiesBox.append(v).append(p).parent().css("position","relative"),u.append(g).append($allCitiesBox),a(),r.bind("focus",function(){t(),e("#J_must_chooseBankArea").hide()}).bind("keyup",function(){this.value=""}),e(".J_city_tab").on("click","li",function(){e(this).addClass("active").siblings().removeClass("active"),g.hide(),$allCitiesBox.hide(),e("."+e(this).data("name")+"CitiesBox").show()}),e(document.body).click(function(i){"bank_area"==i.target.id||e(i.target).closest("div.probox").length||u.hide()})}var s,l,r,u,v,p,f,h,y,g;return l=[{city:"北京市",id:"906"},{city:"上海市",id:"994"},{city:"广州市",id:"812"},{city:"深圳市",id:"815"},{city:"成都市",id:"1024"},{city:"杭州市",id:"886"},{city:"苏州市",id:"870"},{city:"南京市",id:"866"},{city:"武汉市",id:"949"},{city:"重庆市",id:"842"},{city:"天津市",id:"1012"},{city:"东莞市",id:"803"},{city:"郑州市",id:"973"},{city:"西安市",id:"961"},{city:"福州市",id:"877"},{city:"温州市",id:"889"},{city:"长沙市",id:"1053"},{city:"厦门市",id:"879"}],{init:function(){d()}}}(),n=function(){function i(){var i=e.trim(n.val()),t=e.trim(e("#bank_area").val()),c=o.val();return c&&"other"!=c?t?void e.ajax({url:"/bankdb/bankdb!listBankDetails.action?t="+(new Date).getTime(),type:"POST",data:{city:d.val(),bank:c,key:i},dataType:"JSON",error:function(){alert("银行数据加载失败，请刷新后重试")},beforeSend:function(){a.html("<img src='images/loading.gif' />").show()},success:function(i){var t=i,c="";t.datas&&t.datas.length?e.each(t.datas,function(i,t){c+="<li>"+t.name+"</li>"}):c+="<p>没有匹配支行信息</p>",a.html(c),e(document.body).click(function(i){"bankKeySearchId"!==i.target.id&&"bankSearch"!=i.target.id&&a.hide()}),a.delegate("li","click",function(){var i=e(this).html();n.val(i).trigger("blur")}).delegate("li","mouseover",function(){e(this).addClass("selected")}).delegate("li","mouseout",function(){e(this).removeClass("selected")})}}):(e("#J_must_chooseBankArea").show(),void e("#J_must_chooseBankArea").next("label").remove()):void e("#J_must_chooseBank").show()}function t(){o=e("#selBankType"),c=e("#bankKeySearchId"),n=e("#cardDeposit"),a=e("<ul class='popBox bankSearch'></ul>").css({top:n[0].offsetHeight}).insertAfter(n),d=e("#cityid"),c.click(function(t){return i(),t.stopPropagation(),!1}),o.change(function(){n.val("")})}var a,c,n,o,d;return{init:function(){t()}}}(),o={pop:c,search:n};a.exports=o});
;define("common:widget/oui/pages/account/account/security",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/widgets/widgets"],function(e){function o(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/rsa/index"),i=e("common:widget/oui/widgets/widgets"),d=i.Form,a=function(){var e=t(".success"),o=t(".backBt");e.length&&(t(".content").delay(1e3).slideUp(),e.delay(1e3).slideDown(),o.on("click",function(){window.parent.location.reload()}),setTimeout(function(){window.parent.location.reload()},2e3))},c=t(".success").length,s=t("#modPswForm,#modCashPswForm,#findCashPswFormStepOneForm,#findCashPswFormStepTwoForm,#modMobileByPhoneStepOneForm,#modMobileByPhoneStepTwoForm,#modMobileByIdStepOneForm,#modMobileByIdStepTwoForm,#emailUpdateByOldStepOneForm,#emailUpdateByOldStepTwoForm,#emailUpdateByMobileStepOneForm,#setIdForm,#setEmailForm,#setMobileForm,#setCashPwdForm,#setNickNameForm");t("#reSendMail").click(function(e){t.get(t(this).attr("href"),function(){d.msg("#reSendMail","验证码发送成功,请去邮箱查收")}),e.preventDefault()}),s.length&&d.validate({target:"#"+s[0].id,before:function(){t("#getMobileCode").length&&(d.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=other&phone=",{onStart:function(){o(t("#getMobileCode"),!1)},onClear:function(){o(t("#getMobileCode"),!0)}}),d.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=other&phone=",{onStart:function(){t(".voice").show(),o(t("#getVoiceCode"),!1)},onClear:function(){o(t("#getVoiceCode"),!0)}})),t("#getMobileCodeWithoutMobile").length&&(d.sendPhoneCode("phone","getVoiceCode","/account/bindMobile!sendOrigionalPhoneCode.action?type=VOICE&checkCode=other",{onStart:function(){o(t("#getMobileCodeWithoutMobile"),!1)},onClear:function(){o(t("#getMobileCodeWithoutMobile"),!0)}}),d.sendPhoneCode("","getMobileCodeWithoutMobile","/account/bindMobile!sendOrigionalPhoneCode.action?&checkCode=other",{onStart:function(){t(".voice").show(),o(t("#getVoiceCode"),!1)},onClear:function(){o(t("#getVoiceCode"),!0)}})),t("#randImage").length&&d.randImage()},validateData:{submitHandler:function(e){var o=t("input[type=password]",e);"undefined"!=typeof n&&o.each(function(){t(this).val(n(t(this).val()))}),c?d.ajaxSubmit(t(e),{msgafter:"#"+s.find("input[type='submit']")[0].id,success:function(e){o.each(function(){t(this).val("")}),this.msg(e.message,"warn"),0===e.status&&a()}}):e.submit()}}})});
;define("common:widget/oui/pages/account/account/userbank",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/pages/account/account/addcard","common:widget/oui/widgets/widgets","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){function o(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var n,i,t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/pages/account/account/addcard"),c=e("common:widget/oui/widgets/widgets"),d=e("common:widget/oui/arale/dialog/1.3.3/dialog"),r=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),s=(t("#getMobileCode"),c.Form);t(function(){function e(e){var n={cardNum:o(e)},a=r.compile(t("#dialog-confirmBankNum").html()),c=a(n);i=new d({content:c,width:500,closeTpl:"",hasMask:{hideOnClick:!1}}).show()}function o(e){return e.replace(/\d{4}/g,function(e){return e+" "})}var n,i,c=!0;a.pop.init(),a.search.init(),t("#close").click(function(){t(".ui-dialog-close",parent.document).trigger("click")}),t("body").on("click","#card-confirm",function(){i.hide(),c=!1,n=t("#cardId").val(),t("form").submit()}),t("body").on("click","#card-cancel",function(){i.hide(),t("#cardId").focus(),c=!0,n=t("#cardId").val()}),s.validate({validateData:{submitHandler:function(o){t("#J_must_chooseBankArea").hide(),s.ajaxSubmit(t(o),{beforeSend:function(){var o=t("#cardId").val(),i=s.is.isLuhn(o);return n&&n!=o&&(c=!0),c&&!i?(e(o),!1):void 0},success:function(e){0===e.status?(t("#J_addCardSuccess").show(),new d({width:"500px",content:t("#J_addCardSuccess")}).after("show",function(){var e=this;t(".J_close","#J_addCardSuccess").click(function(){e.hide()})}).after("hide",function(){parent.location.reload()}).show()):t("#serverMsg").html(e.message)}})}}}),t("#cardId").on("keydown",function(e){return(e.keyCode<48||e.keyCode>57)&&8!=e.keyCode&&(e.keyCode<96||e.keyCode>105)?!1:void t(".J_friendTip").show()}),t("#cardId").on("keyup",function(){t(".J_friendTip").html(o(t(this).val()))}),t("#cardId").on("focus",function(){""!==t("#cardId").val()&&t(".J_friendTip").show()}),t("#cardId").on("blur",function(){t(".J_friendTip").hide()})}),i=s.sendPhoneCode("","getMobileCode","/account/bindMobile!sendOrigionalPhoneCode.action?&checkCode=other",{onStart:function(){o(t("#getVoiceCode"),!1),t("#voiceCodeBox").show()},onClear:function(){o(t("#getVoiceCode"),!0)},unDisabled:!0}),n=s.sendPhoneCode("","getVoiceCode","/account/bindMobile!sendOrigionalPhoneCode.action?type=VOICE&checkCode=other",{onStart:function(){o(t("#getMobileCode"),!1)},onClear:function(){o(t("#getMobileCode"),!0)},unDisabled:!0}),t(document).click(function(e){var o=e.target;t(o).parent("span").hasClass("arrow")||t(o).parent("div").hasClass("J_select_btn")||t(o).closest("div.J_popBankBox").length||t(".J_popBankBox").css("display","none")}),t(".J_select_btn").click(function(e){t(".J_popBox").css("display","none");var o=t(e.currentTarget).parent().find(".J_popBankBox");"block"==o.css("display")?o.css("display","none"):o.css("display","block")}),t(".J_chooseOtherBank").click(function(){var e="选择其他银行"==t(this).text()?"收起":"选择其他银行";t(this).text(e),t(".J_otherBankList").toggle()}),t(".J_popBankBox li").click(function(e){var o=t(e.currentTarget).attr("datavalue"),n=t(e.currentTarget).html(),i=t(e.currentTarget).parent().parent().parent();t("#selBankType").attr("value",o),t(".J_popBankBox").hide(),i.find(".J_txt").html(n),t("#J_must_chooseBank").hide(),t("#selBankType").blur()})});
;define("common:widget/oui/pages/account/account/userbasic",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/widgets/widgets"),o=e("common:widget/oui/arale/dialog/1.3.3/dialog"),s=i.Form;t(function(){var e=t("#userInfoForm"),i=e.clone();i.find("input,select,a.photo").each(function(){if("radio"==this.type)this.value="",this.checked||t(this).parent("em").remove(),t(this).remove();else if("submit"==this.type||"hidden"==this.type)t(this).remove();else if("A"==this.tagName.toUpperCase()&&"modUserPhoto"==this.id)t(this).attr("href","#");else{var e=t(this).val();t(this).after(e).remove()}}),e.hide().after(i),t("#modiForm").click(function(){"修改信息"!=t(this).text()?(i.show(),e.hide(),t(this).html("修改信息")):(i.hide(),e.show(),t(this).html("取消修改"))}),new o({trigger:"#modUserPhoto",width:"550px",height:/msie 6/i.test(navigator.userAgent)?"550px":"220px"}).before("show",function(){this.set("content",this.activeTrigger.attr("href"))}).after("hide",function(){}),s.validate({validateData:{submitHandler:function(e){s.ajaxSubmit(t(e),{msgafter:"#"+t(e).find("input[type='submit']")[0].id,success:function(e){this.msg(e.message,"warn"),0===e.status&&setTimeout(function(){location.reload()},1500)}})}}})})});
;define("common:widget/oui/pages/account/bill",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(o){var t=o("common:widget/oui/lib/jquery/1.9.1/jquery");opt={monthList:t(".ui-list-month ul"),monthBt:t(".ui-list-month p")},opt.monthBt.on("click",function(o){opt.monthList.toggle(),o.stopPropagation()}),t("body").on("click",function(){opt.monthList.hide()})});
;define("common:widget/oui/pages/account/borrow/applications",["require","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(o){var i=o("common:widget/oui/common"),t=o("common:widget/oui/protocol"),n=o("common:widget/oui/widgets/widgets");new n.List({name:"applications",api:t.API.getUserLoanApplicationRecords,title:!0,pagination:!0}).init(i.loadJSON("#applications-rsp",!0))});
;define("common:widget/oui/pages/account/borrow/repayments",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/common"),i=e("common:widget/oui/protocol"),n=e("common:widget/oui/widgets/widgets"),r=function(e){t.extend(this,{container:e.container,_checked:{start:0,end:0,count:0}}),this.loanId=this.container.data("loan-id"),this._ui={repaySwitch:this._elem("repay-switch"),repayBox:this._elem("repay-box"),repayList:this._elem("repayment-records"),repayAvailable:this._elem("repay-available-amount"),repayAmount:this._elem("repay-amount"),repayHint:this._elem("repay-hint"),repayInputCount:this._elem("repay-input-count"),repayInputStart:this._elem("repay-input-start"),repayInputEnd:this._elem("repay-input-end"),repaySubmit:this._elem("repay-submit"),repayForm:this._elem("repay-form"),repayAllSwitch:this._elem("repay-all-switch"),repayAllBox:this._elem("repay-all-box"),repayAllAvailable:this._elem("repay-all-available-amount"),repayAllAmount:this._elem("repay-all-amount"),repayAllHint:this._elem("repay-all-hint"),repayAllSubmit:this._elem("repay-all-submit"),repayAllForm:this._elem("repay-all-form")}};t.extend(r.prototype,{init:function(){var e=this,a=this._ui;a.repaySwitch.click(function(){e._switchClicked(t(this))}),a.repayAllSwitch.click(function(){a.repayAllSwitch.hasClass("disabled")||e._switchClicked(t(this))});var i=location.search.substring(1).split("=");return"pageFlag"==i[0]&&a.repaySwitch.click(),this},_initRepay:function(){var e=this,a=this._ui,r=this.loanId,l=i.translator;new n.List({container:a.repayList,name:"repayment-records",api:i.API.getUserLoanRepaymentRecords,title:!0,rendered:function(a){e._elem("repay-term-checking").change(function(){e._checkboxClicked(t(this))}),0===a.status&&(e._elem("repaid-summary").children("em").text(l._fixedFloat2(a.data.alreadyPayTotalAmount)),e._elem("to-repay-summary").children("em").text(l._fixedFloat2(a.data.notPayTotalAmount)))}}).init()._update({loanId:r},function(e){0===e&&a.repayBox.data("status","initialized")}),a.repayForm.submit(function(){return"0.00"==a.repayAmount.children("em").text()&&a.repayHint.text("请选择还款期").show(),a.repaySubmit.hasClass("disabled")?!1:!0})},_initRepayAll:function(){var e=this._ui,t=parseFloat(e.repayAllAmount.data("amount"),10),a=parseFloat(e.repayAllAvailable.data("amount"),10);t>a&&(e.repayAllSubmit.addClass("disabled"),e.repayAllHint.text("您的余额不足，请先充值")),e.repayAllForm.submit(function(){return e.repayAllSubmit.hasClass("disabled")?!1:!0})},_elem:function(e){return this.container.find('[data-name="'+e+'"]')},_switchClicked:function(e){var t="repay",a="repayAll";"repay-all-switch"==e.data("name")&&(t="repayAll",a="repay");var i="repay"==t?"_initRepay":"_initRepayAll",n=this._ui[t+"Switch"],r=this._ui[t+"Box"],l=this._ui[a+"Switch"],s=this._ui[a+"Box"];n.hasClass("active")?(this.container.removeClass("active"),n.removeClass("active"),n.text(n.data("text")),r.hide()):(l.hasClass("active")&&(l.removeClass("active"),l.text(l.data("text")),s.hide()),this.container.addClass("active"),n.addClass("active"),n.text("取消"),r.show(),"initialized"!=r.data("status")&&this[i]())},_checkboxClicked:function(e){var a=this,n=this._ui;a._elem("repay-term-checking").each(function(i,n){var r=t(n),l=parseInt(e.val(),10),s=parseInt(r.val(),10);l>s?(r.prop("checked",!0),r.attr("checked","checked")):s==l?a._checked.end>l&&!e.prop("checked")&&(r.prop("checked",!0),r.attr("checked","checked")):(r.prop("checked",!1),r.removeAttr("checked"))}),a._checked.count=0,a._checked.start=0,a._checked.end=0;var r=0,l=null,s=parseFloat(n.repayAvailable.data("amount"),10);a._elem("repay-term-checking").each(function(e,i){var n=t(i),s=parseInt(n.val(),10);n.prop("checked")&&(0===a._checked.start&&(a._checked.start=s),a._checked.end=s,a._checked.count++,l=n.closest("li").find(".to-repay-amount em"),r+=parseFloat(l.text(),10))}),r>s?(n.repaySubmit.addClass("disabled"),n.repayHint.text("您的余额不足，请先充值").show()):(n.repaySubmit.removeClass("disabled"),n.repayHint.text("").hide()),0===r?n.repaySubmit.addClass("disabled"):n.repaySubmit.removeClass("disabled"),n.repayAmount.children("em").text(i.translator._fixedFloat2(r)),n.repayInputCount.val(a._checked.count),n.repayInputStart.val(a._checked.start),n.repayInputEnd.val(a._checked.end)}}),new n.List({name:"repaying-list",api:i.API.getUserRepayingRecords,title:!0,pagination:!0,rendered:function(e){var a=this.container;if(a.children('li[data-name="repaying-item"]').each(function(e,a){new r({container:t(a)}).init()}),e.data&&e.data.data.length)for(var i=0;i<e.data.data.length;i++)e.data.data[i].termsLeft&&1==e.data.data[i].termsLeft&&t(".J_repayment-payback",a).eq(i).addClass("fn-hide")}}).init(a.loadJSON("#repaying-list-rsp",!0)),new n.Tab({tabsContainer:t("#repayments-tab"),contentsContainer:t("#repayments-tab-content"),switched:function(e,t,a){return a?!0:("repaid"==t&&new n.List({name:"repaid-list",api:i.API.getUserRepaidRecords,title:!0,pagination:!0}).init()._update(),!0)}}).init()});
;define("common:widget/oui/pages/account/borrow/statistics",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(a){var t=a("common:widget/oui/lib/jquery/1.9.1/jquery"),e=a("common:widget/oui/common"),o=a("common:widget/oui/protocol");a("common:widget/oui/lib/highcharts/3.0.5/highcharts");var r=o.translator,l=["#3488ad","#1bb8e2","#aabc64","#ffc400","#f78800","#e52012","#f01f5a"],i=function(a){return l[a%7]},c=function(a){return parseFloat(r._bankersRound(a))},n=e.loadJSON("#stat-rsp",!0),d=n.data.loanAmountMap,s={stats:[]},u=0;t.each(d,function(a,t){var e={};"total"==a?a="总计":e.data=!0,e.label=a,e.value=r._fixedFloat2(t),e.formattedValue=r._commaFloat(t),u+=1,e.style=u%2==1?"rrdcolor-paleblue3-bg":"rrdcolor-paleblue2-bg",s.stats.push(e)}),e.fillTemplate({container:t("#succeeded-data"),template:t("#stat-template"),data:s});var m=n.data.repayAmountMap,p={stats:[]};u=0,t.each(m,function(a,t){var e={};"total"==a?a="总计":(a=a.replace("-","年")+"月",e.data=!0),e.label=a,e.value=r._fixedFloat2(t),e.formattedValue=r._commaFloat(t),u+=1,e.style=u%2==1?"rrdcolor-paleblue3-bg":"rrdcolor-paleblue2-bg",p.stats.push(e)}),e.fillTemplate({container:t("#half-year-data"),template:t("#stat-template"),data:p});var h=function(a){var e=[],o=0,r=t("#"+a+"-data");r.find('[data-name="category"]').each(function(a,r){var l=t(r),n=l.data("category"),d=l.data("value");"string"==typeof d&&(d=parseFloat(d,10)),0!==d&&e.push({name:n,y:c(d),color:i(o)}),o+=1});var l=t("#"+a+"-chart");0===e.length?l.addClass("empty").text(l.data("empty")):l.highcharts({chart:{type:"pie"},title:{text:l.data("title")},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},credits:{enabled:!1},series:[{name:"金额",data:e}]})},g=function(a){var e=[],o=[],r=t("#"+a+"-data");r.find('[data-name="category"]').each(function(a,r){e.push(t(r).data("category")),o.push(parseFloat(t(r).data("value"),10))});var l=t("#"+a+"-chart");l.highcharts({chart:{type:"column"},title:{text:l.data("title")},legend:!1,xAxis:{categories:e},yAxis:{title:!1},credits:{enabled:!1},series:[{name:"金额",data:o,color:i(0)}]})};h("overall"),h("to-repay"),h("repaid"),g("succeeded"),g("half-year")});
;define("common:widget/oui/pages/account/capital/recharge",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){function a(){var e=r("#rechargePoundage"),a=r("#rechargePay"),t=r("#rechargeFree").is(":checked"),o=r.trim(r("#rechargeAmount").val()),i=r("#payFeeType").val(),n="checkin";h.is.isAmount(o)&&r.ajax({url:"/my/getCashFee.action",cache:!1,dataType:"json",data:{amount:o,type:n,payCategory:i,couponlog:t},timeout:1e4,success:function(t){{var o=parseFloat(t.fe).toFixed(2),i=parseFloat(t.cal).toFixed(2);parseFloat(t.balance).toFixed(2)}e.html("￥"+h.comma(o)),a.html("￥"+h.comma(i))}})}function t(e,a,t){var o="";null!==t&&(o=new Date((new Date).getTime()+36e5*t),o="; expires="+o.toGMTString()),document.cookie=e+"="+escape(a)+o}function o(e){var a="",t=e+"=";return document.cookie.length>0&&(offset=document.cookie.indexOf(t),-1!=offset&&(offset+=t.length,end=document.cookie.indexOf(";",offset),-1==end&&(end=document.cookie.length),a=unescape(document.cookie.substring(offset,end)))),a}function i(e){var a=[];return r.each(e,function(e,t){t&&a.push(t)}),a.length>4&&(a.length=4),a}function n(e,a){var t=r("#rechargeBank-list-template").html(),o=u.compile(t),i=o(a);e.html(i),a.rows.length>5&&r('<li class="J_show_more_banks"><a href="javascript:">更多银行</a></li>').insertAfter(e.find("li").eq(5))}function s(e,a){var t={};t.rows=[],t.updateCode=[];for(var o=0;o<a.length;o++)for(var i in e)if(a[o]==e[i].code){e[i].bankInfoId="recent"+o,t.rows.push(e[i]),t.updateCode.push(e[i].code),delete e[i];break}return t}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=e("common:widget/oui/arale/dialog/1.3.3/dialog"),c=e("common:widget/oui/arale/tip/1.1.4/tip"),d=e("common:widget/oui/widgets/widgets"),u=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),h=d.Form;r(function(){function e(e){var a=e.find("li:first"),t=a.data("type");a.siblings().removeClass("active"),a.addClass("active"),g.val(t),u.val(a.data("value")),d=a.data("value"),r(".banks-limit-table table").hide(),r("."+a.data("value")+"-table").show()}var d,u=r("#bankId"),g=r("#paytype"),m=(r("#bankList").find("dl").eq(0).hide(),r(".e-banks-list")),f=r(".c-banks-list"),p={rows:[]},w=i(o("cd").split(",")),b=r("#rechargeBank-list-rsp").html(),v=[{fullName:"快钱",payChannelStr:"QUICKPAY",code:"QUICKPAY",bankInfoId:"q1",logo:"/static/img/banks30/checkin_kq.jpg"},{fullName:"财付通",payChannelStr:"TENPAY",code:"TENPAY",bankInfoId:"q4",logo:"/static/img/banks30/tenpay.jpg"},{fullName:"易宝",payChannelStr:"YEEPAY",code:"YEEPAY",bankInfoId:"q3",logo:"/static/img/banks30/yeepay.jpg"}],k={rows:v};b=r.parseJSON(b);for(var y=0;y<b.data.rows.length;y++){var C={};C.payChannelStr=b.data.rows[y].payChannelStr,C.code=b.data.rows[y].code,C.bankInfoId=b.data.rows[y].bankInfoId,C.fullName=b.data.rows[y].fullName,C.logo=b.data.rows[y].logo.replace(/banks/,"banks30"),C.className=5>y?"":"fn-hide",p.rows.push(C)}var I=r.merge(b.data.rows,v),N=s(I,w);if(N.rows.length){for(var q=0,y=0;y<p.rows.length;y++)N.rows[0].code==p.rows[y].code&&(q=y);var A=p.rows[q].className;p.rows[q].className="",0!=q&&(p.rows[4].className=A);var F=p.rows.slice(q,q+1)[0];p.rows.splice(q,1),p.rows.unshift(F)}n(m,p),n(f,k),e(r(".e-banks-list")),r("li",".J_recharge-title").click(function(){r(this).addClass("active").siblings().removeClass("active"),r(".e-banks-list,.c-banks-list").hide(),r("."+r(this).data("way")+"-list").show(),e(r("."+r(this).data("way")+"-list"))}),r(".J_show_more_banks").on("click",function(){r(this).siblings().removeClass("fn-hide"),r(this).remove()}),r("li:not('.J_show_more_banks')",".recharge-banks").on("click",function(){r(this).siblings().removeClass("active"),r(this).addClass("active");var e=r(this).data("type");g.val(e),u.val(r(this).data("value")),d=r(this).data("value"),r(".banks-limit-table table").hide(),r("."+r(this).data("value")+"-table").show()});var _=h.validate();r("#rechargeAmount").on("keyup blur",function(){a()}),r("#rechargeFree").click(function(){a()}),r("#sub-recharge").click(function(e){return r("form").submit(),_.valid()?(new l({width:"500px",hasMask:{hideOnClick:!0},content:r("#afterSub")}).show(),-1===r.inArray(d,N.updateCode)&&(w=r.merge([d],N.updateCode)),t("cd",i(w).toString(),8640),void e.preventDefault()):!1}),r("#finishRecharge").click(function(){location.reload()}),r("#troubleRecharge").click(function(){location.reload()}),new c({element:"#tipCon",trigger:"#tips",direction:"right"}),r("#tips2").length&&new c({element:"#tipCon2",trigger:"#tips2",direction:"right"})})});
;define("common:widget/oui/pages/account/capital/transactions",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/common"),n=e("common:widget/oui/protocol"),o=e("common:widget/oui/widgets/widgets"),r=a.loadJSON("#transactions-rsp",!0),i=new o.List({name:"transactions",api:n.API.getUserTransactions,title:!0,pagination:!0}).init(r);t("#query-switch").click(function(){var e=t(this);"normal"==e.data("current")?(e.text("切换到普通查询"),e.data("current","advanced"),t("#query-normal").hide(),t("#query-advanced").show()):(e.text("切换到高级查询"),e.data("current","normal"),t("#query-advanced").hide(),t("#query-normal").show())});var c,s=2010,m=parseInt(t("#pg-helper-year").text(),10),l=parseInt(t("#pg-helper-month").text(),10),d=t('select[name="year"]'),u=t('select[name="startMonth"], select[name="endMonth"]'),p=t('select[name="startMonth"]'),v=t('select[name="endMonth"]'),h=function(e){return'<option value="'+e+'">'+e+"</option>"},g=function(e){return parseInt(e.val(),10)};for(c=m-1;c>=s;c--)d.append(h(c));for(c=1;l>=c;c++)u.append(h(c));d.change(function(){var e=g(d),t=g(p),a=g(v),n=e==m?l:12;for(u.empty(),c=1;n>=c;c++)u.append(h(c));p.val(l>=t?t:1),v.val(l>=a?a:1)}),p.change(function(){var e=v.val(),a=g(d)==m?l:12;for(v.empty(),c=g(t(this));a>=c;c++)v.append(h(c));v.val(e)}),v.change(function(){var e=p.val();for(p.empty(),c=1;c<=g(t(this));c++)p.append(h(c));p.val(e)});var f=function(){var e={type:t('select[name="type"]').val()};return t("#query-normal").is(":visible")?e.time=t('select[name="time"]').val():(e.year=t('select[name="year"]').val(),e.startMonth=t('select[name="startMonth"]').val(),e.endMonth=t('select[name="endMonth"]').val()),e},y=r.status,w=t.param(f()),q=t("#export"),M=t("#export").attr("href");t("#export").attr("href",M+"?"+w),t("#query-submit").click(function(){var e=f(),a=t.param(e);(w!=a||0!==y)&&(i._params=e,i._update(e,function(e){y=e,w=a,0===e?(q.attr("href",M+"?"+w),q.removeClass("disabled")):(q.removeAttr("href"),q.addClass("disabled"))}))})});
;define("common:widget/oui/pages/account/capital/withdraw",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/common","common:widget/oui/widgets/widgets"],function(a){var t=a("common:widget/oui/lib/jquery/1.9.1/jquery"),e=a("common:widget/oui/rsa/index"),i=a("common:widget/oui/arale/dialog/1.3.3/dialog"),n=a("common:widget/oui/lib/handlebars/1.0.0/handlebars"),o=a("common:widget/oui/arale/tip/1.1.4/tip"),s=(a("common:widget/oui/common"),a("common:widget/oui/widgets/widgets")),r=s.Form;t(function(){function a(a){var e=[];e.push('<div class="bank-logo"><img src="other/./static/img/banks35/code_'+a.bankCode+'.jpg" /></div>'),e.push('<span class="card-tail-number">'+a.tailNumber+"</span>"),t(".bank-logo,.card-tail-number",".J_default-bank").remove(),t(".J_default-bank").prepend(e.join("")),a.isFailLastCashDraw?t(".J_error-tips").removeClass("fn-hide"):t(".J_error-tips").addClass("fn-hide"),t("#userBankId").data("index",a.cordIndex).val(a.userBankId)}function s(){var a="更换"==t(".J_change_card").find("span").text()?"收起":"更换";t(".J_change_card").find("span").text(a),t(".J_change_card").find("i").toggleClass("active")}function d(){var a=t("#withdrawAmount").val();if(0>=a)return t("#withdrawFee").html("0.00"),t("#withdrawReal").html("0.00"),t(".J_withdrawReal").html("0.00"),t(".J_withdrawFee").html("0.00"),void t(".J_withdrawAmout").html("0.00");t(".J_withdrawAmout").html("￥"+r.comma(parseFloat(a)));var e="cashDraw";t.ajax({url:"/my/getCashFee.action?amount="+a+"&type="+e,cache:!1,dataType:"json",timeout:1e4,success:function(a){var e=t("#withdrawAmount").val();a.cal<e||(t("#totalAmount").val(r.comma(a.balance)),t("#withdrawFee").html(r.comma(a.fe)),t("#withdrawReal").html(r.comma(a.cal)),t(".J_withdrawReal").html("￥"+r.comma(a.cal)),t(".J_withdrawFee").html(r.comma(a.fe)+".00"))}})}t(".J_change_card").on("click",function(){s(),t(".J_card_list").toggleClass("fn-hide")}),t("#withdrawAmount").val(""),t("#cashPassword").val(""),d();var c=t("#withdraw-list-rsp").html();c=t.parseJSON(c);var l=[],u={};if(0!=c.data.userBanks.length){t(".J_no_bank").addClass("fn-hide"),t(".J_default-bank").removeClass("fn-hide");for(var h=0;h<c.data.userBanks.length;h++){var m=c.data.userBanks[h],w={};w.userBankId=m.userBankId,w.bankCode=m.bankCode,w.tailNumber=m.dealCardId.slice(-4),w.bankNumber="**** **** **** "+m.dealCardId.slice(-4),w.isFailLastCashDraw=m.isFailLastCashDraw,w.cordIndex=h,l.push(w)}u.userBanks=l,a(l[0]);var f=t("#withdraw-list-template").html(),g=n.compile(f),_=g(u);t("#J_banklis").append(_)}t(document).click(function(a){var e=a.target;t(e).parent("a").hasClass("J_change_card")||t(e).hasClass("J_change_card")||(t(".J_card_list").addClass("fn-hide"),t(".J_change_card").find("span").text("更换"),t(".J_change_card").find("i").removeClass("active"))}),t(".J_card_list").on("click","a.bankli",function(){t(".J_card_list").addClass("fn-hide"),s(),a(l[t(this).data("index")])}),r.validate({before:function(){jQuery.validator.addMethod("isEnough",function(a,e){return this.optional(e)||parseFloat(t("#totalAmount").val())>=0},r.err.required)},validateData:{submitHandler:function(a){return t(a).find("input[name=cashPassword]").val(e(t(a).find("input[name=cashPassword]").val())),/^[0-9]*(\.[0-9]{1,2})?$/.test(t("#withdrawAmount").val())?parseFloat(t("#canUseCash").val())-parseFloat(t("#withdrawAmount").val())<0?(r.msg("#subWithdraw","您的账户余额不足","warn"),t("#withdrawAmount").focus(),t("#cashPassword").val(""),!1):(t("#J_sureWithdraw").show(),void new i({width:"650px",content:t("#J_sureWithdraw")}).after("hide",function(){t("#cashPassword").val("")}).after("show",function(){var e=this,n=l[t("#userBankId").data("index")];t(".J_bankNumber").text(n.bankNumber),t(".J_bankLogo").attr("src","../../../../static/img/banks30/code_"+n.bankCode+".jpg"),t(".J_close","#J_sureWithdraw").click(function(){e.hide()});var o=!1;t(".J_submit_btn").click(function(){o||(o=!0,r.ajaxSubmit(t(a),{msgafter:"#subWithdraw",success:function(n){e.hide(),t(a).find("input[name=cashPassword]").val(""),0===n.status?(t("#J_apply_success").show(),new i({width:"650px",content:t("#J_apply_success")}).after("show",function(){var a=this;t(".J_close","#J_apply_success").click(function(){a.hide()})}).after("hide",function(){location.reload()}).show()):this.msg(n.message,"warn")}}))})}).show()):(r.msg("#subWithdraw","请输入正确的金额","warn"),t("#withdrawAmount").focus(),t("#cashPassword").val(""),!1)}}}),t(".addBank").on("click",function(){return l.length>=10?(t("#J_moreTenCards").show(),new i({width:"650px",content:t("#J_moreTenCards")}).after("show",function(){var a=this;t(".J_close","#J_moreTenCards").click(function(){a.hide()})}).show()):new i({trigger:".addBank",height:"595px",width:"650px"}).before("show",function(){this.set("content",this.activeTrigger.attr("href"))}).after("hide",function(){this.destroy()}).show(),!1}),t(".ui-term-placeholder").click(function(){t("#withdrawAmount").focus()}),t("#withdrawAmount").focusin(function(){t(".ui-term-placeholder").is(":visible")&&t(".ui-term-placeholder").hide()}).focusout(function(){""===t("#withdrawAmount").val()&&t(".ui-term-placeholder").show()}),new o({element:"#tipCon",trigger:"#tips",direction:"right"});var p;t("#withdrawAmount").on("keyup blur",function(){if(clearTimeout(p),p=setTimeout(d,250),t(this).val().length>15){var a=t(this).val().substring(0,15);t(this).val(a)}})})});
;define("common:widget/oui/pages/account/coupons/bindcoupon",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/dialog/1.3.3/dialog"],function(o){var i=o("common:widget/oui/lib/jquery/1.9.1/jquery"),e=(o("common:widget/oui/common"),o("common:widget/oui/widgets/widgets")),n=(o("common:widget/oui/lib/handlebars/1.0.0/handlebars"),o("common:widget/oui/arale/dialog/1.3.3/dialog")),t=e.Form;i(function(){t.validate({validateData:{submitHandler:function(o){t.ajaxSubmit(i(o),{msgafter:".J_bind_cou_tips",dataType:"json",success:function(o){this.msg(o.message,"warn"),0===o.status&&(i(".couponType").text(o.data.couponType),i("#J_bind_coupon_success").show(),new n({content:i("#J_bind_coupon_success"),height:"178px",width:"500px"}).show())}})}}})})});
;(function(){define("common:widget/oui/pages/account/coupons/mycoupon",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/widgets/widgets","common:widget/oui/protocol"],function(e,o,i){var n,t,u,r;return n=e("common:widget/oui/lib/jquery/1.9.1/jquery"),t=e("common:widget/oui/common"),u=e("common:widget/oui/widgets/widgets"),r=e("common:widget/oui/protocol"),initTab=function(){var e;return e=new u.Tab({name:"coupon",switched:function(e,o,i){return i?!0:("usedcoupon"==o&&new u.List({name:"usedcoupon-list",api:r.API.getUsedCoupon,filter:!1,header:!0,pagination:!0,hasMore:!1,rendered:null}).init()._update(),"expiredcoupon"==o&&new u.List({name:"expiredcoupon-list",api:r.API.getExpiredCoupon,filter:!1,header:!0,pagination:!0,hasMore:!1,rendered:null}).init()._update(),!0)}}).init()},initList=function(e){var o;return o=new u.List({name:"unusecoupon-list",api:r.API.getUnuseCoupon,filter:!1,header:!0,pagination:!0,hasMore:!1,rendered:null}).init(e)},ret={init:function(e){return initTab(),initList(t.loadJSON(e,!0))}},i.exports=ret})}).call(this);
;define("common:widget/oui/pages/account/coupons/ucode",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/common"),a=e("common:widget/oui/widgets/widgets"),o=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),i=a.Form;t(function(){function e(e){e.couponId=e.couponId,e.expireDate=e.expireDate,e.investAmount=e.investAmount;for(var n=0;n<e.financePlanList.length;n++)e.financePlanList[n].ucodeSerial=e.ucodeSerial,e.financePlanList[n].ucodeValue=e.ucodeValue,e.financePlanList[n].buyInRate=.01*parseInt(e.financePlanList[n].buyInRate)*parseInt(e.investAmount);var a=t("#ucode-sub-template").html(),i=o.compile(a),s=i(e);t("#ucodeForm").hide().after(s),t("#getUseCouponId").val(e.couponId)}i.validate({validateData:{submitHandler:function(n){i.ajaxSubmit(t(n),{msgafter:".J_bind_cou_tips",dataType:"json",success:function(n){this.msg(n.jsonVo.message,"warn"),t(".J_bind_cou_tips").text(),0===n.jsonVo.status&&e(n)}})}}}),initData&&0==initData.status&&e(initData.data);var a=0;t("body").on("click",".linkRsv",function(e){if(1==a)return!1;a=1,e.preventDefault();{var o=(new Date).getTime(),i=t(this).attr("href")+"&r = "+o,s="/financeplan/listPlan!detailPlan.action?financePlanId="+t(this).attr("data-plan-id")+"&couponId="+t("#getUseCouponId").val();t.getJSON(i+"&callback=?",function(e){a=0,0===e.status&&(location.href=s),e.status&&1===e.status&&n.showMessage({error:!0,message:e.message}),t(".loading-tips").hide()})}t(".loading-tips").show()}),t(".J_use_coupon").click(function(){t.ajax({url:"/account/coupon!useUcodeReserve.action?couponId="+t("#getUseCouponId").val(),success:function(n){0===n.jsonVo.status?e(n):(t(".J_warn").html(n.jsonVo.message).show(),t(".J_warn").delay(3e3).slideUp(function(){t(this).html("")}))}})}),t(".J_use_psw").on("click",function(){t(".J_use_psw_wrap").toggle(),t("input",".J_use_psw_wrap").focus()})}),t(document).click(function(e){var n=e.target;t(n).parent("span").hasClass("arrow")||t(n).parent("div").hasClass("J_select_btn")||t(".J_popBox").css("display","none")}),t(".J_select_btn").click(function(e){t(".J_popBox").css("display","none");var n=t(e.currentTarget).parent().find("ul");"block"==n.css("display")?n.css("display","none"):n.css("display","block")}),t(".J_popBox li").mouseover(function(e){t(e.currentTarget).attr("class","selected")}),t(".J_popBox li").mouseleave(function(e){t(e.currentTarget).attr("class","")}),t(".J_popBox li").click(function(e){var n=t(e.currentTarget).attr("datavalue"),a=t(e.currentTarget).find("span").text(),o=t(e.currentTarget).parent().parent();t("#getUseCouponId").attr("value",n),o.find(".J_txt").text(a)})});
;define("common:widget/oui/pages/account/index",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/arale/overlay/1.1.2/mask","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/rsa/index"],function(e){function t(e,t){var i=c(".newbie-guide-pop"),a=i.eq(e),o=i.eq(t);o.css({left:960+o.width(),opacity:.5,marginLeft:0}),a.animate({opacity:.5,left:-a.width()},1e3,function(){a.hide()}),o.show().animate({opacity:1,left:(960-o.width())/2},1e3,function(){o.css({left:"50%",marginLeft:-o.width()/2})})}function i(e){c.get("/html/blank/blank.html?newUserGuide="+e,function(){})}function a(){$guide=c("#novice-guide"),$ad=c(".ad-dimgray"),$guide.length&&($ad.length&&$ad.hide(),$guide.find(".close,.goto").on("click",function(){$guide.hide(),p.hide()}).end().find(".next").on("click",function(){var e=$guide.data("type").toLowerCase(),t=$guide.css("backgroundImage"),i=t.match(/(account-step-)(\d)/),a=parseInt(i[2],10);a++,a>=3&&(c(this).remove(),c(".goto").show(),$ad.show()),"借出者"==e?($guide.css({background:"url(/static/img/guide/"+i[1]+a+"-lender.png)"}),c("#novice-guide .guide").removeClass().addClass("guide "+i[1]+a+"-lender")):($guide.css({background:"url(/static/img/guide/"+i[1]+a+"-borrower.png)"}),c("#novice-guide .guide").removeClass().addClass("guide "+i[1]+a+"-borrower"))}),p.set("backgroundColor","#000").set("zIndex",100001).set("opacity","0.6").show())}function o(e,t,i){var a=c(e,".LOAN-WAITING_AUDIT");a.find("img:first").attr("src","/static/img/auth_icon/mid/"+t+i.str+".png"),""!==i.src?a.find("img:last").attr("src",i.src):a.find("em").addClass("fn-hide"),a.removeClass("fn-hide")}function s(e){var t={VALID:["light","pass"],INVALID:["dark",""],PENDING:["light","uploaded"],OVERDUE:["dark","expired"],FAILED:["dark","reject"]};if("OVERDUE"==e)h.push("overdue");else if("FAILED"==e)h.push("failed");else if("INVALID"==e)return{str:t[e][0],src:""};var i=["/static/img/auth_icon/mid/",t[e][1],".png"];return{str:t[e][0],src:i.join("")}}function n(e,t){var i={RRGXD:"RRGXD",RRSYD:"RRSYD",RRWSD:"RRWSD"};i[e]&&c(".yeltip-button",t).find("a").attr("href","/borrow/borrowPage.action?loanProductType="+i[e])}function r(){D&&P[D.type]()}for(var c=e("common:widget/oui/lib/jquery/1.9.1/jquery"),d=e("common:widget/oui/common"),u=e("common:widget/oui/protocol"),l=e("common:widget/oui/widgets/widgets"),p=e("common:widget/oui/arale/overlay/1.1.2/mask"),m=e("common:widget/oui/arale/tip/1.1.4/tip"),f=0,h=[],g=l.Form,v=e("common:widget/oui/rsa/index"),w=[{"class":"identity-pop",status:"1"==newbieGuideStatus.identity},{"class":"cashPW-pop",status:"1"==newbieGuideStatus.cashPW},{"class":"recharge-pop",status:"1"==newbieGuideStatus.recharge},{"class":"invest-pop",status:"1"==newbieGuideStatus.invest}],b=0;b<w.length;b++){var E=w[b],C=E["class"];if(E.status)c("."+C).remove(),w.splice(b,1),b--;else switch(C){case"identity-pop":g.validate({target:"#setIdForm",validateData:{submitHandler:function(e){g.ajaxSubmit(c(e),{msgafter:"#subbt",before:function(){this.msg("正在验证，请稍后...")},success:function(e){this.msg(e.message,"warn"),0===e.status&&(c(".identity-set-succeed").show(),c(".cashpsw-set-succeed").hide(),t(0,1),i("identify_success"))}})}}});break;case"cashPW-pop":g.validate({target:"#setCashPwdForm",validateData:{submitHandler:function(e){var a=c("input[type=password]",e);"undefined"!=typeof v&&a.each(function(){c(this).val(v(c(this).val()))}),g.ajaxSubmit(c(e),{msgafter:"#subSetCashPwdBt",success:function(e){if(a.each(function(){c(this).val("")}),this.msg(e.message,"warn"),0===e.status){for(var o,s=0;s<w.length;s++)"cashPW-pop"==w[s]["class"]&&(o=s);c(".identity-set-succeed").hide(),c(".cashpsw-set-succeed").show(),i("cashPass_success"),t(o,o+1)}}})}}})}}var E,C;c(".J_alarm").on("click",function(){c(".masking-wrap").show(),c(".newbie-guide-wrap").show(),i("icon_click");var e,t=w[0]["class"];"identity-pop"==t&&(e="dialog_identify"),"cashPW-pop"==t&&(e="dialog_cashPass"),"recharge-pop"==t&&(e="dialog_recharge"),"invest-pop"==t&&(e="dialog_invest"),i(e)}),c(".close-x").on("click",function(){c(".masking-wrap").hide(),c(".newbie-guide-wrap").hide(),location.reload()}),c("#subbt").click(function(){i("dialog_identify_ok")}),c("#subSetCashPwdBt").click(function(){i("dialog_cashPass_ok")}),c(".LJXQ").click(function(){c.get("/html/blank/blank.html?tag=3xuqixht",function(){})}),a(),c("#info-box .icons a").each(function(){var e=/light/.test(this.className);e&&(f+=25)}),c("#safe-progressbar").attr("title",f+"%").find("div").css("width",f+"px");for(var R=d.loadJSON(c("#borrowing-rsp"),!0),x=R.data.loans,y=u.translator,b=0;b<x.length;b++)x[b].notPayPrincipal=y._commaFloat(x[b].notPayPrincipal),x[b].notPayInterestAndMgmtFee=y._commaFloat(x[b].notPayInterestAndMgmtFee),x[b].overdueAmount=y._commaFloat(x[b].overdueAmount);d.fillTemplate({container:c("#borrowing"),data:R,template:c("#borrowing-template"),isResponse:!0}),new l.List({name:"loan-list",api:u.API.getLoans,header:!0}).init(d.loadJSON("#loan-list-rsp",!0)),new m({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),new m({element:"#tipCon_2",trigger:"#tips_2",direction:"right"}),c(".icon-box","#info-box").each(function(e){if(!c(this).hasClass("light")){var t=c(this).find("a"),i=t.data("txt").split("||"),a=t.attr("href"),o=140+40*e;return c("#tipCon_3").css({position:"absolute",left:o+"px",top:"160px"}).find(".ui-poptip-content").html("<div>"+i[0]+"<a href='"+a+"'>"+i[1]+"</a><i class='iconfont closeTip' style='position: absolute;right:-1px;top:-1px;cursor: pointer;color:#d9c6a4; font-size:16px;padding: 0 2px; height: 16px;line-height: 16px;'>&#xF045;</i></div>").end().show(),!1}}),c(".closeTip").on("click",function(){c(this).parents(".ui-poptip").hide()}),c(".yelltips-close").click(function(){c(this).parent().addClass("fn-hide"),c.ajax({url:"/notification/updateStatus.action?combiType=LOAN_REJECTED&status=CLOSED"})}),c(".yelltips-close-roll").click(function(){c(this).parent().addClass("fn-hide"),c.ajax({url:"/notification/closeTip.action?combiType=CLOSE_ROLL_OVER_TIP"})});var A=notification.data,D=A.notification;if(D){var N=D.productType||"",_={NONE:function(){c(".LOAN-NONE").removeClass("fn-hide")},INCOMPLETE_INFO:function(){var e=".LOAN-INCOMPLETE_INFO";c(".basic-percent",e).css({width:D.formProgress+"%"}),c(".basic-progress-value",e).find("em").text(D.formProgress+"%"),100==D.formProgress&&c(".yeltip-button",e).find("a").text("提交申请"),n(N,c(e)),c(e).removeClass("fn-hide")},WAITING_AUDIT:function(){var e=".LOAN-WAITING_AUDIT",t=s(D.idStatus);if(o(".idStatus","id_",t),"RRGXD"==N||"RRSYD"==N){var i=s(D.userCreditStatus);o(".userCreditStatus","credit_",i);var a=s(D.incomeStatus);o(".incomeStatus","income_",a);var r=s(D.workStatus);o(".workStatus","work_",r)}if("RRWSD"==N){var d=s(D.eshopStatus);o(".eshopStatus","work_",d)}0===h.length?(c(".loan-tips",e).removeClass("fn-hide"),c(".yeltip-button",e).addClass("fn-hide")):-1!=h.join("").indexOf("failed")&&c(".loan-reject-msg",e).removeClass("fn-hide"),n(N,c(e)),c(e).removeClass("fn-hide")},AUDITING:function(){var e=".LOAN-AUDITING",t=Math.round(D.passedMaterialCount/D.uploadedMaterialCount*100);c(".basic-percent",e).css({width:t+"%"}),c(".basic-progress-value",e).find("em").text("已通过"+D.passedMaterialCount+"项"),n(N,c(e)),c(e).removeClass("fn-hide")},REJECTED:function(){D.closeable||c(".yelltips-close",".LOAN-REJECTED").remove(),c(".LOAN-REJECTED").removeClass("fn-hide")},OPEN:function(){var e=".LOAN-OPEN",t=D.useMonthlyComprehensiveFeeRate||!1;c(".amount",e).text(D.amount),c(".interest",e).text(D.interest),c(".months",e).text(D.months),t?c(".fee-rate",e).text(D.finalMonthlyComprehensiveFeeRate):(c(".J_fee-rate",e).text("借款利率"),c(".fee-rate",e).text(D.interest)),c(".creditLevel",e).text(D.creditLevel),c(".basic-percent",e).css({width:D.finishedRatio+"%"}),c(".basic-progress-value",e).find("em").text(D.finishedRatio+"%"),n(N,c(e)),c(e).removeClass("fn-hide")}},P={FINANCE_PLAN:function(){var e=".FINANCE_PLAN";c(".bookedNum",e).text(D.bookedNum),c(".planName",e).text(D.planName).attr("href","/financeplan/"+D.id),c(".payDueDate",e).text(D.payDueDate),c(".unpaidAmount",e).text(D.unpaidAmount+"元"),c(".FINANCE_PLAN").removeClass("fn-hide")},REPAY:function(){var e=".REPAY";c(".loanCount",e).text(D.loanCount),c(".latestRepayDate",e).text(D.latestRepayDate),c(".repayAmount",e).text(D.repayAmount+"元"),"OVER_DUE"==D.status&&(c(".overDuedCount",".REPAY-OVER_DUE").text(D.overDuedCount),c(".overDuedDays",".REPAY-OVER_DUE").text(D.overDuedDays+"天"),c(".REPAY-OVER_DUE").removeClass("fn-hide")),"UNREPAID"==D.status&&(c(".leftMonths",".REPAY-UNREPAID").text(D.leftMonths+"/"+D.totalMonths),c(".REPAY-UNREPAID").removeClass("fn-hide"))},LOAN:function(){var e=D.status;_[e]()},ROLL_OVER:function(){c(".ROLL_OVER").removeClass("fn-hide")}};r()}});
;define("common:widget/oui/pages/account/invest/auto",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/widgets/widgets"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/common"),i=e("common:widget/oui/arale/dialog/1.3.3/dialog"),n=e("common:widget/oui/widgets/widgets"),u=n.Form;t(function(){function e(e){var o=Number(t("#ten_value").val())||0;"add"==e?o+=50:"sub"==e&&(o-=50,200>=o&&(o=200)),t("#ten_value").val(o)}t(".addorsub").click(function(){var o=t(this).data("type");e(o)}),t(".closeAuto").click(function(e){var i=t(this).text();return confirm("您确定"+i+"功能？")&&t.get(t(this).attr("href"),function(e){o.showMessage(e.message,function(){0===e.status&&location.reload()})}),e.preventDefault(),!1}),new i({trigger:"#selfType",width:"650px",content:t("#selfTypeBox")}),new i({trigger:"#oneKeyType",width:"650px",content:t("#oneKeyTypeBox")}),t("form").submit(function(e){var o=t(this);u.ajaxSubmit(o,{msgafter:"#"+o.find("input[type='submit']")[0].id,success:function(e){this.msg(e.message,"warn"),0===e.status&&setTimeout(function(){location.reload()},2e3)}}),e.preventDefault()})})});
;define("common:widget/oui/pages/account/invest/autoinvestplan",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/components/components.jscomponents"],function(t){function e(){_=i("#j_tip_name"),m=i(".tip-list"),v=i("#aipCustomName").val(),m.find("li").on("click",function(){i(this).index()==m.find("li").length-1?m.find("input").show():m.find("input").val("").hide(),h=_.text(),m.find("li").removeClass("active"),i(this).addClass("active")}).each(function(){i(this).text()==v&&(i(this).siblings().removeClass(),i(this).addClass("active"))})}function a(t){var e=i("."+t),a=s.loadJSON("#autoinvest-couponlist-rsp",!0),n={};n.couponList=a.data.couponListJsonVoList,n.couponList&&n.couponList[0]&&(n.initCouponValue=n.couponList[0]),n.unRepayAmountNotComma=parseInt(i(".J_payable",e).attr("data-payable"),10);var p=c.compile(i("#confirm-autoinvest-join-coupon-template").html());i(".J_coupon_wrap",e).html(p(n)),d.ui.init(),1===a.status?(i(".J_coupon_wrap",e).addClass("no-coupon-list"),i(".J_addCoupon .ui-select",e).hide(),i(".J_addCoupon .ui-selectdrop",e).hide()):n.initCouponValue?(i(".J_coupon_wrap",e).removeClass("no-coupon-list"),l={id:n.initCouponValue.couponId,payable:parseFloat(n.unRepayAmountNotComma)-parseFloat(n.initCouponValue.couponValue)},l.payable<0&&(l.payable=0),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable)),"DISCOUNT"==n.initCouponValue.couponTypeEng&&i(".J_red_packet_tips",e).removeClass("fn-hide")):(i(".J_coupon_wrap",e).addClass("no-coupon-list"),i(".J_addCoupon .ui-select",e).hide(),i(".J_addCoupon .ui-selectdrop",e).hide()),o(n,e)}function o(t,e){var a=t.unRepayAmountNotComma;i(document).click(function(t){var a=t.target;i(a).parent("span").hasClass("arrow")||i(a).parent("div").hasClass("J_select_btn")||i(".J_popBox",e).css("display","none")}),i(".J_select_btn",e).click(function(t){i(".J_popBox",e).css("display","none");var a=i(t.currentTarget).parent().find("ul");"block"==a.css("display")?a.css("display","none"):a.css("display","block")}),i(".J_popBox",e).on("mouseover","li",function(t){i(t.currentTarget).attr("class","selected")}),i(".J_popBox",e).on("mouseleave","li",function(t){i(t.currentTarget).attr("class","")}),i(".J_popBox",e).on("click","li",function(a){var o=i(a.currentTarget).attr("datavalue"),s=i(a.currentTarget).find("span").text(),p=i(a.currentTarget).attr("couponType"),u=i(a.currentTarget).parent().parent(),c=parseFloat(t.unRepayAmountNotComma)-parseFloat(i(a.currentTarget).attr("couponvalue"));0>c&&(c=0),i(".J_red_packet_tips",e).addClass("fn-hide"),u.find(".J_txt").text(s),l.id=o,l.payable=c,i(".getUseCouponId",e).attr("couponType",p),i(".chooseCoupon",e).prop("checked")?(i(".getUseCouponId",e).attr("value",o),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable)),"DISCOUNT"==p&&(i(".J_red_packet_tips",e).find("span").text(i(a.currentTarget).attr("couponvalue")),i(".J_red_packet_tips",e).removeClass("fn-hide"))):"DISCOUNT"==p&&i(".J_red_packet_tips",e).find("span").text(i(a.currentTarget).attr("couponvalue")),n(e)}),i(".J_use_psw",e).on("click",function(){i(".J_use_psw_wrap",e).toggle(),i(".J_use_psw_wrap input",e).focus()}),i(".J_use_coupon",e).on("click",function(){var o=i.trim(i(".J_use_psw_wrap .ui-input",e).val());return""===o?(i(".J_use_coupon_tips",e).text("优惠券密码不能为空!").show(),void i(".J_use_coupon_tips",e).delay(3e3).slideUp(function(){i(this).html("")})):void i.ajax({url:"/account/bindUserCoupon.action?couponCode="+o+"&payAmount="+a+"&businessCategory=AUTO_INVEST_PLAN",success:function(o){if(i(".J_use_coupon_tips",e).text(o.message).show().delay(3e3).slideUp(function(){i(this).html("")}),0===o.status){i(".ui-selectdrop .J_txt",e).text(o.data.name);var s=parseFloat(t.unRepayAmountNotComma)-o.data.couponValue;0>s&&(s=0),i(".ui-selectdrop .J_popBox",e).prepend('<li class="" datavalue="'+o.data.couponId+'" unrepayamout="'+a+'" couponvalue="'+o.data.couponValue+'" couponType="'+o.data.couponTypeEng+'"  ><span>'+o.data.name+"</span></li>"),i(".J_use_psw_wrap",e).slideUp(),i(".J_use_psw_wrap input",e).val(""),l.id=o.data.couponId,l.payable=s,i(".J_addCoupon .ui-select",e).show(),i(".J_addCoupon .ui-selectdrop",e).show(),i(".chooseCoupon",e).prop("checked")&&(i(".getUseCouponId",e).val(o.data.couponId),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable))),"DISCOUNT"==o.data.couponTypeEng?(i(".J_red_packet_tips",e).find("span").text(o.data.couponValue),i(".J_red_packet_tips",e).removeClass("fn-hide")):i(".J_red_packet_tips").addClass("fn-hide"),n(e)}}})}),i(".chooseCoupon",e).on("click",function(){i(this).prop("checked")?(i(".getUseCouponId",e).val(l.id),i(".J_payable",e).attr("data-payable",l.payable).html(r.translator._commaFloat(l.payable)),"DISCOUNT"==i(".getUseCouponId",e).attr("coupontype")&&i(".J_red_packet_tips",e).removeClass("fn-hide")):(i(".J_red_packet_tips",e).addClass("fn-hide"),i(".getUseCouponId",e).val(""),i(".J_payable",e).attr("data-payable",a).html(r.translator._commaFloat(a))),n(e)})}function n(t){var e=parseInt(100*i("#max-account").val(),10),a=parseInt(100*i(".J_payable",t).attr("data-payable"),10);0>e-a?i(".ui-confirm-yue",t).html("您的余额不足  　<a href='/account/capital!recharge.action'>充值</a>").show():i(".ui-confirm-yue",t).html("").hide()}var i=t("common:widget/oui/lib/jquery/1.9.1/jquery"),s=t("common:widget/oui/common"),p=t("common:widget/oui/arale/dialog/1.3.3/dialog"),r=t("common:widget/oui/protocol"),u=t("common:widget/oui/widgets/widgets"),c=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),d=(t("common:widget/oui/components/components.jscomponents"),u.Form),l={};i(".iconfont").hover(function(){i(this).next().css({position:"absolute",left:i(this).position().left+i(this).width()+6,top:i(this).position().top-6}).toggle()}),i(function(){var t=i(".overdue-days"),e=i("#periodNumber").val(),a=i(".auto-invest-plan-time li").width(),o="";i(".ui-tiptext-container").css("left",e*a-134);for(var n=0;n<t.length;n++)o+='<div class="ui-tiptext-container ui-tiptext-container-message ui-tiptext-container-error" style="left:'+((t.eq(n).parents("tr").find("td").first().attr("id")-1)*a+25)+'px"><em class="icon-rule"></em><div class="ui-tiptext-arrow ui-tiptext-arrowup"><em>◆</em><span>◆</span></div><p class="ui-tiptext ui-tiptext-message">延期'+t.eq(n).text()+"天</p></div>";i(o).appendTo(i(".auto-invest-plan-time"));var s=(i(".ui-tiptext-container-error"),i(".ui-tiptext-container-error .icon-rule"));s.siblings().hide(),s.hover(function(){i(this).siblings().toggle()})}),i(".ui-button-dropdown .ui-button").on("click",function(){return i(this).next().toggle(),i(this).next().find("li").on("click",function(){i(this).parent().prev().find("span").text(i(this).find("a").html()),i(this).parent().hide()}),!1}),i("body").on("click",function(){i(".ui-button-dropdown ul").hide()});var h,_,m,v;i(".avatar").on("click",function(){return e(),new p({trigger:".avatar",height:"370px",width:"650px",content:i(".auto-invest-plan-tip")}).after("show",function(){var t=this;i(".auto-invest-plan-tip").show(),i("#tipopen").on("click",function(){var e=i("#autoInvestPlanId").val(),a="";i(".tip-list input").val()?a=i(".tip-list input").val():(a=i(".tip-list .active").text(),i(".tip-list li:last").hasClass("active")&&(a="")),_.text(a),i.ajax({type:"post",url:"/account/customNameAutoInvestPlan.action",data:{autoInvestPlanIdStr:e,tagStr:a},success:function(e){1==e.status&&alert(e.message),t.hide()}})}),i("#colse").on("click",function(){i("#j_tip_name").text(h),t.hide()})}).after("hide",function(){location.reload()}).show(),!1}),i(".J_add_money").on("click",function(){var t=i(".J_add_money_div").clone(),e=i("#overdue-periodNumber"),o=i("#overdue-rechargeDate"),n=i("#overdue-overdueDays"),s=i("#overdue-overdueDays-tip"),r=i("#tip-message"),u=i(this),c="";return e.text(u.parent().siblings().eq(0).attr("id")),o.text(u.parent().siblings().eq(1).text()),n.text(u.parent().prev().find(".overdue-days").text()),c=u.parent().siblings().eq(0).attr("autoInvestId"),a("J_BJR"),i(".J_add_money_div").show(),r.html(s.text()<=10?"小于等于10天，退出时不扣延期费用":'退出时将扣除<a target="_blank" href="/help/invest/invest!autoinvestplan.action#fixedInvestOverdue">延期费用</a>'),new p({trigger:".J_add_money",width:"580px",content:i(".J_add_money_div")}).after("show",function(){var t=this;i("#add_money_tipopen").on("click",function(){var e=parseInt(100*i("#max-account").val(),10),a=parseInt(100*i(".J_payable",".J_BJR").attr("data-payable"),10);if(0>e-a)return void i(".ui-confirm-yue",".J_BJR").html("您的余额不足  　<a href='/account/capital!recharge.action'>充值</a>").show();i(".ui-confirm-yue",".J_BJR").html("").hide();var o="";i(".getUseCouponId",".J_BJR").val()&&(o=i(".getUseCouponId",".J_BJR").val()),i.ajax({type:"post",url:"/account/rechargeAutoInvestPlan.action",data:{autoInvestPlanRecordId:c,couponId:o},success:function(e){if(1==e.status){t.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"225px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var t=this;i(".rulst-tip_div").addClass("fail"),i(".rulst-tip_div .title").text("失败"),i(".rulst-tip-message").text(e.message),i("#rulst_tipopen").on("click",function(){t.hide()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}else{t.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"245px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var t=this;i(".rulst-tip_div .title").text("成功"),i(".rulst-tip-message").text(e.message),i(".marketTxt").removeClass("fn-hide"),i("#rulst_tipopen").on("click",function(){t.hide(),location.reload()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}return t.hide(),!1}})}),i("#add_money_colse").on("click",function(){t.hide()})}).after("hide",function(){t.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show(),!1}),i(".J_unpay").on("click",function(){i(".unpay-tip_div").show(),new p({height:"225px",width:"580px",content:i(".unpay-tip_div")}).after("show",function(){var t=this;i("#unpay_rulst_tipopen").on("click",function(){t.hide()})}).after("hide",function(){i(".unpay-tip_div").hide()}).show()}),i(".J_pay_money").on("click",function(){{var t,e=i(".J_pay_money_div").clone(),o=i("#pay_periodNumber"),n=i("#pay_rechargeDateActual"),s=(i("#autoInvestPlanId"),i(this)),r=new Date;r.getFullYear(),r.getMonth()+1,r.getDate()}return o.text(s.attr("payId")?s.attr("payId"):s.parent().siblings().eq(0).attr("id")),t=s.parent().siblings().eq(0).attr("autoInvestId"),s.hasClass("J_pay_top")&&(t=s.attr("autoivestid")),n.text(i("#currentDate").val()),a("J_ZF"),i(".J_pay_money_div").show(),new p({trigger:".J_pay_money",height:"",width:"580px",content:i(".J_pay_money_div")}).after("show",function(){var e=this;i("#add_pay_tipopen").on("click",function(){var a=parseInt(100*i("#max-account").val(),10),o=parseInt(100*i(".J_payable",".J_ZF").attr("data-payable"),10);if(0>a-o)return void i(".ui-confirm-yue",".J_ZF").html("您的余额不足  　<a href='/account/capital!recharge.action'>充值</a>").show();i(".ui-confirm-yue",".J_ZF").html("").hide();var n="";i(".getUseCouponId",".J_ZF").val()&&(n=i(".getUseCouponId",".J_ZF").val()),i.ajax({type:"post",url:"/account/rechargeAutoInvestPlan.action",data:{autoInvestPlanRecordId:t,couponId:n},success:function(t){if(1==t.status){e.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"225px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var e=this;i(".rulst-tip_div").addClass("fail"),i(".rulst-tip_div .title").text("失败"),i(".rulst-tip-message").text(t.message),i("#rulst_tipopen").on("click",function(){e.hide()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}else{e.hide();var a=i(".rulst-tip_div").clone();i(".rulst-tip_div").show(),new p({height:"245px",width:"580px",content:i(".rulst-tip_div")}).after("show",function(){var e=this;i(".rulst-tip_div .title").text("成功"),i(".rulst-tip-message").text(t.message),i(".marketTxt").removeClass("fn-hide"),i("#rulst_tipopen").on("click",function(){e.hide(),location.reload()})}).after("hide",function(){a.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show()}e.hide()}})}),i("#add_pay_colse").on("click",function(){e.hide()})}).after("hide",function(){e.appendTo(i(".pg-container-content")).hide(),this.destroy()}).show(),!1}),i(".ui-table-inbox tbody tr:odd").addClass("dark");var f=i("#SubPointId").text();""!=f&&new u.List({name:"auto-invest-plan",api:r.API.getAutoinvestPlanBidLoans,header:!0,pagination:!0,params:{subPointId:f}}).init()._update({subPointId:f})});
;define("common:widget/oui/pages/account/invest/loans",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/tip/1.1.4/tip"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/oui/arale/dialog/1.3.3/dialog"),n=t("common:widget/oui/common"),a=t("common:widget/oui/protocol"),o=t("common:widget/oui/widgets/widgets"),r=t("common:widget/oui/components/components.jscomponents"),s=t("common:widget/oui/arale/tip/1.1.4/tip"),c=function(t){e.extend(this,{container:t.container}),this._ui={row:this.container.children(".ui-list-item-row"),box:this.container.children(".ui-list-item-box"),btn:this._elem("operation"),lender:this._elem("lenderinfo"),link:this._elem("details")}};e.extend(c.prototype,{init:function(){var t=this,a=this._ui;return a.row.click(function(){a.box.is(":visible")?a.box.hide():a.box.show()}),a.link.click(function(t){t.stopPropagation()}),a.btn.click(function(o){if(o.stopPropagation(),"TRANSFER_DISABLED"!=a.btn.data("operation")){var s=n.fillTemplate({template:e("#confirm-transfer-out-template"),data:t._confirmData()});new i({content:s}).after("show",function(){var t=this;e(".ui-confirm-cancel-link").click(function(){t.hide()}),new r.TransferConfirmation.Confirm({container:e("#confirm-transfer-out")}).init()}).after("hide",function(){this.destroy()}).show()}}),a.lender.click(function(t){t.stopPropagation();var n=e(this).data("loanid"),a=["/account/invest!borrowerRealNameAndIdNo.action?loanId=",n].join("");return new i({width:"480px",height:"180px",content:a}).after("hide",function(){this.destroy()}).show(),!1}),this},_elem:function(t){return this.container.find('[data-name="'+t+'"]')},_confirmData:function(){var t=a.translator;return ret={loanId:this.container.data("loan-id"),lenderId:this.container.data("lender-id"),investAmount:this.container.data("invest-amount"),investShares:this.container.data("invest-shares"),interest:this.container.data("interest"),interestGained:this.container.data("interest-gained"),termsLeft:this.container.data("terms-left"),termsInTotal:this.container.data("terms-in-total"),availableShares:this.container.data("available-shares"),valuePerShare:this.container.data("value-per-share"),interestPerShare:this.container.data("interest-per-share"),principalPerShare:this.container.data("principal-per-share"),repaymentsPerShare:this.container.data("repayments-per-share"),fee:this.container.data("fee")},ret.value=t._fixedFloat2(ret.valuePerShare*ret.availableShares),ret.summary=t._fixedFloat2(ret.value-ret.fee),ret}}),new o.List({name:"repaying-list",api:a.API.getUserLoansRepaying,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,i){new c({container:e(i)}).init()})}}).init(n.loadJSON("#repaying-list-rsp",!0)),new o.Tab({name:"loans",switched:function(t,e,i){return i?!0:("repaid"==e&&new o.List({name:"repaid-list",api:a.API.getUserLoansRepaid,title:!0,pagination:!0}).init()._update(),"investing"==e&&new o.List({name:"investing-list",api:a.API.getUserLoansInProgress,title:!0,pagination:!0}).init()._update(),"transferred-out"==e&&r.ListFactory.create("transferred-out","transferred-out-list").init()._update(),!0)}}).init(),new s({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),new s({element:"#tipCon_2",trigger:"#tips_2",direction:"right"})});
;define("common:widget/oui/pages/account/invest/plan",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/common","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/components/components.jscomponents"],function(t){function n(t,n){if(w!=e("#J_progress-acco-div").find(".tip").css("left")){w=e("#J_progress-acco-div").find(".tip").css("left");var i=t/n*550;0>i&&(i=0),i>550&&(i=550),e("#J_progress-acco-div").find(".bock").css("left",i+"px"),e("#J_progress-acco-div").find(".progress").css("width",i+"px"),e("#J_progress-acco-div").find(".tip").css("left",i+22.5+"px"),0>=i&&(e("#J_progress-acco-div").find(".bock").css("left",i+1+"px"),e("#J_progress-acco-div").find(".progress").css("width",i+1+"px"),e("#J_progress-acco-div").find(".tip").css("left",i+23.5+"px")),i>=550&&(e("#J_progress-acco-div").find(".bock").css("left",i-1+"px"),e("#J_progress-acco-div").find(".progress").css("width",i-1+"px"),e("#J_progress-acco-div").find(".tip").css("left",i+21.5+"px"))}}var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),i=t("common:widget/oui/rsa/index"),o=t("common:widget/oui/common"),s=t("common:widget/oui/arale/dialog/1.3.3/dialog"),a=t("common:widget/oui/protocol"),c=t("common:widget/oui/widgets/widgets"),r=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),l=(t("common:widget/oui/arale/tip/1.1.4/tip"),t("common:widget/oui/components/components.jscomponents")),d=c.Form,u=e("#fee-in-total").data("value");e("#fee-in-total").text(a.translator._fixedFloat2(u));var p=e("#pg-helper-plan-id").text(),h=e("#pg-helper-plan-sub-point-id").text(),m=e("#pg-helper-gain-manner").text(),f=function(t){e.extend(this,{container:t.container}),this._ui={switcher:this._elem("details"),box:this._elem("details-box")},this.loanId=this.container.data("loan-id")};e.extend(f.prototype,{init:function(){var t=this,n=this._ui;return n.switcher.click(function(){n.switcher.hasClass("active")?(n.switcher.removeClass("active"),n.box.hide()):("initialized"!=n.box.data("status")&&t._initDetails(),n.switcher.addClass("active"),n.box.show())}),this},_initDetails:function(){new c.List({template:e("#transferred-out-details-template"),name:"transferred-out-details-"+this.loanId,api:a.API.getUserTransferredOutRecords,title:!0,pagination:!0,params:{loanId:this.loanId,subPointId:h}}).init()._update({loanId:this.loanId,subPointId:h})},_elem:function(t){return this.container.find('[data-name="'+t+'"]')}}),new c.List({name:"plan-records",api:a.API.getUserPlanRecords,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,n){new f({container:e(n)}).init()})},params:{financeId:p,subPointId:h}}).init(o.loadJSON("#plan-records-rsp",!0));var _=function(t){e.extend(this,{container:t.container,handler:null,_ui:{}}),this._ui.button=this.container.children("a")};e.extend(_.prototype,{init:function(){var t=this,n=this._ui;return n.button.hasClass("quit-enabled")&&(o.constant.QUIT_PLAN_DISABLED?(n.button.removeClass("quit-enabled"),n.button.removeClass("cursor-pointer"),n.button.addClass("cursor-default")):(t.handler=new l.PlanQuitHandler({planName:t.container.data("plan-name"),subPointId:t.container.data("sub-point-id"),finalAmount:t.container.data("final-amount")}).init(),n.button.hover(function(){n.button.text("退出")},function(){n.button.text("退出")}),n.button.click(function(){t.handler.start()}))),this}});var v=function(t){e.extend(this,{container:t.container,_manner:m}),this._ui={switcher:this._elem("ph-switcher"),box:this._elem("ph-box"),bankBox:this._elem("ph-bank-box"),bankPasswordBox:this._elem("ph-bank-password-box"),radios:this.container.find('input[name="cashTypeStr"]'),submit:this._elem("ph-submit"),cancel:this._elem("ph-cancel"),hint:this._elem("ph-hint"),form:this._elem("ph-form"),bankAccount:this._elem("ph-bank-account"),bankPassword:this._elem("ph-bank-password")}};e.extend(v.prototype,{init:function(){var t=this,n=this._ui;return o.fillTemplate({container:e("#bank-accounts"),template:e("#bank-accounts-template"),data:a.translator.translate(a.API.getUserBankInfo,o.loadJSON("#bank-accounts-rsp",!0).data)}),n.bankAccount.val()||n.bankPasswordBox.hide(),n.switcher.click(function(){n.switcher.hasClass("editing")?(n.switcher.removeClass("editing"),n.switcher.text("更改"),n.box.hide()):(t.reset(),n.switcher.addClass("editing"),n.switcher.text("收起"),n.box.show())}),n.cancel.click(function(){n.switcher.removeClass("editing"),n.switcher.text("更改"),n.box.hide()}),n.radios.change(function(){"BANK"==e(this).val()?n.bankBox.show():n.bankBox.hide()}),n.form.submit(function(){var o=t.container.find('input[name="cashTypeStr"]:checked').val(),s=e("[name=cashPassword]",this);return"BANK"!=o||n.bankAccount.val()&&n.bankPassword.val()?(s.val(i(s.val())),!0):!1}),this},reset:function(){this._checkRadio(this._manner)},_elem:function(t){return this.container.find('[data-name="'+t+'"]')},_checkRadio:function(t){this.container.find('input[name="cashTypeStr"][value="'+t+'"]').prop("checked",!0).attr("checked","checked").change()}}),new v({container:e("#plan-summary")}).init(),new _({container:e("#status-button")}).init();var w=0;n(Number(e("#J_progress-acco-div").attr("data1")),Number(e("#J_progress-acco-div").attr("data2"))),setInterval(function(){n(Number(e("#J_progress-acco-div").attr("data1")),Number(e("#J_progress-acco-div").attr("data2")))},50),new s({trigger:"#J_TQTC_BTN",width:"600px",height:"500px",content:e("#J_CONFORM_QUIT_DIV .conform_pay_div")}).before("show",function(){var t=this;e(".ui-confirm-cancel-link").click(function(){t.hide()}),e.ajax({type:"GET",url:"/account/invest!getUplanAdvanceQuitPrincipalAndInterest.action",data:{subPointId:e("#J_SUBPOINT_ID").attr("data")},dataType:"json",success:function(t){0===t.status&&e("#J_YJHSJE").html(t.data.interest+"元")}}),e("#J_QUIT_FORM").submit(function(){return 0===e("#J_cashPassword").val().length?(e("#J_ERROR_P_TX").css("display","block"),!1):void e("#J_cashPassword").val(i(e("#J_cashPassword").val()))}),e("input[type='password']").click(function(){e("#J_ERROR_P_TX").css("display","none")})}),e("#tips_0").on("mousemove",function(){e("#tipCon_0").css("display","inline-block")}),e("#tips_0").on("mouseleave",function(){e("#tipCon_0").css("display","none")}),e("#tips_1").on("mousemove",function(){e("#tipCon_1").css("display","inline-block"),alert(22)}),e("#tips_1").on("mouseleave",function(){e("#tipCon_1").css("display","none")}),e("#tips_2").on("mousemove",function(){e("#tipCon_2").css("display","inline-block")}),e("#tips_2").on("mouseleave",function(){e("#tipCon_2").css("display","none")}),e("#tips_3").on("mousemove",function(){e("#tipCon_3").css("display","inline-block")}),e("#tips_3").on("mouseleave",function(){e("#tipCon_3").css("display","none")}),e("#tips_4").on("mousemove",function(){var t=e("#tips_4").offset().left-e("#J_QUIT_FORM").offset().left+20;e("#tipCon_4").css("left",t+"px").show()}),e("#tips_4").on("mouseleave",function(){e("#tipCon_4").hide()}),e("#tips_5").on("mousemove",function(){var t=e("#tips_5").offset().left-e("#J_QUIT_FORM").offset().left+20;e("#tipCon_5").css("left",t+"px").show()}),e("#tips_5").on("mouseleave",function(){e("#tipCon_5").hide()}),e("#tips_6").on("mousemove",function(){e("#tipCon_6").css("display","inline-block")}),e("#tips_6").on("mouseleave",function(){e("#tipCon_6").css("display","none")}),e(".rollover-ok").on("click",function(){e.get("/html/blank/blank.html?tag=3xuqidetail",function(){});var t=e("#confirm-uplan-roll-over-template").html(),n=r.compile(t),o=n(),a=new s({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){a.element.remove()}).after("show",function(){d.ui.init(),e("#J_ROLLOVER_FORM .ui-confirm-cancel-link").click(function(){a.hide(),a.element.remove()}),e("#J_ROLLOVER_FORM").submit(function(){var t=e('input[name="agree-contract"]'),n=e(".ui-confirm-agree-hint");if(0===e("#J_cashPassword2").val().length)return e("#J_ERROR_P_TX2").css("display","block"),!1;if(t.length>0){var o=t.prop("checked");if(!o)return n.text("投标前请阅读并同意协议"),n.show(),!1;n.hide()}e("#J_cashPassword2").val(i(e("#J_cashPassword2").val()))}),e("#J_cashPassword2").focus(function(){e("#J_ERROR_P_TX2").css("display","none")}),e("#addrate-agree").on("click",function(){var t=parseInt(100*e("#addRate").attr("data-seniorDiscountRate"),10),n=parseInt(100*e("#addRate").attr("data-discountRate"),10),i=(t+n)/100;e(this).prop("checked")?(e("#addRate").text("+"+i.toFixed(2)+"%"),e("#rollOverOrNot").val(2)):(e("#addRate").text("+"+(n/100).toFixed(2)+"%"),e("#rollOverOrNot").val(1))})}).show();e("#tipCon_7").length&&e("#tips_7").length&&(e("#tips_7").on("mouseleave",function(){e("#tipCon_7").hide()}),e("#tips_7").on("mousemove",function(){var t=e("#tips_7").offset().left-e("#J_ROLLOVER_FORM").offset().left+20;e("#tipCon_7").css("left",t+"px").show()})),e("#tipCon_8").length&&e("#tips_8").length&&(e("#tips_8").on("mouseleave",function(){e("#tipCon_8").hide()}),e("#tips_8").on("mousemove",function(){var t=e("#tips_8").offset().left-e("#J_ROLLOVER_FORM").offset().left+20;e("#tipCon_8").css("left",t+"px").show()}))}),e(".cancelrollover-ok").on("click",function(){var t=e("#confirm-cancel-roll-over-succ-template").html(),n=r.compile(t),o=n(),a=new s({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){a.element.remove()}).after("show",function(){d.ui.init(),e("#J_CANCEL_ROLLOVER_FORM .ui-confirm-cancel-link").click(function(){a.hide(),a.element.remove()}),e("#J_CANCEL_ROLLOVER_FORM").submit(function(){e('input[name="agree-contract"]'),e(".ui-confirm-agree-hint");return 0===e("#J_cashPassword2").val().length?(e("#J_ERROR_P_TX2").css("display","block"),!1):void e("#J_cashPassword2").val(i(e("#J_cashPassword2").val()))}),e("#J_cashPassword2").focus(function(){e("#J_ERROR_P_TX2").css("display","none")})}).show()})});
;define("common:widget/oui/pages/account/invest/plans",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t){function a(t,a){s.get("/account/invest!rollOverInfo.action?subPointId="+t,function(t){if(0==t.status){var n={financePlanName:t.data.financePlanName,subPointId:t.data.subPointId,category:t.data.financePlanTemplate.category,lockPeriod:t.data.financePlanTemplate.lockPeriod,expectedRateUplan:r.translator._fixedFloat2(t.data.financePlanTemplate.expectedRateUplan),seniorDiscountRate:r.translator._fixedFloat2(t.data.seniorDiscountRate),discountRate:r.translator._fixedFloat2(t.data.discountRate),rollOverAmount:r.translator._fixedFloat2(t.data.rollOverAmount),lockDays:t.data.lockDays,financePlanId:t.data.financePlanId};e(n,a)}else alert(t.message)})}function e(t,a){var e=s("#confirm-uplan-roll-over-plans-template").html(),n=d.compile(e),o=n(t),i=new u({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){a.index=0,i.element.remove()}).after("show",function(){m.ui.partInit(s("#J_ROLLOVER_FORM")),s("#J_ROLLOVER_FORM .ui-confirm-cancel-link").click(function(){i.hide(),i.element.remove()}),s("#J_ROLLOVER_FORM").submit(function(){var t=s('input[name="agree-contract"]'),a=s(".ui-confirm-agree-hint");if(0===s("#J_cashPassword2").val().length)return s("#J_ERROR_P_TX2").css("display","block"),!1;if(t.length>0){var e=t.prop("checked");if(!e)return a.text("投标前请阅读并同意协议"),a.show(),!1;a.hide()}s("#J_cashPassword2").val(RSAencript(s("#J_cashPassword2").val()))}),s("#J_cashPassword2").focus(function(){s("#J_ERROR_P_TX2").css("display","none")}),s("#addrate-agree").on("click",function(){var t=parseInt(100*s("#addRate").attr("data-seniorDiscountRate"),10),a=parseInt(100*s("#addRate").attr("data-discountRate"),10),e=(t+a)/100;s(this).prop("checked")?(s("#addRate").text("+"+e.toFixed(2)+"%"),s("#rollOverOrNot").val(2)):(s("#addRate").text("+"+(a/100).toFixed(2)+"%"),s("#rollOverOrNot").val(1))})}).show();s("#tipCon_7").length&&s("#tips_7").length&&(s("#tips_7").on("mouseleave",function(){s("#tipCon_7").hide()}),s("#tips_7").on("mousemove",function(){var t=s("#tips_7").offset().left-s("#J_ROLLOVER_FORM").offset().left+20;s("#tipCon_7").css("left",t+"px").show()})),s("#tipCon_8").length&&s("#tips_8").length&&(s("#tips_8").on("mouseleave",function(){s("#tipCon_8").hide()}),s("#tips_8").on("mousemove",function(){var t=s("#tips_8").offset().left-s("#J_ROLLOVER_FORM").offset().left+20;s("#tipCon_8").css("left",t+"px").show()}))}function n(t){var a=s("#confirm-pay-template").html(),e=d.compile(a),n={};if(t.initCouponValue)var n={id:t.initCouponValue.couponId,payable:parseInt(t.unRepayAmountNotComma)-parseInt(t.initCouponValue.couponValue)};"OLD"==t.category&&(t.categorystr=1);var o=e(t),l=new u({width:"580px"}).before("show",function(){this.set("content",o)}).after("hide",function(){l.element.remove()}).show();m.ui.init(),t.initCouponValue?(n.payable<0&&(n.payable=0),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(n.payable))):(s(".ui-select",".J_addCoupon").hide(),s(".ui-selectdrop",".J_addCoupon").hide()),m.validate({target:"#accontRsvConfirm",validateData:{submitHandler:function(t){if("BANK"==s("input[name='cashTypeStr']:checked").val()){if(!s.trim(s("#txPsw").val()))return void s("#pswMsg").html("交易密码不能为空");s("#pswMsg").empty()}var a=parseInt(100*s("#max-account").attr("data-account"),10),e=parseInt(100*s(".J_payable").attr("data-payable"),10);return 0>a-e?void s(".ui-confirm-yue").text("您的余额不足").show():void t.submit()}}}),s(document).click(function(t){var a=t.target;s(a).parent("span").hasClass("arrow")||s(a).parent("div").hasClass("J_select_btn")||s(".J_popBox").css("display","none")}),s(".J_select_btn").click(function(t){s(".J_popBox").css("display","none");var a=s(t.currentTarget).parent().find("ul");"block"==a.css("display")?a.css("display","none"):a.css("display","block")}),s(".J_popBox").on("mouseover","li",function(t){s(t.currentTarget).attr("class","selected")}),s(".J_popBox").on("mouseleave","li",function(t){s(t.currentTarget).attr("class","")}),s(".J_popBox").on("click","li",function(a){var e=s(a.currentTarget).attr("datavalue"),o=s(a.currentTarget).find("span").text(),l=s(a.currentTarget).attr("couponType"),c=s(a.currentTarget).parent().parent(),p=parseInt(t.unRepayAmountNotComma)-parseInt(s(a.currentTarget).attr("couponvalue"));0>p&&(p=0),s(".J_red_packet_tips").addClass("fn-hide"),c.find(".J_txt").text(o),n.id=e,n.payable=p,s("#getUseCouponId").attr("couponType",l),s("#chooseCoupon").prop("checked")?(s("#getUseCouponId").attr("value",e),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(n.payable)),"DISCOUNT"==l&&(s("span",".J_red_packet_tips").text(s(a.currentTarget).attr("couponvalue")),s(".J_red_packet_tips").removeClass("fn-hide"))):"DISCOUNT"==l&&s("span",".J_red_packet_tips").text(s(a.currentTarget).attr("couponvalue")),i()}),s("#closeDialog").unbind().on("click",function(){location.reload(),s(".ui-dialog-close").trigger("click")}),s(".ui-dialog-close").unbind().on("click",function(){location.reload()}),s(".J_use_psw").on("click",function(){s(".J_use_psw_wrap").toggle(),s("input",".J_use_psw_wrap").focus()}),s(".J_use_coupon").on("click",function(){var a=s.trim(s(".ui-input",".J_use_psw_wrap").val());if(""===a)return s(".J_use_coupon_tips").text("优惠密码不能为空!").show(),void s(".J_use_coupon_tips").delay(3e3).slideUp(function(){s(this).html("")});var e="";"A"==t.category&&(e="UPLAN_A"),"B"==t.category&&(e="UPLAN_B"),"C"==t.category&&(e="UPLAN_C"),s.ajax({url:"/account/bindUserCoupon.action?couponCode="+a+"&payAmount="+t.unRepayAmountNotComma+"&businessCategory="+e+"&t="+(new Date).getTime(),success:function(a){if(s(".J_use_coupon_tips").text(a.message).show().delay(3e3).slideUp(function(){s(this).html("")}),0===a.status){s(".J_txt",".ui-selectdrop").text(a.data.name);var e=parseInt(t.unRepayAmountNotComma)-a.data.couponValue;0>e&&(e=0),s(".J_popBox",".ui-selectdrop").prepend('<li class="" datavalue="'+a.data.couponId+'" couponvalue="'+a.data.couponValue+'" unrepayamout="'+businessPayAmount+'" couponType="'+a.data.couponTypeEng+'" ><span>'+a.data.name+"</span></li>"),s(".J_use_psw_wrap").slideUp(),s("input",".J_use_psw_wrap").val(""),n.id=a.data.couponId,n.payable=e,s(".ui-select",".J_addCoupon").show(),s(".ui-selectdrop",".J_addCoupon").show(),s("#chooseCoupon").prop("checked")&&(s("#getUseCouponId").val(a.data.couponId),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(e))),"DISCOUNT"==a.data.couponTypeEng?(s("span",".J_red_packet_tips").text(a.data.couponValue),s(".J_red_packet_tips").removeClass("fn-hide")):s(".J_red_packet_tips").addClass("fn-hide")}}})}),s("#chooseCoupon").on("click",function(){s(this).prop("checked")?(s("#getUseCouponId").val(n.id),s(".J_payable").attr("data-payable",n.payable).html(r.translator._commaFloat(n.payable)),"DISCOUNT"==s("#getUseCouponId").attr("coupontype")&&s(".J_red_packet_tips").removeClass("fn-hide")):(s(".J_red_packet_tips").addClass("fn-hide"),s("#getUseCouponId").val(""),s(".J_payable").attr("data-payable",t.unRepayAmount).html(t.unRepayAmountComma)),i()}),s("#J_conform_pay_div").unbind("click").on("click",'input[name="cashTypeStr"]',function(){"BANK"==s(this).val()?(s(this).parent().siblings("select").html(f.html()).show(),"-1"!=s(this).parent().siblings("select").val()?s(this).parent().siblings("#J_TX_pass").show():s(this).parent().siblings("#J_a_addbank").show()):(s(this).parent().siblings("select").hide(),s(this).parent().siblings("#J_TX_pass").hide(),s(this).parent().siblings("#J_a_addbank").hide(),s("#pswMsg").empty())})}function o(t){var a=RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))}function i(){var t=parseInt(100*s("#max-account").attr("data-account"),10),a=parseInt(100*s(".J_payable").attr("data-payable"),10);0>t-a?s(".ui-confirm-yue").text("您的余额不足").show():s(".ui-confirm-yue").text("").hide()}var s=t("common:widget/oui/lib/jquery/1.9.1/jquery"),l=t("common:widget/oui/common"),r=t("common:widget/oui/protocol"),c=t("common:widget/oui/widgets/widgets"),p=t("common:widget/oui/components/components.jscomponents"),u=t("common:widget/oui/arale/dialog/1.3.3/dialog"),d=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),m=c.Form,_=function(t){s.extend(this,{container:t.container,subPointid:"",handler:null,dialogExitExecution:null,dialogExit:null,_ui:{}})};s.extend(_.prototype,{init:function(){var t=this,e=this._ui;e.btn=t._elem("quit"),e.rollbtn=t._elem("rollOver"),e.rollbtn.index=0,e.btn.length>0&&(t.handler=new p.PlanQuitHandler({planName:t.container.data("plan-name"),subPointId:t.container.data("sub-point-id"),finalAmount:t.container.data("final-amount")}).init(),l.constant.QUIT_PLAN_DISABLED&&(e.btn.removeClass("cursor-pointer"),e.btn.addClass("quit-disabled")),e.btn.click(function(){l.constant.QUIT_PLAN_DISABLED||t.handler.start("exit")})),e.rollbtn.click(function(){0==e.rollbtn.index&&(e.rollbtn.index++,a(s(this).attr("data-subPointId"),e.rollbtn),s.get("/html/blank/blank.html?tag=3xuqilist",function(){}))})},_elem:function(t){return this.container.find('[data-name="'+t+'"]')}}),new c.List({name:"holding-list",api:r.API.getUserHoldingPlans,title:!0,filter:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(t,a){new _({container:s(a)}).init()}),l.initPoptips(this.container)}}).init(l.loadJSON("#holding-list-rsp",!0)),new c.Tab({name:"plans",switched:function(t,a,e){return e?!0:("exiting"==a&&new c.List({name:"exiting-list",api:r.API.getUserExitingPlans,title:!0,pagination:!0}).init()._update(),"exited"==a&&new c.List({name:"exited-list",api:r.API.getUserExitedPlans,title:!0,pagination:!0,rendered:function(){l.initPoptips(this.container)}}).init()._update(),"reserve"==a&&new c.List({name:"reserve-list",api:r.API.getUserReservePlans,title:!0,pagination:!0,rendered:function(){l.initPoptips(this.container)}}).init()._update(),!0)}}).init(),s("body").on("click",".list-a-pay",function(t){t.preventDefault(),s.get("/account/invest!detailPlanRsv.action?financeId="+s(this).data("id")+"&t="+(new Date).getTime(),function(t){if(1===t.status)return void alert(t.message);var a=t.data.financePayDetail;a.joinFee=a.joinFee?a.joinFee:0,a.expectedRate=a.expectedRate,a.planAmount=r.translator._commaFloat(a.planAmount),a.unRepayAmountComma=r.translator._commaFloat(a.unRepayAmount),a.unRepayAmountNotComma=a.unRepayAmount,a.availablePointsNotTran=a.availablePoints,a.availablePoints=r.translator._commaFloat(a.availablePoints),a.codeList=t.data.couponList,a.initCouponValue=t.data.couponList[0],n(a)})});var f=s("<div class='fn-hide'></div>").appendTo(s("body"));l.fillTemplate({container:f,template:s("#bank-accounts-template"),data:r.translator.translate(r.API.getUserBankInfo,l.loadJSON("#bank-accounts-rsp",!0).data)}),s("#J_imm_pay_a").length&&s("#J_imm_pay_a").click(function(t){s("#plans-tab li:last").trigger("click"),t.preventDefault()}),("RESERVATIONS"==s("#pg-helper-tab-jumpping").text()||"reservations"==o("tab"))&&s("#plans-tab li:last").trigger("click")});
;define("common:widget/oui/pages/account/invest/returns",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/calendar/0.9.0/calendar","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(t){var e=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=t("common:widget/oui/arale/calendar/0.9.0/calendar"),n=t("common:widget/oui/common"),o=t("common:widget/oui/protocol"),r=t("common:widget/oui/widgets/widgets"),i=function(t){return t=t||e("#back-status").val(),e("#back-status").children('option[value="'+t+'"]').text()},c=function(t,e,a,n){var o=t?new Date(t.replace(/-/g,"/")):new Date;void 0!==e&&o.setFullYear(o.getFullYear()+e),void 0!==a&&o.setMonth(o.getMonth()+a),void 0!==n&&o.setDate(o.getDate()+n);var r=o.getFullYear(),i=o.getMonth()+1,c=o.getDate();return r+"-"+(i>9?i:"0"+i)+"-"+(c>9?c:"0"+c)},l=n.loadJSON("#return-records-rsp",!0),u=e("#query-summary"),d=e("#return-total-amount"),s=e("#return-status-label"),m=e("#normal"),v=e("#advance"),p=e("#query-info"),g=e("#query-switch"),h=e("#back-status"),f=e("#back-start-time"),w=e("#back-end-time"),y=l.data.selectedDateAmount,b=i();d.text(y),s.text(b);var k=new r.List({name:"return-records",api:o.API.getUserLoansReturnRecords,title:!0,pagination:!0}).init(l),M="2010-01-01",x=f.data("current"),q={today:x,prevYear:c(x,-1,0,1),prevMonth:c(x,0,-1),nextMonth:c(x,0,1)},D=null,S=null;w.val(q.nextMonth),function(){var t,a=2010,n=parseInt(q.today.split("-")[0],10),o=parseInt(q.today.split("-")[1],10),r=e('select[name="year"]'),i=e('select[name="startMonth"], select[name="endMonth"]'),c=e('select[name="startMonth"]'),l=e('select[name="endMonth"]'),u=function(t){return'<option value="'+t+'">'+t+"</option>"},d=function(t){return parseInt(t.val(),10)};for(t=n;t>=a;t--)r.append(u(t));for(t=1;o>=t;t++)i.append(u(t));r.change(function(){var e=d(r),a=d(c),s=d(l),m=e==n?o:12;for(i.empty(),t=1;m>=t;t++)i.append(u(t));c.val(o>=a?a:1),l.val(o>=s?s:1)}),c.change(function(){var a=l.val(),i=d(r)==n?o:12;for(l.empty(),t=d(e(this));i>=t;t++)l.append(u(t));l.val(a)}),l.change(function(){var a=c.val();for(c.empty(),t=1;t<=d(e(this));t++)c.append(u(t));c.val(a)})}(),n.isIE6()||(D=new a({trigger:f,range:[M,null]}),S=new a({trigger:w,range:[M,null]}),D.on("selectDate",function(t){var e="BACK_REP"==h.val()?q.today:null;S.range([t,e])}),S.on("selectDate",function(t){var e="BACK_REP"==h.val()?q.prevYear:null;D.range([e,t])}));var A=function(){var t={};if(e("#normal").is(":visible"))t.backStatus=h.val(),t.backStartTime=f.val(),t.backEndTime=w.val(),t.accountType="normal";else{var a=e("#advance").find("[name='year']").val(),n=parseInt(e("#advance").find("[name='startMonth']").val(),10),o=parseInt(e("#advance").find("[name='endMonth']").val(),10);n=n>9?n:"0"+n,o=o>9?o:"0"+o,t.backStatus=h.val(),t.backStartTime=a+"-"+n+"-01",t.backEndTime=a+"-"+o+"-30",t.accountType="senior"}return t};h.change(function(){var t=e(this).val().toUpperCase();"BACK_REP"==t?(f.add(w).css({width:"80px"}),f.val(q.prevMonth),w.val(q.today),D.range([q.prevYear,q.today]),S.range([q.prevYear,q.today]),p.add(g).show()):("高级查询"!=g.text()&&g.trigger("click"),f.add(w).css({width:"auto"}),f.val(q.today),w.val(q.nextMonth),D.range([M,null]),S.range([M,null]),p.add(g).hide())}),g.click(function(){"高级查询"==e(this).text()?(m.add(p).hide(),v.show(),e(this).text("普通查询")):(m.add(p).show(),v.hide(),e(this).text("高级查询"))}),e("#query-submit").click(function(){var t=A(),a=e.param(t);k._params=t,k._update(t,function(e,n,o){latestStatus=e,latestParams=a,d.text(o.selectedDateAmount),s.text(i(t.backStatus)),"BACK_REP"==t.backStatus?u.hide():u.show()})})});
;define("common:widget/oui/pages/account/invest/statistics",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/lib/highcharts/3.0.5/highcharts"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/protocol");e("common:widget/oui/lib/highcharts/3.0.5/highcharts");var i=a.translator,n=["#3488ad","#1bb8e2","#aabc64","#ffc400","#f78800","#e52012","#f01f5a"],o=function(e){return n[e%7]},r=function(e){return parseFloat(i._bankersRound(e))},c=null,s=null;s=function(e,a){var i={};return e.find('[data-name="'+a+'"]').each(function(e,n){var o=t(n);if("yes"==o.data("deep"))i[o.data(a)]=s(o,o.data("value"));else{var r=o.data("value");"string"==typeof r&&(r=parseFloat(r,10)),i[o.data(a)]=r}}),i};var l=[],h=[];c=s(t("#gained-data"),"category"),t.each(c,function(e,t){l.push(e),h.push(r(t))}),t("#gained-chart").highcharts({chart:{type:"column"},title:{text:"理财账户收益金额组成"},legend:!1,xAxis:{categories:l},yAxis:{title:!1},series:[{name:"收益",data:h,color:o(0)}],credits:{enabled:!1}});var d,u,p;d=[],u=[],p=0,c=s(t("#total-invest-data"),"category"),t.each(c,function(e,a){if("number"==typeof a)0!==a&&(d.push({name:e,y:r(a),color:o(p)}),u.push({name:e,y:r(a),color:o(p)}),p+=1);else{var i=0;t.each(a,function(e,t){0!==t&&(u.push({name:e,y:r(t),color:o(p)}),i+=t)}),0!==i&&(d.push({name:e,y:r(i),color:o(p)}),p+=1)}}),0===p?t("#total-invest-chart").addClass("empty").text(t("#total-invest-chart").data("empty")):t("#total-invest-chart").highcharts({chart:{type:"pie"},title:{text:"累计投资金额分类占比"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},series:[{name:"投资额",data:d,size:"60%",dataLabels:{enabled:!1}},{name:"投资额",data:u,size:"80%",innerSize:"60%"}],credits:{enabled:!1}}),d=[],u=[],p=0,c=s(t("#current-invest-data"),"category"),t.each(c,function(e,a){if("number"==typeof a)0!==a&&(d.push({name:e,y:r(a),color:o(p)}),u.push({name:e,y:r(a),color:o(p)}),p+=1);else{var i=0;t.each(a,function(e,t){0!==t&&(u.push({name:e,y:r(t),color:o(p)}),i+=t)}),0!==i&&(d.push({name:e,y:r(i),color:o(p)}),p+=1)}}),0===p?t("#current-invest-chart").addClass("empty").text(t("#current-invest-chart").data("empty")):t("#current-invest-chart").highcharts({chart:{type:"pie"},title:{text:"理财账户资产分类占比"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},series:[{name:"投资额",data:d,size:"60%",dataLabels:{enabled:!1}},{name:"投资额",data:u,size:"80%",innerSize:"60%"}],credits:{enabled:!1}}),d=[],u=[],p=0,c=s(t("#to-gain-data"),"category"),t.each(c,function(e,t){0!==t&&(d.push({name:e,y:r(t),color:o(p)}),p+=1)}),0===p?t("#to-gain-chart").addClass("empty").text(t("#to-gain-chart").data("empty")):t("#to-gain-chart").highcharts({chart:{type:"pie"},title:{text:"债权待收收益分类占比"},legend:!1,plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"元"},series:[{name:"金额",data:d}],credits:{enabled:!1}})});
;define("common:widget/oui/pages/account/invest/transfer",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/tip/1.1.4/tip"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),i=e("common:widget/oui/common"),a=e("common:widget/oui/protocol"),r=e("common:widget/oui/widgets/widgets"),o=e("common:widget/oui/components/components.jscomponents"),c=e("common:widget/oui/arale/tip/1.1.4/tip"),s=function(e){t.extend(this,{container:e.container}),this._ui={cancel:this._elem("cancel")}};t.extend(s.prototype,{init:function(){var e=this;return this._ui.cancel.click(function(){var a=i.fillTemplate({template:t("#confirm-transfer-cancel-template"),data:e._data()});new n({content:a}).after("show",function(){var e=this;t(".ui-confirm-cancel-link").click(function(){e.hide()}),new r.Captcha({name:"captcha"}).init()}).after("hide",function(){this.destroy()}).show()}),this},_elem:function(e){return this.container.find('[data-name="'+e+'"]')},_data:function(){var e=a.translator;return{loanId:this.container.data("loan-id"),transferId:this.container.data("transfer-id"),sharesTransferred:this.container.data("initialShares")-this.container.data("shares"),sharesLeft:this.container.data("shares"),income:this.container.data("income"),fee:this.container.data("fee"),summary:e._fixedFloat2(this.container.data("income")-this.container.data("fee"))}}});var d=function(e){t.extend(this,{container:e.container,changed:e.changed||function(){}}),this._ui={transfer:this._elem("transfer"),checkbox:this._elem("check")},this.loanId=this.container.data("loan-id")};t.extend(d.prototype,{init:function(){var e=this,a=this._ui;return a.transfer.click(function(){var a=i.fillTemplate({template:t("#confirm-transfer-out-template"),data:e._data()});new n({content:a}).after("show",function(){var e=this;t(".ui-confirm-cancel-link").click(function(){e.hide()}),new o.TransferConfirmation.Confirm({container:t("#confirm-transfer-out")}).init()}).after("hide",function(){this.destroy()}).show()}),a.checkbox.change(function(){e.changed(a.checkbox.prop("checked"))}),this},_elem:function(e){return this.container.find('[data-name="'+e+'"]')},_data:function(){var e=a.translator;return ret={loanId:this.loanId,lenderId:this.container.data("lender-id"),investAmount:this.container.data("invest-amount"),investShares:this.container.data("invest-shares"),interest:this.container.data("interest"),interestGained:this.container.data("interest-gained"),termsLeft:this.container.data("terms-left"),termsInTotal:this.container.data("terms-in-total"),availableShares:this.container.data("available-shares"),valuePerShare:this.container.data("value-per-share"),repaymentsPerShare:this.container.data("repayments-per-share"),interestPerShare:this.container.data("interest-per-share"),principalPerShare:this.container.data("principal-per-share"),fee:this.container.data("fee")},ret.value=e._fixedFloat2(ret.valuePerShare*ret.availableShares),ret.summary=e._fixedFloat2(ret.value-ret.fee),ret}});var l=function(e){t.extend(this,{container:e.container,selector:e.checkboxSelector,_items:{},_count:0,_value:0,_skipUpdating:!1,_ui:{count:t("#selected-count"),value:t("#selected-value"),all:t("#select-all"),submit:t("#transfer-batch")}})};t.extend(l.prototype,{init:function(){var e=this,a=this._ui;return a.all.change(function(){e._skipUpdating=!0,t(e.selector).each(a.all.prop("checked")?function(e,n){var i=t(n);i.prop("checked")||(i.prop("checked",!0),i.attr("checked","checked"),i.change())}:function(e,n){var i=t(n);i.prop("checked")&&(i.prop("checked",!1),i.removeAttr("checked"),i.change())}),e._skipUpdating=!1}),a.submit.click(function(){if(!a.submit.hasClass("disabled")){var r=i.fillTemplate({template:t("#confirm-batch-transfer-out-template"),data:e._data()});new n({content:r}).after("show",function(){var n=this;t(".ui-confirm-cancel-link").click(function(){n.hide()}),new o.TransferConfirmation.ConfirmBatch({container:t("#confirm-batch-transfer-out"),items:e._items}).init()}).after("hide",function(){this.destroy()}).show()}}),this},add:function(e){var t=e.loanId;t&&(this._items[t]=e,this._value+=parseFloat(e.value,10),this._count+=1,this.update())},remove:function(e){var t=e.loanId;t&&this._items[t]&&(this._value-=parseFloat(this._items[t].value,10),this._count-=1,delete this._items[t],this.update())},update:function(){var e=this,n=this._ui;0===this._count?(this._value=0,n.submit.addClass("disabled")):n.submit.removeClass("disabled"),n.count.text(this._count),n.value.text(a.translator._fixedFloat2(this._value));var i,r=t(this.selector);if(t.each(r,function(n,a){$box=t(a),i=$box.val(),e._items[i]&&($box.prop("checked",!0),$box.attr("checked","checked"))}),!this._skipUpdating){for(var o=0!==r.length,c=0;c<r.length;c++)if(!t(r[c]).prop("checked")){o=!1;break}o?(n.all.prop("checked",!0),n.all.attr("checked","checked")):(n.all.prop("checked",!1),n.all.removeAttr("checked"))}},_data:function(){var e=a.translator,n=[],i=[],r=null;t.each(this._items,function(e,t){t.lenderId&&t.availableShares&&(n.push(t.lenderId),i.push(t.availableShares),r||(r=t.fee||.01))});var o={count:this._count,value:this._value,lenderIds:n.join(","),shares:i.join(","),fee:r};return o.summary=e._fixedFloat2(o.value-o.fee),o.value=e._fixedFloat2(o.value),o}}),new r.List({name:"transferring-list",api:a.API.getUserTransferringLoans,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(e,n){new s({container:t(n)}).init()})}}).init(i.loadJSON("#transferring-list-rsp",!0)),new r.Tab({tabsContainer:t("#transfer-tab"),contentsContainer:t("#transfer-tab-content"),switched:function(e,n,i){if(i)return!0;if("transferable"==n){var c=new l({container:t("#transferable-selections"),checkboxSelector:'input[data-name="check"]'}).init();new r.List({name:"transferable-list",api:a.API.getUserTransferableLoans,title:!0,pagination:!0,rendered:function(){this.container.children("li.ui-list-item").each(function(e,n){new d({container:t(n),changed:function(e){e?c.add(this._data()):c.remove({loanId:this.loanId})}}).init()}),c.container.show(),c.update()}}).init()._update()}return"transferred-out"==n&&o.ListFactory.create("transferred-out","transferred-out-list").init()._update(),"transferred-in"==n&&new r.List({name:"transferred-in-list",api:a.API.getUserTransferredInLoans,title:!0,pagination:!0}).init()._update(),!0}}).init(),new c({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),new c({element:"#tipCon_2",trigger:"#tips_2",direction:"right"})});
;define("common:widget/oui/pages/account/profile",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents"],function(o){{var e=o("common:widget/oui/lib/jquery/1.9.1/jquery"),i=o("common:widget/oui/common"),n=o("common:widget/oui/protocol"),m=o("common:widget/oui/widgets/widgets");o("common:widget/oui/components/components.jscomponents")}new m.List({name:"userInfo-list",api:n.API.getUserInfo,pagination:!0,params:{userId:e("#nick-name").data("userid")},rendered:function(){}}).init(i.loadJSON("#userInfo-list-rsp",!0))});
;define("common:widget/oui/pages/account/userInfo",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents"],function(o){{var e=o("common:widget/oui/lib/jquery/1.9.1/jquery"),n=o("common:widget/oui/common"),i=o("common:widget/oui/protocol"),m=o("common:widget/oui/widgets/widgets");o("common:widget/oui/components/components.jscomponents")}new m.List({name:"userInfo-list",api:i.API.getUserInfo,pagination:!0,params:{userId:e("#nick-name").data("userid")},rendered:function(){}}).init(n.loadJSON("#userInfo-list-rsp",!0))});
;define("common:widget/oui/pages/auth/loan-list",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(i){var t=(i("common:widget/oui/lib/jquery/1.9.1/jquery"),i("common:widget/oui/common")),e=i("common:widget/oui/protocol"),o=i("common:widget/oui/widgets/widgets");new o.List({name:"loan-list",api:e.API.getLoans,header:!0,more:!0,rendered:function(){this.container.find(".ui-list-item.last").removeClass("last"),this.container.find(".ui-list-title").removeClass("ui-list-title-sortable").removeClass("ui-list-title-sortable-1").removeClass("ui-list-title-sortable-2").removeClass("ui-list-title-sortable-3").removeClass("ui-list-title-sortable-4"),this.container.find(".ui-list-title").attr("next","-1"),this.container.find(".ui-list-title").children("em").remove(),this.container.find(".ui-list-title-refresh").text("").removeClass("ui-list-title-refresh")}}).init(t.loadJSON("#loan-list-rsp",!0))});
;define("common:widget/oui/pages/auth/login",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/lib/mailSuggest/0.0.1/mailSuggest"],function(e){var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/rsa/index"),t=e("common:widget/oui/widgets/widgets"),n=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),r=e("common:widget/oui/lib/mailSuggest/0.0.1/mailSuggest");i(function(){function e(e){var o=i("#j_username"),t={};t.left=o.offset().left,t.top=o.offset().top+o.innerHeight(),e.css({left:t.left,top:t.top,absolute:"position"})}function s(e,i){var o=c.find(".cur"),t=o.index(),n=c.find("li").length;"down"==i?(t++,t>n-1&&(t=0),c.find("li").removeClass("cur").eq(t).addClass("cur")):"up"==i?(t--,0>t&&(t=n-1),c.find("li").removeClass("cur").eq(t).addClass("cur")):"enter"==i&&(e.val(o.text()).blur(),c.hide(),d.trigger("focus"))}var a=t.Form,l=new r,u=i("#j_username"),d=i("#J_pass_input"),c=i('<div class="suggest" id="suggest"></div>').appendTo(i("body"));i("#rememberme").length&&a.ui.init(),e(c);var m=i("#email-suggest-template").html(),g=n.compile(m);a.validate({target:"#login",before:function(){a.randImage(),i("#refreshCode").click(function(){i("#randImage").trigger("click")})},inputTheme:!0,showSingleError:!0,validateData:{onkeyup:!1,showErrors:function(e,o){var t=i("#allError");t.length?(i("#login").find("input").each(function(){i(this).removeClass("error")}),t.html(""),o.length&&(t.html(o[0].message),i(o[0].element).addClass("error"))):this.defaultShowErrors()},submitHandler:function(e){d.val(o(d.val())),e.submit()}}}),u.on("keyup",function(o){e(c);var t=i(this).val();switch(o.keyCode){case 38:s(i(this),"up");break;case 40:s(i(this),"down");break;case 13:s(i(this),"enter");break;default:if(!t.length)return void c.hide();var n=l.run(t);/^\d{1,}$/g.test(t)&&(n.remove=!0);var r=g(n);c.html(r).show().find("li").eq(0).addClass("cur")}}).on("keydown",function(e){13==e.keyCode&&e.preventDefault()}).on("focusout",function(){setTimeout(function(){c.hide()},500)}),i(window).on("resize",function(){e(c)}),c.on("mouseenter","li",function(){i(this).addClass("cur")}).on("mouseleave","li",function(){i(this).removeClass("cur").siblings().removeClass("cur")}).on("click","li",function(){s(u,"enter"),d.trigger("focus")}),i("#randCode").keyup(function(){var e=i(this).val();e.length&&i.get("/account/checkCode.action?j_code="+e+"&code="+e,function(e){"true"==e.result?(i(".validCode").show(),i("#allError").hide()):(i(".validCode").hide(),i("#allError").show())})}),i(".partner").length&&i(".partner").hover(function(){i(this).addClass("hover")},function(){i(this).removeClass("hover")}),i("body")[0].scrollTop=0})});
;define("common:widget/oui/pages/auth/reg",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/widgets/widgets","common:widget/oui/arale/tip/1.1.4/tip"],function(e){var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/rsa/index");window.parent!=window&&(window.top.location.href=location.href),o(function(){function t(){o(".ui-step li").eq(0).removeClass("ui-step-done").addClass("ui-step-active"),o(".ui-step li").eq(1).removeClass("ui-step-active"),o("#randCode").val(""),o("#randImage").trigger("click"),o(".validCode").hide(),o("#step1").show(),o("#step2").hide(),o("#reg").find("input[name=confirm_password]").val(""),o("#reg").find("input[name=password]").val("")}function n(){o(".ui-step li").eq(0).removeClass("ui-step-active").addClass("ui-step-done"),o(".ui-step li").eq(1).addClass("ui-step-active"),o("#mobileCode").val(""),o("#code-label").hide(),o("#step1").hide(),o("#step2").show();var e=o("#reg").find("input").not("input[type='submit']").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}),i="";e.each(function(){i+="<input type='hidden' name='"+o(this).attr("name")+"' value='"+o(this).val()+"' />"}),o("#hiddeninputs").html(i);var t=o("#getMobileCode");t.data("mobile")!=o("input[name='username']").val()&&(t.removeAttr("disabled"),c.clear()),t.is(":disabled")||t.trigger("click"),t.data("mobile",o("#userMobile").text())}function a(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var d=e("common:widget/oui/widgets/widgets"),s=d.Form,l=d.pswLevel;Tip=e("common:widget/oui/arale/tip/1.1.4/tip");var r,c,u=o(".psw-range div");if(s.ui.init(),o("#password").on("keyup",function(){var e=o(this).val(),i=l(e);switch(i.level){case"强":u.removeClass().addClass("high");break;case"中":u.removeClass().addClass("mid");break;case"弱":u.removeClass().addClass("low")}u.show()}).on("blur",function(){}),o("#usertype").on("click","li",function(){var e=o(this).index();o(this).addClass("cur").siblings().removeClass("cur"),o("input[name = 'intention']").eq(e).trigger("click"),o("label[for='intention']").addClass("valid").html("")}),o("#gostep1").click(function(e){t(),"1"==o("#lpjumptoreg").val()&&(o("input[name=nickName]").focus(),o("#phone").focus()),e.preventDefault()}),"1"==o("#lpjumptoreg").val()&&(o("#userMobile").html(o("#lpphonenum").val()),o("#phone").val(o("#lpphonenum").val()),r=s.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getMobileCode"),!1)},onClear:function(){a(o("#getMobileCode"),!0)}}),c=s.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getVoiceCode"),!1)},onClear:function(){a(o("#getVoiceCode"),!0)}}),n()),o("#setIdForm").length&&s.validate({target:"#setIdForm",validateData:{submitHandler:function(e){s.ajaxSubmit(o(e),{msgafter:"#"+o(e).find("input[type='submit']")[0].id,before:function(){this.msg("正在验证，请稍后...")},success:function(e){if(this.msg(e.message,"warn"),0===e.status){o(".auth").hide(),o(".authSuccess").show();var i=o("#second"),t=5,n=setInterval(function(){i.html(t),0>=t?(document.location="/account/index.action",clearInterval(n)):t--},1e3)}}})}}}),s.validate({target:"#mobileCodeForRegForm",validateData:{submitHandler:function(e){var i=o("#mobileCode").val(),t=o("#userMobile").text();o.get("/account/checkCode.action?mobileCode="+i+"&code="+i+"&mobile="+t,function(i){"false"==i.result?o("#code-label").show():(o("#code-label").hide(),e.submit())})}}}),s.validate({target:"#reg",showTip:o("#reg").data("showtip")===!0?!0:!1,before:function(){r||c||(r=s.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getMobileCode"),!1)},onClear:function(){a(o("#getMobileCode"),!0)}}),c=s.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){a(o("#getVoiceCode"),!1)},onClear:function(){a(o("#getVoiceCode"),!0)}})),s.randImage(),o("#refreshCode").click(function(){o("#randImage").trigger("click")})},inputTheme:!0,showSingleError:!0,validateData:{ignore:".ignore",success:function(e){"nickName"==e.attr("for")&&e.html("此昵称将用作展示，一旦注册成功不能修改"),"phone"==e.attr("for")&&e.html("请保持手机畅通，以便完成手机信息验证"),e.addClass("valid")},submitHandler:function(e){o(e).find("input[name=password]").val(i(o(e).find("input[name=password]").val())),o(e).find("input[name=confirm_password]").val(i(o(e).find("input[name=confirm_password]").val())),s.ajaxSubmit(o(e),{msgafter:"#"+o(e).find("input[type='submit']")[0].id,success:function(e){0===e.status?(o("#userMobile").html(e.data.username),n()):this.msg(e.message,"warn")}})}}}),!document.all&&document.querySelector){s.checkCode({ele:o("#randCode"),data:{code:function(){return o("#randCode").val()}},success:function(){o(".validCode").show()},failed:function(){o(".validCode").hide()}}),s.checkCode({ele:o("#mobileCode"),data:{code:function(){return o("#mobileCode").val()},mobile:function(){return o("#phone").val()},t:function(){return(new Date).getTime()}}})}o("#randCode").on("blur",function(){o("#code-error").hasClass("valid")?o(".validCode").show():o(".validCode").hide()}),o("#reg-tab").length&&new d.Tab({name:"reg",switched:function(e,o){return!0}}).init(),o("body")[0].scrollTop=0})});
;define("common:widget/oui/pages/auth/register-old",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/widgets/widgets"],function(e){var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/rsa/index");o(function(){function t(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),d=e("common:widget/oui/widgets/widgets"),a=d.Form;new n({trigger:"#showMobileCodeBox",width:o("#mobileCodeBox").data("width")?o("#mobileCodeBox").data("width")+"px":"570px",hasMask:{hideOnClick:!1}}).before("show",function(){var e=o("#reg").find("input").not("input[type='submit']").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}),i="";e.each(function(){i+="<input type='hidden' name='"+o(this).attr("name")+"' value='"+o(this).val()+"' />"}),o("#hiddeninputs").html(i),this.set("content",o("#mobileCodeBox")),o("#getMobileCode").trigger("click")}).after("hide",function(){o("#hiddeninputs").empty(),o("#randImage").trigger("click")}),a.validate({target:"#mobileCodeForRegForm",validateData:{submitHandler:function(e){var i=o("#mobileCode").val(),t=o("#userMobile").text();o.get("/account/checkCode.action?mobileCode="+i+"&code="+i+"&mobile="+t,function(i){"false"==i.result?o("#code-label").show():(o("#code-label").hide(),e.submit())})}}}),a.validate({target:"#reg",showTip:o("#reg").data("showtip")===!0?!0:!1,tip:{nickName:"4-16位字符，可包含中文，英文，数字和“_”。注册完成后不可修改",username:"请输入11位数字",password:"密码须为6-16位英文字母、数字和符号(不包括空格)"},before:function(){a.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getMobileCode"),!1)},onClear:function(){t(o("#getMobileCode"),!0)}}),a.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getVoiceCode"),!1)},onClear:function(){t(o("#getVoiceCode"),!0)}}),a.randImage()},validateData:{submitHandler:function(e){var t=o(e).find("input[name=password]");t.val(i(t.val())),a.ajaxSubmit(o(e),{msgafter:"#"+o(e).find("input[type='submit']")[0].id,success:function(e){0===e.status?(o("#userMobile").html(e.data.username),o("#showMobileCodeBox").trigger("click")):this.msg(e.message,"warn"),t.val("")}})}}}),o("#randCode").on("blur",function(){o("#code-error").hasClass("valid")?o(".validCode").show():o(".validCode").hide()});var r=location.href,l=r.match(/\?[^\.|^:]*/);l&&l.length&&o(".reg-link").attr("href","/regPage.action"+l[0]),a.ui.init()})});
;define("common:widget/oui/pages/auth/register",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/rsa/index","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/widgets/widgets"],function(e){var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),i=e("common:widget/oui/rsa/index");o(function(){function t(e,o){e.length&&(o?e.removeAttr("disabled").removeClass("ui-button-disabled"):e.attr("disabled","disabled").addClass("ui-button-disabled"))}var n=e("common:widget/oui/arale/dialog/1.3.3/dialog"),d=e("common:widget/oui/widgets/widgets"),a=d.Form;new n({trigger:"#showMobileCodeBox",width:o("#mobileCodeBox").data("width")?o("#mobileCodeBox").data("width")+"px":"570px",hasMask:{hideOnClick:!1}}).before("show",function(){var e=o("#reg").find("input").not("input[type='submit']").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}),i="";e.each(function(){i+="<input type='hidden' name='"+o(this).attr("name")+"' value='"+o(this).val()+"' />"}),o("#hiddeninputs").html(i),this.set("content",o("#mobileCodeBox")),o("#getMobileCode").trigger("click")}).after("hide",function(){o("#hiddeninputs").empty(),o("#randImage").trigger("click")}),a.validate({target:"#mobileCodeForRegForm"}),a.validate({target:"#reg",showTip:o("#reg").data("showtip")===!0?!0:!1,tip:{nickName:"4-16位字符，可包含中文，英文，数字和“_”。注册完成后不可修改",username:"请输入11位数字",password:"密码须为6-16位英文字母、数字和符号(不包括空格)"},before:function(){a.sendPhoneCode("phone","getVoiceCode","/sendPhoneCode!voiceCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getMobileCode"),!1)},onClear:function(){t(o("#getMobileCode"),!0)}}),a.sendPhoneCode("phone","getMobileCode","/sendPhoneCode.action?&checkCode=reg&phone=",{onStart:function(){t(o("#getVoiceCode"),!1)},onClear:function(){t(o("#getVoiceCode"),!0)}}),a.randImage()},validateData:{submitHandler:function(e){var t=o(e).find("input[name=password]");t.val(i(t.val())),e.submit()}}}),o("#randCode").on("blur",function(){o("#code-error").hasClass("valid")?o(".validCode").show():o(".validCode").hide()}),o(".J_error_tips")&&o(".J_error_tips").delay(3e3).slideUp(function(){o(this).html("")});var r=location.href,s=r.match(/\?[^\.|^:]*/);s&&s.length&&o(".reg-link").attr("href","/regPage.action"+s[0]),a.ui.init()})});
;(function(){define("common:widget/oui/pages/borrow/borrowercalculator",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/components/components.jscomponents"],function(e,t,n){var r,o,a,i,l,u,s,d,c,m,h,p,v,f,b,_;return r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),f=e("common:widget/oui/widgets/widgets"),d=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),l=e("common:widget/oui/components/components.jscomponents"),i=l.Calculator,s=f.Form,u=window.allFeeRate||{},o={},h=.88,p=5,b=0,v="HR",m=3,c="AA A B C D E HR",a={hide:function(e){return r(e).addClass("hide")},show:function(e){return r(e).removeClass("hide")},formatMoney:function(e,t){var n;for(t||(t=0),e=String(Number(e).toFixed(t)),n=/(-?\d+)(\d{3})/;n.test(e);)e=e.replace(n,"$1,$2");return e},renderResult:function(e){var t,n,a,i,l;return i=this,a="J_tpl-loan-calc",l=o[a]?o[a]:o[a]=d.compile(r("#"+a).html()),n=r("#J_calcResult"),t=r.extend({},{monthPay:0,monthRate:0,totalPay:0,startPay:0,isShowTable:!1,table:[]},e),n.html(l(t))},calc:function(){var e,t,n,o,a,l,u,s,d,c,m,v,f,_,g,w;u=this,e=r("#J_borrowAmount").val(),s=r("#J_repayTime").val(),e=parseInt("0"+e,10),s=parseInt("0"+s,10),m=h,f=p,c=e,t=function(e,t){var n;return n=100*c,n=parseInt(Math.round(n/e+c*t),10)/100,n.toFixed(2)},n=function(e,t){var n;return n=100*c,n=parseInt(Math.round(n+c*t*e),10)/100,n.toFixed(2)},d=t(s,m),_=d*s,o={monthRate:m,startPay:u.formatMoney(e*f/100,2),monthPay:u.formatMoney(d,2),totalPay:u.formatMoney(_,2)},v=i({borrowAmount:e,repayDate:s,monthlyComprehensiveFeeRate:m,repayType:"DEBX",isShowTable:!0,yearRate:b,mgmtAmount:0}).calc(),o.isShowTable=!0,o.table=v.table,w=o.table;for(a in w)g=w[a],l=(parseInt(Math.round(100*d),10)-parseInt(Math.round(100*g.yuehuankuane)))/100,g.mgmtfee=l.toFixed(2),g.yuehuankuane=d;return u.renderResult(o)},updateMonth:function(){var e,t,n,o,a,i,l,s,d;for(n=this,o=r("#J_repayTime").val(),m=parseInt("0"+o,10),o=m,e=u,d=c.split(" "),l=0,s=d.length;s>l;l++)a=d[l],t=[a,"_",o].join(""),e[t]&&!e[t].level&&(i=e[t],i.level=a,i.monthRate=i.monthlyComprehensiveFeeRate.toFixed(2),i.startRate=i.guaranteeFee);return n.updateRate(),n.updateLevelList()},updateRate:function(){var e,t,n;return t=m,n=v,e=[n,"_",t].join(""),n=u[e],h=n.monthRate,p=n.startRate,b=n.fixInterest,r("#J_ipt-rate").text(h)},updateLevelList:function(){var e,t,n,a,i,l,s,h,p,v,f,b;for(l=this,a="J_tpl-level-list",h=o[a]?o[a]:o[a]=d.compile(r("#"+a).html()),t=r("#J_creditlevel-list-ul"),s=m,e=u,i=[],b=c.split(" "),v=0,f=b.length;f>v;v++)p=b[v],n=[p,"_",s].join(""),e[n]&&i.push(e[n]);return t.html(h({list:i})),l},_renderLabel:function(e){var t,n;return t=r("#"+e),n=r("label.error",t.parent()).length?r("label.error",t.parent()):r('<label for="'+e+'"></label>').addClass("error hide").appendTo(t.parent())},validateAmount:function(){var e,t,n,o,a,i,l;return a=this,n="J_borrowAmount",e=r("#"+n),l=e.val(),o=a._renderLabel(n),i=function(t){return o.html(t).removeClass("hide"),e.addClass("error")},t=function(){return e.removeClass("error"),o.addClass("hide")},l.length<1?(i("请输入金额"),!1):!/^([1-9]{1}\d*)$/.test(l)||3e3>l||l>5e5||l%50!==0?(i("金额范围3,000-500,000，且为50的倍数"),!1):(t(),!0)},validateMonth:function(){var e,t,n;return e=r("#J_repayTime"),n=e.val(),t=e.parent().siblings(".noinput-p"),n.length<1?(t.removeClass("hide"),!1):(t.addClass("hide"),!0)},_bindForm:function(){var e,t,n,o;return o=this,t=r("#calcForm"),e=r("#J_borrowAmount"),n=r("#J_repayTime"),t.on("submit",function(){var e;return e=!0,e=e&&o.validateAmount(),e=e&&o.validateMonth(),e&&o.calc(),!1}),e.on("focus",function(){return s.tipfocus(r(this),"金额范围3,000-500,000"),r(this).siblings(".error-p").addClass("hide")}).on("blur",function(){return o.validateAmount(),s.tipblur(r(this))})},_bindCreditLevelSelect:function(){var e,t,n,o,a;return n=this,a=r("#J_select-creditlevel"),e=r("#J_creditlevel-list"),t=r("#J_current-creditlevel"),o=r("#J_creditlevel-active"),a.on("click",function(){return e.toggleClass("hide"),!1}),e.on("mouseenter","li",function(){var e,t,n;return e=r(this),e.hasClass("title")?void 0:(n=e.position().left,t=e.data("level"),o.data("level",t).css({left:n}))}),o.on("click",function(){var o,a;return o=r(this),a=o.data("level"),t.removeClass(c).addClass(a).text(a),v=a,n.updateMonth(),n.hide(e)})},_bindDropSelect:function(){var e,t;return t=this,e=!1,r(".J_select_btn").on("click",function(){return e=!0,r(".J_popBox").addClass("hide"),r(this).parent().find(".J_popBox").removeClass("hide")}),r(".J_popBox").on("mouseenter","li",function(){return r(this).addClass("selected")}).on("mouseleave","li",function(){return r(this).removeClass("selected")}).on("click","li",function(){var e,n,o,a;return n=r(this),o=n.parent().parent(),e=n.attr("datavalue"),a=r("span",n).text(),r("input",o).val(e),t.updateMonth(),r(".J_txt",o).text(a)}),r(document).on("click",function(t){var n;return n=r(t.target),n.parent(".arrow").length||n.parent(".J_select_btn").length?void 0:e?r(".J_popBox").addClass("hide"):void 0})},bindEvent:function(){var e;return e=this,e._bindDropSelect(),e._bindCreditLevelSelect(),e._bindForm()},init:function(){var e;return e=this,e.bindEvent(),e.updateMonth(),e.renderResult()}},_=function(){return a.init()},n.exports={init:_}})}).call(this);
;define("common:widget/oui/pages/borrow/borrowerinfo",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/city/1.0.1/new-city","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/sticky/1.2.1/sticky","common:widget/oui/widgets/widgets"],function(e){function t(){var e=c("input[name='hasHouse']"),t=c("input[name='hasLoan']"),i=c("input[name='hasCar']"),a=c("input[name='carLoan']"),r=c("#carBrand,#carYear,#carNumber");e.click(function(){"true"==this.value?t.removeAttr("disabled"):(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),e.each(function(){"false"==c(this).val()&&c(this).attr("checked")&&(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),i.click(function(){"true"==this.value?(a.removeAttr("disabled"),r.removeAttr("disabled").add(a).parents(".ui-form-item").show()):(a.eq(1).trigger("click"),a.attr("disabled","disabled"),r.attr("disabled","disabled").add(a).parents(".ui-form-item").hide())}),"false"==i.filter(":checked").val()&&i.eq(1).trigger("click")}function i(){var e=[],t=[],i=[];b.find("input[type='radio']:checked,input[type='checkbox']:checked").each(function(){e.push(this.name)}),b.find("input[type='radio'],input[type='checkbox']").filter(function(){return!new RegExp(e.join("|")).test(this.name)&&!jQuery(this).is(":disabled")}).each(function(){t.push(this.name)}),t=c.uniqueArray(t);for(var a=0;a<t.length;a++)i.push({name:t[a],value:""});return i}function a(){var e=[],t=[],a=[],r=b.serializeArray();c.merge(r,i()),b.find("li.listinfo").each(function(t){var i=[];a.push(c(this).find("label.error").filter(function(){return"block"==c(this).css("display")}).length?t:""),c(this).find(".ui-form-required").each(function(){var e=c(this).parents(".ui-form-item").filter(function(){return"none"!=c(this).css("display")}).find("input[type='text'],input[type='password'],input[type='checkbox'],input[type='radio'],input[type='file'],select,textarea");c.each(e,function(){var e=c(this).attr("name");e&&i.push(e)})}),i=c.uniqueArray(i),e.push(i)});for(var n=function(e,t,i){c.each(r,function(a,r){return r.name==i?(r.value?t.push(r.name):e.push(r.name),!1):void 0})},s=0,o=e.length;o>s;s++){for(var l=[],d=[],u=0;u<e[s].length;u++)n(l,d,e[s][u]);t.push({empty:l,valid:d,error:a})}return t}function r(){var e=[],t=c("#loanAppInfoForm .ui-label").filter(function(){var e=c(this).parents(".ui-form-item"),t=c(this).nextAll("input[type='text'],input[type='radio'],select,textarea");return 0===t.length&&(t=c(this).nextAll().find("input[type='hidden']")),"none"!=e.css("display")&&t.length?!0:!1});t.each(function(){var t=c(this).parents(".ui-form-item").find("input,select,textarea").filter(function(){return c(this).is(":text,:hidden")&&c(this).val()&&"请选择"!=c(this).val()?!0:c(this).is(":radio,:checkbox")?this.checked:c(this).is("select")?c(this).find("option").is(":selected"):!1});t.val()&&e.push(t)});for(var i=e.length,a=t.length+m.length,r=0;r<m.length;r++)1!=parseInt(m[r],10)&&i++;var n=parseInt(i/a*100,10);c(".J_progress-txt").text(n+"%"),c(".J_progressbar").css("width",n+"%").attr("title",n+"%"),c("#progressPercentValue").val(n)}function n(){var e=a();v=[],m=[],c(".J_verify_Status_ul li .ver-bg-icon").each(function(){v.push(c(this).attr("data")),m.push(c(this).attr("data"))}),v.length<=2&&(v[2]="0",v[3]="0"),"0"!=v[0]&&(e[0].empty[0]="idverify",c("#J_upload_status_em").removeClass().addClass("half")),"0"!=v[1]&&(e[2].empty[0]="company-verify",c("#J_upload_status_em").removeClass().addClass("half")),"0"!=v[2]?(c("#J_upload_status_em").removeClass().addClass("half"),c("#J_xinyong_status_em").removeClass().addClass("half")):c("#J_xinyong_status_em").removeClass().addClass("valid"),"0"!=v[3]&&(e[2].empty[0]="income-verify",c("#J_upload_status_em").removeClass().addClass("half")),"0"==v[0]&&"0"==v[1]&&"0"==v[2]&&"0"==v[3]&&c("#J_upload_status_em").removeClass().addClass("valid");var t=["graduation","homeProvince","homeCity","liveProvince","liveCity","salary","province","city","officeType","officeDomain","officeScale","workYears","carYear"];return c.each(t,function(t,i){if(""===c("#"+i).attr("value")||"请选择"===c("#"+i).attr("value")){switch(t){case 0:e[0].empty[0]="graduation";break;case 1:e[0].empty[0]="homeProvince";break;case 2:e[0].empty[0]="homeCity";break;case 3:e[0].empty[0]="liveProvince";break;case 4:e[0].empty[0]="liveCity";break;case 5:e[2].empty[0]="salary";break;case 6:e[2].empty[0]="province";break;case 7:e[2].empty[0]="city";break;case 8:e[2].empty[0]="officeType";break;case 9:e[2].empty[0]="officeDomain";break;case 10:e[2].empty[0]="officeScale";break;case 11:e[2].empty[0]="workYears";break;case 12:if("true"==c('input:radio[name="hasCar"]:checked').val()){e[3].empty[0]="carYears";break}}y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),c("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled"))}}),e}function s(e){r(),c.each(n(),function(e,t){x.eq(e).parent("li").hasClass("ig_li")||x.eq(e).removeClass().addClass(t.error[e]||0===t.error[e]?"error":t.empty.length?"half":"valid")}),x.filter(function(){return c(this).hasClass("valid")}).length!=C?y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),c("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled")):(y.removeClass("ui-button-disabled").removeAttr("disabled"),c("#submitleft").removeClass("ui-button-disabled").removeAttr("disabled")),e&&"function"==typeof e&&e()}function o(e){var t=/^[\u4E00-\u9FA5]+$/;return t.test(e)?!0:!1}function l(){j.attr("disabled","disabled"),j.addClass("ui-button-litgray"),j.removeClass("ui-button-blue"),j.html(D+"("+Y+")"),clearInterval(I),I=setInterval(function(){Y>0?(j.html(D+"("+Y+")"),Y--):(clearInterval(I),j.html(D),j.removeClass("ui-button-litgray"),j.addClass("ui-button-blue"),j.removeAttr("disabled"))},1e3)}var c=e("common:widget/oui/lib/jquery/1.9.1/jquery"),d=e("common:widget/oui/lib/city/1.0.1/new-city"),u=e("common:widget/oui/arale/dialog/1.3.3/dialog"),p=(e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),e("common:widget/oui/arale/sticky/1.2.1/sticky")),f=e("common:widget/oui/widgets/widgets"),h=f.Form,v=[],m=[],b=c("#loanAppInfoForm"),y=c("#submitbt"),g=c("#nextbt"),k=c("#savebt"),_=c("#submsg"),x=c(".sidernav ul li span"),C=x.length,J=0;setInterval(function(){s()},1e3),new u({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){k.trigger("click"),J=this.activeTrigger.parents(".listinfo ").index(),this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href")+"&tab="+J)}).after("hide",function(){location.href="/borrow/borrow.action?tab="+J}),c(".sidernav").on("click","li",function(){if(c(".sidernav ul>li").removeClass("cur"),c(this).addClass("cur"),c(".loanappinfo>li").removeClass("cur").eq(c(this).index()).addClass("cur"),s(),c(this).index()==C-1){var e="";g.hide(),y.show(),x.each(function(){"valid"!=c(this).attr("class")&&(e+=c(this).parent().text()+"，")}),e&&_.html("您的"+e+"没有填写完整，请补全后再进行提交！")}else g.show(),y.hide(),_.empty()}),d.init("#J_select_jiguan","#J_select_jiguan1"),d.init("#J_select_hukou","#J_select_hukou1"),d.init("#J_select_gongzuo","#J_select_gongzuo1"),d.readcity(),t(),s(function(){var e=location.href.split(/tab=(.*)/)[1];return e?void x.eq(parseInt(e,10)).parent().trigger("click"):void x.each(function(e){return"valid"!=this.className?(c(this).parent().trigger("click"),!1):void(e==C-1&&"valid"==this.className&&c(this).parent().trigger("click"))})}),setTimeout(function(){c("input[type='text']:disabled,input[type='radio']:disabled,select:disabled").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}).each(function(){this.value&&this.name&&y.before("<input type='hidden' name='"+c(this).attr("name")+"' value='"+c(this).val()+"'/>")})},500);var w=h.validate({target:"#loanAppInfoForm",before:function(e){e.setPhone("phonepre","phonesuf","phone"),e.setPhone("workPhonepre","workPhonesuf","workPhone")},validateData:{submitHandler:function(e){s(),h.ajaxSubmit(c(e),{extraData:{type:"save"},success:function(e){this.msg(e.message),g.data("next")&&A()}})}}}),P=[],T=function(){return c.each(w.settings.rules,function(e,t){t&&t.required&&P.push(c("[name='"+e+"']"))}),P},q=function(e){var t=P.length>0?P:T();c.each(t,function(){this.rules("add",{required:e})})},A=function(){var e=c(".sidernav li.cur").index();C-1>e&&(c(".sidernav li").eq(e+1).trigger("click"),document.body.scrollTop=230)};g.click(function(){var e=c(".sidernav li.cur").index();if(0===e){if("请选择"==c("#graduation").parent("div").find(".J_txt").text())return c("#graduation-error").css("display","block"),!1;if("请选择"==c("#homeProvince").parent("div").find(".J_txt").text())return c("#homeProvince-error").css("display","block"),!1;if(o(c("#homeProvince").parent("div").find(".J_txt").text())===!1)return c("#homeProvince-error").css("display","block"),!1;if("请选择"==c("#homeCity").parent("div").find(".J_txt").text())return c("#homeCity-error").css("display","block"),!1;if(o(c("#homeCity").parent("div").find(".J_txt").text())===!1)return c("#homeCity-error").css("display","block"),!1;if("请选择"==c("#liveProvince").parent("div").find(".J_txt").text())return c("#liveProvince-error").css("display","block"),!1;if(o(c("#liveProvince").parent("div").find(".J_txt").text())===!1)return c("#liveProvince-error").css("display","block"),!1;if("请选择"==c("#liveCity").parent("div").find(".J_txt").text())return c("#liveCity-error").css("display","block"),!1;if(o(c("#liveCity").parent("div").find(".J_txt").text())===!1)return c("#liveCity-error").css("display","block"),!1}if(2==e){if("请选择"==c("#salary").parent("div").find(".J_txt").text())return c("#salary-error").css("display","block"),!1;if("请选择"==c("#province").parent("div").find(".J_txt").text())return c("#province-error").css("display","block"),!1;if("请选择"==c("#city").parent("div").find(".J_txt").text())return c("#city-error").css("display","block"),!1;if("请选择"==c("#officeType").parent("div").find(".J_txt").text())return c("#officeType-error").css("display","block"),!1;if("请选择"==c("#officeDomain").parent("div").find(".J_txt").text())return c("#officeDomain-error").css("display","block"),!1;if("请选择"==c("#officeScale").parent("div").find(".J_txt").text())return c("#officeScale-error").css("display","block"),!1;if("请选择"==c("#workYears").parent("div").find(".J_txt").text())return c("#workYears-error").css("display","block"),!1;var t=c("#workPhonepre").val(),i=c("#workPhonesuf").val(),a=c("#workPhonepre").parent("div").find(".error");if(""===t||""===i)return a.text("公司电话不能为空"),a.css("display","block"),!1;if(c.isNumeric(t)===!1||c.isNumeric(i)===!1)return a.text("请输入正确的公司电话"),a.css("display","block"),!1}if(3==e){var r=c('input:radio[name="hasCar"]:checked').val();if("true"==r&&"请选择"==c("#carYear").parent("div").find(".J_txt").text())return c("#carYear-error").css("display","block"),!1;var n=c("#carBrand").val();if("true"===r&&""===n)return c("#carBrand").parent("div").find(".error").css("display","block"),!1}q(!0),c(this).data("next",!0)}),k.click(function(){q(!1),g.data("next",!1)}),c(".auth").click(function(){h.ajaxSubmit(c("#loanAppInfoForm"),{extraData:{type:"save"},success:function(e){this.msg(e.message)}})}),new u({trigger:".J_submit_btn",content:c("#J_conform_submit_div"),width:"500px",height:"360px",hasMask:!0}).before("show",function(){var e=c("#J_m1").attr("data"),t=c("#J_m2").attr("data"),i=c("#J_m3").attr("data"),a=100*e;a=parseInt(Math.round(a/t+a*i/100),10)/100,a=a.toFixed(2),c("#J_monthre").text(["￥",a].join(""))}),p("#stick",0,function(){});var I=null,Y=5,j=c("#J_loan_ok"),D=j.val();c("#submitleft").on("click",function(){clearInterval(I),Y=5,l()}),c("#submitbt").on("click",function(){c("#submitleft").trigger("click")}),c("#J_loan_ok").click(function(){return c(this).attr("disabled")?!1:w.valid()?(b[0].submit(),!1):(alert("信息填写有误，请返回重新填写!"),!1)}),c("#J_loan_cancel").click(function(){clearInterval(I),c("#J_conform_submit_div").parent().parent(".ui-dialog").find(".ui-dialog-close").trigger("click")}),c(document).click(function(e){var t=e.target;c(t).parent("span").hasClass("arrow")||c(t).parent("div").hasClass("J_select_btn")||c(".J_popBox").css("display","none")}),c(".J_select_btn").click(function(e){if("disabled"!=c(e.currentTarget).attr("disabled")){c(".J_popBox").css("display","none");var t=c(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}}),c(".J_popBox").delegate("li","mouseover",function(e){c(e.currentTarget).attr("class","selected")}),c(".J_popBox").delegate("li","mouseleave",function(e){c(e.currentTarget).attr("class","")}),c(".J_popBox").delegate("li","click",function(e){var t=c(e.currentTarget).attr("datavalue"),i=c(e.currentTarget).find("span").text(),a=c(e.currentTarget).parent().parent();a.find("input").attr("value",t),a.find(".J_txt").text(i),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==c(e.currentTarget).parent("ul").attr("id")&&(updateRepayDetail(),updateRateRange());var r=c(e.currentTarget).parent("ul").parent("div").find("input").attr("id");c("#"+r+"-error").css("display","none")}),c("div.J_select_btn").each(function(){"disabled"==c(this).attr("disabled")&&(c(this).css("border-color","#e0e0e0"),c(this).find(".arrow").css("background-color","#e0e0e0"))}),c(".J_ui_checkbox").bind("click",function(e){var t=c(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check")):(t.removeClass("check"),t.addClass("uncheck"))})});
;define("common:widget/oui/pages/borrow/calculator",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t){var a=t("common:widget/oui/lib/jquery/1.9.1/jquery"),e=t("common:widget/oui/protocol"),o=t("common:widget/oui/widgets/widgets"),r=t("common:widget/oui/components/components.jscomponents"),n=t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),i=e.translator,l=r.Calculator,s=o.Form,c=/^(([1-9]{1}\d*)|([0]{1}))?$/,u=a("#borrowAmount").data("range")||"";u=u.split(",");var m=""===u[0]?"出借金额50的倍数":"金额范围"+s.comma(u[0])+"-"+s.comma(u[1]);s.validate({before:function(){""!==u[0]?jQuery.validator.addMethod("isBorrowAmount",function(t,a){return this.optional(a)||t>=parseInt(u[0],10)&&t<=parseInt(u[1],10)&&t%50===0&&c.test(t)},"借款金额范围"+u[0]+"-"+u[1]+"，且为50的倍数"):(jQuery.validator.addMethod("isBorrowAmount",function(t,a){return this.optional(a)||t%50===0&&c.test(t)},"出借金额范围须为50的倍数"),jQuery.validator.addMethod("isRepayDate",function(t,a){return this.optional(a)||t>0&&36>=t},"借款期限须为1-36个月")),jQuery.validator.addMethod("isFixedAmount",function(t,a){return this.optional(a)||t>=500&&2e4>=t&&t%100===0&&c.test(t)},"金额500-20000元之间，且100的倍数"),jQuery.validator.addMethod("isRateOver",function(t){var a=""===u[0]?5:10,e=24;return t=parseFloat(t),t>=a&&e>=t},s.err.isRateOver)},showTip:!0,tip:{fixedAmount:"500-20000元之间，100的倍数",borrowAmount:m,yearRate:""===u[0]?"利率范围5%-24%":"利率范围10%-24%",repayDate:""===u[0]?"可填写从1到36任意整数月份":null},validateData:{submitHandler:function(t){if("block"==a("#J_tab_loan").css("display")){var e=a("#calcu-tab").offset().top;e&&a("body,html").animate({scrollTop:e},800)}if("block"==a("#J_tab_uplan").css("display")){var o=a("#touziAmount").val();if(""===a.trim(o)||Number(o)%1e3!==0)return a("#touziAmount-error-label").css("display","block"),!1;a("#touziAmount-error-label").css("display","none");var e=a("#calcu-tab").offset().top;e&&a("body,html").animate({scrollTop:e},800);var r=a("#calcForm1").serializeArray(),n=l.arrToObj(r),i={};return i.amount=n.touziAmount,i.cashType=n.rType,i.category=n.UType,a.ajax({async:!1,type:"GET",url:"/calculate!calculateUplanInterest.action",data:i,dataType:"json",success:function(t){0===t.status&&"okay"===t.message?(a("#J_CJJE").html("￥"+n.touziAmount+".00"),a("#J_YQSY").html("￥"+Number(t.data.interest).toFixed(2))):(alert(t.message),a("#J_CJJE").html("￥"+n.touziAmount+".00"),a("#J_YQSY").html("￥0.00"))},error:function(){alert(resp.message),a("#J_CJJE").html("￥"+n.touziAmount+".00"),a("#J_YQSY").html("￥0.00")}}),!1}return"借款设置"==a(".J_tit").text()&&""===a("#repayDate").attr("value")?(a(".noinput-p").css("display","block"),!1):(p(),void f(t))}}}),a("#calcFormFixed").validate({rules:{fixedAmount:{required:!0,isFixedAmount:!0}},messages:{fixedAmount:{required:s.err.required}},submitHandler:function(){return d(),!1}}),""===u[0]&&a("#repayDate").rules("add",{required:!0,isIntNum:!0,isRepayDate:!0,messages:{required:s.err.required,isIntNum:s.err.isIntNum}});var d=function(){var t=a("#calcu-tab").offset().top;t&&a("body,html").animate({scrollTop:t},800);var e,o,r,i,l,s=a("#calcResult_fixed"),c=n.compile(a("#fixed-calc").html());e=a.trim(a("#fixedAmount").val()),i=9,r=12,earn=e*(i/12)*(1+r)*(r/2),o=e*r,l={total:o.toFixed(2),amount:e,rate:i,earn:(earn/100).toFixed(2)},s.html(c(l))},p=function(){var t,e,o,r;e=a("#ratetable tbody tr"),t=a.trim(a("#borrowAmount").val()),o=e.eq(0).find("td").filter(function(){return"服务费率"!=a(this).text()}),r=e.eq(1).find("td").filter(function(){return"服务费用"!=a(this).text()}),!t||t%50!==0||t>1e6?a.each(o,function(t){r.eq(t).html("")}):a.each(o,function(e){var o=parseFloat(a(this).text().replace("%",""));r.eq(e).html((o*t*.01).toFixed(0))}),a("#J_sjfy").css("color","#383838")},f=function(t){var e=a(t).serializeArray(),o=l(l.arrToObj(e)),r=o.calc();r.borrowAmount=""==a.trim(a("#borrowAmount").val())?0:a.trim(a("#borrowAmount").val()),r.gain=0,a.each(r.table,function(t,a){r.gain+=parseFloat(a.mlixi)}),r.gain=i._fixedFloat2(r.gain),r.monthlyRepayB=i._fixedFloat2(r.monthlyRepay+.003*r.borrowAmount),r.mounthRate=i._fixedFloat2(r.mounthRate),r.monthlyRepay=isNaN(r.monthlyRepay)?"0.00":i._fixedFloat2(r.monthlyRepay),r.borrowAmount=i._fixedFloat2(r.borrowAmount),o=null;var s=a("#loan-calc").html(),c=n.compile(s),u=a(".J_tit").eq(0).text();r.isShowTable="借款设置"==u&&"false"==r.isShowTable?!1:!0,"理财计算器 "==u&&(r.isShowTable=a("#isShowTable").is(":checked"));var m=c(r);if(a("#calcResult").html(m),a("#J_BJLX").html("<span>本金及利息</span><em>￥"+i._commaFloat(r.monthlyRepay)+"</em>&nbsp;&nbsp;(支付给理财人)"),a("#J_JKGLF").html("<span>借款管理费</span><em>￥"+i._commaFloat(.003*r.borrowAmount)+"</em>&nbsp;&nbsp;(由人人贷平台收取)"),"借款设置"==a(".J_tit").text()){var d=a("#calcForm").offset();a("body,html").animate({scrollTop:d.top},0)}};a(document).click(function(t){var e=t.target;a(e).parent("span").hasClass("arrow")||(a(e).parent("div").hasClass("J_select_btn")||a(".J_popBox").css("display","none"),"touziAmount"!=a(e).attr("id")&&a("#J_touziAmount_hint").css("display","none"))}),a(".J_select_btn").click(function(t){a(".J_popBox").css("display","none");var e=a(t.currentTarget).parent().find("ul");"block"==e.css("display")?e.css("display","none"):e.css("display","block")}),a(".J_popBox li").mouseover(function(t){a(t.currentTarget).attr("class","selected")}),a(".J_popBox li").mouseleave(function(t){a(t.currentTarget).attr("class","")}),a(".J_popBox li").click(function(t){var e,o=a(t.currentTarget).attr("datavalue"),r=a(t.currentTarget).find("span").text(),n=a(t.currentTarget).parent().parent(),i={3:10,6:11,9:12,12:12,15:13,18:13,24:13,36:13};return n.find("input").attr("value",o),n.find(".J_txt").text(r),"RRGXD"==o||"RRSYD"==o||"RRWSD"==o?(location.href="/borrow/calculator.action?prodType="+o,!1):(a(".noinput-p").css("display","none"),void(o&&i[o]&&(e=i[o],a("#yearRate").val(e).parent().find(".error-p").css("display","none"))))}),a("#touziAmount").on("click",function(t){a(t.currentTarget).parent().find(".error").css("display","none"),a("#J_touziAmount_hint").css("display","block")}),a("#yearRate,#borrowAmount,.error-p").on("click",function(t){a(t.currentTarget).parent().find(".error-p").css("display","none")}),a(".J_ui_checkbox").bind("click",function(t){var e=a(t.currentTarget);e.hasClass("uncheck")?(e.removeClass("uncheck"),e.addClass("check"),a("#isShowTable").attr("value","true")):(e.removeClass("check"),e.addClass("uncheck"),a("#isShowTable").attr("value","false"))});var b=function(t){var e,o,r="ui-tab-item-current",n=a("#calcu-tab li"),i=a("#J_tab_uplan,#J_tab_loan,#J_tab_fixed"),l="#calcResult_u",s="#calcResult_fixed",c="#calcResult,#J_calculator-article",u=[l,s,c].join(","),m=function(t){a(t).css("display","none")},d=function(t){a(t).css("display","block")};e=n.filter("."+r),t&&(e=a(t.currentTarget).parent("li")),n.removeClass(r),e.addClass(r),o=e.attr("data-name"),m(i),d("#"+o),m(u),"J_tab_uplan"==o&&d(l),"J_tab_loan"==o&&d(c),"J_tab_fixed"==o&&d(s)};a("#calcu-tab .ui-tab-item-link").on("click",b);var h=function(){b()};h()});
;define("common:widget/oui/pages/borrow/credit",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(i){var e=i("common:widget/oui/lib/jquery/1.9.1/jquery"),o=i("common:widget/oui/widgets/widgets"),t=o.Form,d=e("#creditWeiboForm,#creditGraduationForm,#creditVideoForm");d.length&&t.validate({validateData:{submitHandler:function(i){i.submit()}}})});
;define("common:widget/oui/pages/borrow/focusimg",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(i){function o(i){var o=t("#focusimg-bigpic img").eq(i),s=t("#focusimg-bigpic img").eq(i).attr("data").split("|");o.css("width","900"),o.stop(!0,!0).show().siblings().stop(!0,!0).hide(),t(".J_fimg div").eq(i).addClass("focusimg-prompt").css("opacity","1").siblings().removeClass("focusimg-prompt").css("opacity","1"),t("#focusimg-fram .title").html(s[0]+'<span style="font-size:14px;font-weight:normal;">'+s[1]+"</span>")}var s,t=i("common:widget/oui/lib/jquery/1.9.1/jquery"),c=i("common:widget/oui/arale/dialog/1.3.3/dialog"),a=t(".thumfram").index(this),m=!0;t(".J_fimg div").click(function(){a=t(".thumfram").index(this),o(a),t("html,body").animate({scrollTop:0},0)}),t("#focusimg-btnp").click(function(){a--,0>a&&(a=s-1),o(a),t("html,body").animate({scrollTop:0},0)}),t("#focusimg-btnn").click(function(){-1==a&&(a=0),a++,a>s-1&&(a=0),o(a),t("html,body").animate({scrollTop:0},0)}),t(".card-icon").on("focus",function(){this.blur()}),new c({trigger:".card-icon",content:".J_focusimg-img",width:"920px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:!0}).before("show",function(){t("html,body").animate({scrollTop:0},0),a=this.activeTrigger.attr("data"),s=t(".J_fimg div").size(),t(".ui-mask").css("background-color","#000"),t(".ui-mask").css("opacity","0.5"),t(".ui-mask").css("z-index","99999"),0>a-1?a=0:a-=1,o(a),m=!0})});
;define("common:widget/oui/pages/borrow/index",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/city/1.0.1/new-city","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars","common:widget/oui/arale/sticky/1.2.1/sticky","common:widget/oui/widgets/widgets","common:widget/oui/protocol","common:widget/oui/components/components.jscomponents"],function(e){function t(){var e=l("input[name='hasHouse']"),t=l("input[name='hasLoan']"),i=l("input[name='hasCar']"),a=l("input[name='carLoan']"),r=l("#carBrand,#carYear,#carNumber");e.click(function(){"true"==this.value?t.removeAttr("disabled"):(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),e.each(function(){"false"==l(this).val()&&l(this).attr("checked")&&(t.eq(1).trigger("click"),t.attr("disabled","disabled"))}),i.click(function(){"true"==this.value?(a.removeAttr("disabled"),r.removeAttr("disabled").add(a).parents(".ui-form-item").show()):(a.eq(1).trigger("click"),a.attr("disabled","disabled"),r.attr("disabled","disabled").add(a).parents(".ui-form-item").hide())}),"false"==i.filter(":checked").val()&&i.eq(1).trigger("click")}function i(){var e=[],t=[],i=[];b.find("input[type='radio']:checked,input[type='checkbox']:checked").each(function(){e.push(this.name)}),b.find("input[type='radio'],input[type='checkbox']").filter(function(){return!new RegExp(e.join("|")).test(this.name)&&!jQuery(this).is(":disabled")}).each(function(){t.push(this.name)}),t=l.uniqueArray(t);for(var a=0;a<t.length;a++)i.push({name:t[a],value:""});return i}function a(){var e=[],t=[],a=[],r=b.serializeArray();l.merge(r,i()),b.find("li.listinfo").each(function(t){var i=[];a.push(l(this).find("label.error").filter(function(){return"block"==l(this).css("display")}).length?t:""),l(this).find(".ui-form-required").each(function(){var e=l(this).parents(".ui-form-item").filter(function(){return"none"!=l(this).css("display")}).find("input[type='text'],input[type='password'],input[type='checkbox'],input[type='radio'],input[type='file'],select,textarea");l.each(e,function(){var e=l(this).attr("name");e&&i.push(e)})}),i=l.uniqueArray(i),e.push(i)});for(var n=function(e,t,i){l.each(r,function(a,r){return r.name==i?(r.value?t.push(r.name):e.push(r.name),!1):void 0})},s=0,o=e.length;o>s;s++){for(var c=[],d=[],u=0;u<e[s].length;u++)n(c,d,e[s][u]);t.push({empty:c,valid:d,error:a})}return t}function r(){var e=[],t=l("#loanAppInfoForm .ui-label").filter(function(){var e=l(this).parents(".ui-form-item"),t=l(this).nextAll("input[type='text'],input[type='radio'],select,textarea");return 0===t.length&&(t=l(this).nextAll().find("input[type='hidden']")),"none"!=e.css("display")&&t.length?!0:!1});t.each(function(){var t=l(this).parents(".ui-form-item").find("input,select,textarea").filter(function(){return l(this).is(":text,:hidden")&&l(this).val()&&"请选择"!=l(this).val()?!0:l(this).is(":radio,:checkbox")?this.checked:l(this).is("select")?l(this).find("option").is(":selected"):!1});t.val()&&e.push(t)});for(var i=e.length,a=t.length+v.length,r=0;r<v.length;r++)1!=parseInt(v[r],10)&&i++;var n=parseInt(i/a*100,10);l(".J_progress-txt").text(n+"%"),l(".J_progressbar").css("width",n+"%").attr("title",n+"%"),l("#progressPercentValue").val(n)}function n(){var e=a();m=[],v=[],l(".J_verify_Status_ul li .ver-bg-icon").each(function(){m.push(l(this).attr("data")),v.push(l(this).attr("data"))}),m.length<=2&&(m[2]="0",m[3]="0"),"0"!=m[0]&&(e[0].empty[0]="idverify",l("#J_upload_status_em").removeClass().addClass("half")),"0"!=m[1]&&(e[2].empty[0]="company-verify",l("#J_upload_status_em").removeClass().addClass("half")),"0"!=m[2]?(l("#J_upload_status_em").removeClass().addClass("half"),l("#J_xinyong_status_em").removeClass().addClass("half")):l("#J_xinyong_status_em").removeClass().addClass("valid"),"0"!=m[3]&&(e[2].empty[0]="income-verify",l("#J_upload_status_em").removeClass().addClass("half")),"0"==m[0]&&"0"==m[1]&&"0"==m[2]&&"0"==m[3]&&l("#J_upload_status_em").removeClass().addClass("valid");var t=["graduation","homeProvince","homeCity","liveProvince","liveCity","salary","province","city","officeType","officeDomain","officeScale","workYears","carYear"];return l.each(t,function(t,i){if(""===l("#"+i).attr("value")||"请选择"===l("#"+i).attr("value")){switch(t){case 0:e[0].empty[0]="graduation";break;case 1:e[0].empty[0]="homeProvince";break;case 2:e[0].empty[0]="homeCity";break;case 3:e[0].empty[0]="liveProvince";break;case 4:e[0].empty[0]="liveCity";break;case 5:e[2].empty[0]="salary";break;case 6:e[2].empty[0]="province";break;case 7:e[2].empty[0]="city";break;case 8:e[2].empty[0]="officeType";break;case 9:e[2].empty[0]="officeDomain";break;case 10:e[2].empty[0]="officeScale";break;case 11:e[2].empty[0]="workYears";break;case 12:if("true"==l('input:radio[name="hasCar"]:checked').val()){e[3].empty[0]="carYears";break}}y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),l("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled"))}}),e}function s(e){r(),l.each(n(),function(e,t){x.eq(e).parent("li").hasClass("ig_li")||x.eq(e).removeClass().addClass(t.error[e]||0===t.error[e]?"error":t.empty.length?"half":"valid")}),x.filter(function(){return l(this).hasClass("valid")}).length!=C?y.hasClass("ui-button-disabled")||(y.addClass("ui-button-disabled").attr("disabled","disabled"),l("#submitleft").addClass("ui-button-disabled").attr("disabled","disabled")):(y.removeClass("ui-button-disabled").removeAttr("disabled"),l("#submitleft").removeClass("ui-button-disabled").removeAttr("disabled")),e&&"function"==typeof e&&e()}function o(e){var t=/^[\u4E00-\u9FA5]+$/;return t.test(e)?!0:!1}function c(){j.attr("disabled","disabled"),j.addClass("ui-button-litgray"),j.removeClass("ui-button-blue"),j.html(R+"("+I+")"),clearInterval(D),D=setInterval(function(){I>0?(j.html(R+"("+I+")"),I--):(clearInterval(D),j.html(R),j.removeClass("ui-button-litgray"),j.addClass("ui-button-blue"),j.removeAttr("disabled"))},1e3)}var l=e("common:widget/oui/lib/jquery/1.9.1/jquery"),d=e("common:widget/oui/lib/city/1.0.1/new-city"),u=e("common:widget/oui/arale/dialog/1.3.3/dialog"),p=(e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),e("common:widget/oui/arale/sticky/1.2.1/sticky")),f=e("common:widget/oui/widgets/widgets"),h=f.Form,m=[],v=[],b=l("#loanAppInfoForm"),y=l("#submitbt"),g=l("#nextbt"),k=l("#savebt"),_=l("#submsg"),x=l(".sidernav ul li span"),C=x.length,w=0;setInterval(function(){s()},1e3),new u({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){k.trigger("click"),w=this.activeTrigger.parents(".listinfo ").index(),this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href")+"&tab="+w)}).after("hide",function(){location.href="/borrow/borrow.action?tab="+w}),l(".sidernav").on("click","li",function(){if(l(".sidernav ul>li").removeClass("cur"),l(this).addClass("cur"),l(".loanappinfo>li").removeClass("cur").eq(l(this).index()).addClass("cur"),s(),l(this).index()==C-1){var e="";g.hide(),y.show(),x.each(function(){"valid"!=l(this).attr("class")&&(e+=l(this).parent().text()+"，")}),e&&_.html("您的"+e+"没有填写完整，请补全后再进行提交！")}else g.show(),y.hide(),_.empty()}),d.init("#J_select_jiguan","#J_select_jiguan1"),d.init("#J_select_hukou","#J_select_hukou1"),d.init("#J_select_gongzuo","#J_select_gongzuo1"),d.readcity(),t(),s(function(){var e=location.href.split(/tab=(.*)/)[1];return e?void x.eq(parseInt(e,10)).parent().trigger("click"):void x.each(function(e){return"valid"!=this.className?(l(this).parent().trigger("click"),!1):void(e==C-1&&"valid"==this.className&&l(this).parent().trigger("click"))})}),setTimeout(function(){l("input[type='text']:disabled,input[type='radio']:disabled,select:disabled").filter(function(){return"radio"!=this.type||"radio"==this.type&&this.checked}).each(function(){this.value&&this.name&&y.before("<input type='hidden' name='"+l(this).attr("name")+"' value='"+l(this).val()+"'/>")})},500);var J=h.validate({target:"#loanAppInfoForm",before:function(e){e.setPhone("phonepre","phonesuf","phone"),e.setPhone("workPhonepre","workPhonesuf","workPhone")},validateData:{submitHandler:function(e){s(),h.ajaxSubmit(l(e),{extraData:{type:"save"},success:function(e){this.msg(e.message),g.data("next")&&A()}})}}}),P=[],T=function(){return l.each(J.settings.rules,function(e,t){t&&t.required&&P.push(l("[name='"+e+"']"))}),P},q=function(e){var t=P.length>0?P:T();l.each(t,function(){this.rules("add",{required:e})})},A=function(){var e=l(".sidernav li.cur").index();C-1>e&&(l(".sidernav li").eq(e+1).trigger("click"),document.body.scrollTop=230)};g.click(function(){var e=l(".sidernav li.cur").index();if(0===e){if("请选择"==l("#graduation").parent("div").find(".J_txt").text())return l("#graduation-error").css("display","block"),!1;if("请选择"==l("#homeProvince").parent("div").find(".J_txt").text())return l("#homeProvince-error").css("display","block"),!1;if(o(l("#homeProvince").parent("div").find(".J_txt").text())===!1)return l("#homeProvince-error").css("display","block"),!1;if("请选择"==l("#homeCity").parent("div").find(".J_txt").text())return l("#homeCity-error").css("display","block"),!1;if(o(l("#homeCity").parent("div").find(".J_txt").text())===!1)return l("#homeCity-error").css("display","block"),!1;if("请选择"==l("#liveProvince").parent("div").find(".J_txt").text())return l("#liveProvince-error").css("display","block"),!1;if(o(l("#liveProvince").parent("div").find(".J_txt").text())===!1)return l("#liveProvince-error").css("display","block"),!1;if("请选择"==l("#liveCity").parent("div").find(".J_txt").text())return l("#liveCity-error").css("display","block"),!1;if(o(l("#liveCity").parent("div").find(".J_txt").text())===!1)return l("#liveCity-error").css("display","block"),!1}if(2==e){if("请选择"==l("#salary").parent("div").find(".J_txt").text())return l("#salary-error").css("display","block"),!1;if("请选择"==l("#province").parent("div").find(".J_txt").text())return l("#province-error").css("display","block"),!1;if("请选择"==l("#city").parent("div").find(".J_txt").text())return l("#city-error").css("display","block"),!1;if("请选择"==l("#officeType").parent("div").find(".J_txt").text())return l("#officeType-error").css("display","block"),!1;if("请选择"==l("#officeDomain").parent("div").find(".J_txt").text())return l("#officeDomain-error").css("display","block"),!1;if("请选择"==l("#officeScale").parent("div").find(".J_txt").text())return l("#officeScale-error").css("display","block"),!1;if("请选择"==l("#workYears").parent("div").find(".J_txt").text())return l("#workYears-error").css("display","block"),!1;var t=l("#workPhonepre").val(),i=l("#workPhonesuf").val(),a=l("#workPhonepre").parent("div").find(".error");if(""===t||""===i)return a.text("公司电话不能为空"),a.css("display","block"),!1;if(l.isNumeric(t)===!1||l.isNumeric(i)===!1)return a.text("请输入正确的公司电话"),a.css("display","block"),!1}if(3==e){var r=l('input:radio[name="hasCar"]:checked').val();if("true"==r&&"请选择"==l("#carYear").parent("div").find(".J_txt").text())return l("#carYear-error").css("display","block"),!1;var n=l("#carBrand").val();if("true"===r&&""===n)return l("#carBrand").parent("div").find(".error").css("display","block"),!1}q(!0),l(this).data("next",!0)}),k.click(function(){q(!1),g.data("next",!1)}),l(".auth").click(function(){h.ajaxSubmit(l("#loanAppInfoForm"),{extraData:{type:"save"},success:function(e){this.msg(e.message)}})}),new u({trigger:".J_submit_btn",content:l("#J_conform_submit_div"),width:"500px",height:"360px",hasMask:!0}).before("show",function(){var t=e("common:widget/oui/protocol"),i=e("common:widget/oui/components/components.jscomponents"),a=i.Calculator,r=t.translator,n=l("#J_m1").attr("data"),s=l("#J_m2").attr("data"),o=l("#J_m3").attr("data"),c=a({repayDate:s,borrowAmount:n,yearRate:o,repayType:"DEBX",isShowTable:"false",mgmtAmount:"0.3"}),d=c.calc();l("#J_monthre").text("￥"+r._commaFloat(d.monthlyRepay+.003*n))}),p("#stick",0,function(){});var D=null,I=5,j=l("#J_loan_ok"),R=j.val();l("#submitleft").on("click",function(){clearInterval(D),I=5,c()}),l("#submitbt").on("click",function(){l("#submitleft").trigger("click")}),l("#J_loan_ok").click(function(){return l(this).attr("disabled")?!1:J.valid()?(b[0].submit(),!1):(alert("信息填写有误，请返回重新填写!"),!1)}),l("#J_loan_cancel").click(function(){clearInterval(D),l("#J_conform_submit_div").parent().parent(".ui-dialog").find(".ui-dialog-close").trigger("click")}),l(document).click(function(e){var t=e.target;l(t).parent("span").hasClass("arrow")||l(t).parent("div").hasClass("J_select_btn")||l(".J_popBox").css("display","none")}),l(".J_select_btn").click(function(e){if("disabled"!=l(e.currentTarget).attr("disabled")){l(".J_popBox").css("display","none");var t=l(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}}),l(".J_popBox").delegate("li","mouseover",function(e){l(e.currentTarget).attr("class","selected")}),l(".J_popBox").delegate("li","mouseleave",function(e){l(e.currentTarget).attr("class","")}),l(".J_popBox").delegate("li","click",function(e){var t=l(e.currentTarget).attr("datavalue"),i=l(e.currentTarget).find("span").text(),a=l(e.currentTarget).parent().parent();a.find("input").attr("value",t),a.find(".J_txt").text(i),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==l(e.currentTarget).parent("ul").attr("id")&&(updateRepayDetail(),updateRateRange());var r=l(e.currentTarget).parent("ul").parent("div").find("input").attr("id");l("#"+r+"-error").css("display","none")}),l("div.J_select_btn").each(function(){"disabled"==l(this).attr("disabled")&&(l(this).css("border-color","#e0e0e0"),l(this).find(".arrow").css("background-color","#e0e0e0"))}),l(".J_ui_checkbox").bind("click",function(e){var t=l(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check")):(t.removeClass("check"),t.addClass("uncheck"))})});
;define("common:widget/oui/pages/borrow/loaninfo",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(e){function t(){var e=r("#productIdul");r.ajax({url:"/borrow/getProductsByUser.action",cache:!1,dataType:"JSON",success:function(t){e.empty();var a=t;a.vos.length<=1?e.parents(".ui-form-item").hide():e.parents(".ui-form-item").show(),r("#productId").attr("value",a.vos[0].id),r("#productId").parent("div").find(".J_txt").text(a.vos[0].productName),r.each(a.vos,function(t,a){i.push({id:a.id,name:a.productName,loanType:a.loanType,monthInte:r.parseJSON(a.monthlyMinInterest)}),r("<li datavalue='"+a.id+"'><span>"+a.productName+"</span></li>").appendTo(e)});var o=r("#productId").val();if(o){for(var n=0;n<i.length;n++)if(o==i[n].id){r("#loanType").html(i[n].loanType);for(var c=i[n].monthInte,s="",u=0,p=c.length;p>u;u++)s+=" <li datavalue='"+c[u].month+"'><span>"+c[u].month+"个月</span></li>";r("#repayTimeul").html(s),r("#repayTime").attr("value",c[0].month),r("#repayTime").parent("div").find(".J_txt").text(c[0].month+"个月");break}l()}}})}function a(e){jQuery.validator.addMethod("isBorrowAmount",function(e,t){return this.optional(t)||e>=parseInt(u[0],10)&&e<=parseInt(u[1],10)&&e%50===0&&/^(([1-9]{1}\d*)|([0]{1}))?$/.test(e)},"借款金额范围"+u[0]+"-"+u[1]+"，且为50的倍数"),jQuery.validator.addMethod("isRateOver",function(e){var t=parseFloat(Number(r("#minRate").html().replace("%",""))),a=parseFloat(Number(r("#maxRate").html().replace("%","")));return e=parseFloat(e),e>=t&&a>=e},e.err.isRateOver)}var r=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=e("common:widget/oui/widgets/widgets"),n=o.Form,i=[],c=function(){var e,t,a,o,n={};e=r.trim(r("#borrowAmount").val()),t=r.trim(r("#apr").val()),t=""===t?"":parseFloat(t),a=r("#repayTime").val(),o=r("#productId").val(),e&&t&&a&&o&&(n={amount:e,apr:t,repayTime:a,productId:o},r.ajax({url:"/borrow/getMonthlyInterest.action",data:r.param(n),type:"POST",dataType:"json",success:function(e){r("#monthRepayMoney").html("￥"+e.monthlyRepay.toFixed(2)),r("#managerFee").html("￥"+e.manageFee.toFixed(2))}}))},s=function(){var e,t,a,o;t=r("#ratetable tr"),e=r.trim(r("#borrowAmount").val()),a=t.eq(1).find("td").filter(function(){return"服务费率"!=r(this).text()}),o=t.eq(2).find("td").filter(function(){return"服务费"!=r(this).text()}),!e||e%50!==0||e>1e6?r.each(a,function(e){o.eq(e).html("")}):r.each(a,function(t){var a=parseFloat(r(this).text().replace("%",""));o.eq(t).html((a*e*.01).toFixed(0))})};r("#borrowAmount,#apr").keyup(function(){c(),l(),s()}),r("#repayTime").change(function(){c(),l()});var l=function(){for(var e=r("#productId").val(),t=r("#repayTime").val(),a=0;a<i.length;a++)if(e==i[a].id){for(var o=i[a].monthInte,n=0,c=o.length;c>n;n++)t==o[n].month&&(r("#minRate").html(o[n].minInterest+"%"),r("#maxRate").html(o[n].maxInterest+"%"));break}};t();var u=r("#borrowAmount").data("range").split(","),p=n.validate({showTip:!0,tip:{borrowTitle:"不超过14字"},before:function(e){a(e)}});r("form").submit(function(){return p.valid()?"true"!=r("#agree_contract").attr("value")?(r("#J_error_agree").css("display","block"),!1):(this.submit(),r(this).find(":submit").attr("disabled","disabled"),!1):!1}),r(document).click(function(e){var t=e.target;r(t).parent("span").hasClass("arrow")||r(t).parent("div").hasClass("J_select_btn")||r(".J_popBox").css("display","none")}),r(".J_select_btn").click(function(e){r(".J_popBox").css("display","none");var t=r(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}),r(".J_popBox").delegate("li","mouseover",function(e){r(e.currentTarget).attr("class","selected")}),r(".J_popBox").delegate("li","mouseleave",function(e){r(e.currentTarget).attr("class","")}),r(".J_popBox").delegate("li","click",function(e){var t=r(e.currentTarget).attr("datavalue"),a=r(e.currentTarget).find("span").text(),o=r(e.currentTarget).parent().parent();if(o.find("input").attr("value",t),o.find(".J_txt").text(a),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==r(e.currentTarget).parent("ul").attr("id"))switch(t){case"3":r("#apr").val("10");break;case"6":r("#apr").val("11");break;case"9":r("#apr").val("12");break;case"12":r("#apr").val("12");break;case"15":r("#apr").val("13");break;case"18":r("#apr").val("13");break;case"24":r("#apr").val("13");break;case"36":r("#apr").val("13")}c(),l()}),r(".J_ui_checkbox").bind("click",function(e){var t=r(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check"),r("#agree_contract").attr("value","true"),r("#J_error_agree").css("display","none")):(t.removeClass("check"),t.addClass("uncheck"),r("#agree_contract").attr("value","false"),r("#J_error_agree").css("display","block"))}),r("#apr").on("focus",function(){r("#J_yearrate_pop").css("display","block")}),r("#apr").on("blur",function(){r("#J_yearrate_pop").css("display","none")}),r("#borrowAmount").on("focus",function(e){r("#J_amount_range").text("借款金额范围:"+r(e.currentTarget).attr("data-range").replace(",","-")+",且为50的倍数"),r("#J_borrowamount_pop").css("display","block")}),r("#borrowAmount").on("blur",function(){r("#J_borrowamount_pop").css("display","none")}),r(".extra-div-a").on("mouseenter",function(){r(".ui-poptip-bx").css("display","block")}),r(".extra-div-a").on("mouseleave",function(){r(".ui-poptip-bx").css("display","none")})});
;define("common:widget/oui/pages/borrow/preview",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/protocol","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e){function t(){var e=i("#J_loan-Amount").data("val"),t=i("#J_loan-Month").data("val"),o=i("#J_loan-Rate").data("val"),a=100*e;a=parseInt(Math.round(a/t+a*o/100),10)/100,a=a.toFixed(2),i("#J_loan-month-Pay").text(["￥",a].join(""))}var i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o=(e("common:widget/oui/protocol"),e("common:widget/oui/arale/dialog/1.3.3/dialog"));new o({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){index=this.activeTrigger.parents(".listinfo ").index(),this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href")+"&tab="+index)}).after("hide",function(){});var a=document.getElementById("J_marrige_status").innerHTML.replace(/(^\s*)|(\s*$)/g,"");document.getElementById("J_marrige_id").innerHTML="<span>婚姻状况</span>"+a,i("td").each(function(e,t){if(0!==i(t).find("span").length&&""!==i(t).find("span").text()){var o=i(t).html();">"==o[o.length-1]&&"n"==o[o.length-2]&&i(t).html(i(t).html()+"--")}}),t()});
;define("common:widget/oui/pages/borrow/product",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/widgets/widgets"],function(e){function t(){var e=o("#J_product-type"),t=o("#J_product-list>div"),a=o("#loanProductType"),r=o("#J_product-title"),n="active",i="hide",s=a.length&&a.val();o("li",e).on("click",function(){o(this).siblings().removeClass(n).end().addClass(n),t.addClass(i).eq(o(this).index()).removeClass(i),r.text(" - "+o(this).find("span").text()),a.val(o(this).attr("data-type")).next().css("display","none")}).each(function(e,a){s&&s.length&&s==o(a).data("type")&&(o(a).addClass(n),t.addClass(i).eq(e).removeClass(i))})}function a(e){jQuery.validator.addMethod("isBorrowAmount",function(e,t){return this.optional(t)||e>=parseInt(d[0],10)&&e<=parseInt(d[1],10)&&e%50===0&&/^(([1-9]{1}\d*)|([0]{1}))?$/.test(e)},"借款金额范围"+d[0]+"-"+d[1]+"，且为50的倍数"),jQuery.validator.addMethod("isRateOver",function(e){var t=parseFloat(Number(o("#minRate").html().replace("%",""))),a=parseFloat(Number(o("#maxRate").html().replace("%","")));return e=parseFloat(e),e>=t&&a>=e},e.err.isRateOver)}function r(){var e=o("#borrowType"),t=o("#J_tip-borrowType"),a="hide";return console.log("valiBorrwType",e.val().length),e.val().length?(t.addClass(a),!0):(t.removeClass(a),!1)}var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),n=e("common:widget/oui/widgets/widgets"),i=n.Form,s=[],l="hide";t(),o(".extra-div-a").on("mouseenter",function(){o(".ui-poptip-bx").removeClass(l);var e=o(".extra-div .extra-div-a").position().left;o(".extra-div .ui-poptip").css("left",e+30)}),o(".extra-div-a").on("mouseleave",function(){o(".ui-poptip-bx").addClass(l)}),o("#borrowAmount").on("focus",function(){o("#J_amount_range").text("借款金额范围:3,000-500,000。且为50的倍数"),o("#J_borrowamount_pop").css("display","block")}),o("#borrowAmount").on("blur",function(){o("#J_borrowamount_pop").css("display","none")}),o("#apr").on("focus",function(){o("#J_yearrate_pop").css("display","block")}),o("#apr").on("blur",function(){o("#J_yearrate_pop").css("display","none")}),o(document).click(function(e){var t=e.target;o(t).parent("span").hasClass("arrow")||o(t).parent("div").hasClass("J_select_btn")||o(".J_popBox").css("display","none")}),o(".J_select_btn").click(function(e){o(".J_popBox").css("display","none");var t=o(e.currentTarget).parent().find("ul");"block"==t.css("display")?t.css("display","none"):t.css("display","block")}),o(".J_popBox").delegate("li","mouseover",function(e){o(e.currentTarget).attr("class","selected")}),o(".J_popBox").delegate("li","mouseleave",function(e){o(e.currentTarget).attr("class","")}),o(".J_popBox").delegate("li","click",function(e){var t=o(e.currentTarget).attr("datavalue"),a=o(e.currentTarget).find("span").text(),r=o(e.currentTarget).parent().parent();if(r.find("input").val(t),r.find(".J_txt").text(a),("RRGXD"==t||"RRSYD"==t||"RRWSD"==t)&&(location.href="/borrow/calculator.action?prodType="+t),"repayTimeul"==o(e.currentTarget).parent("ul").attr("id"))switch(t){case"3":o("#apr").val("10");break;case"6":o("#apr").val("11");break;case"9":o("#apr").val("12");break;case"12":o("#apr").val("12");break;case"15":o("#apr").val("13");break;case"18":o("#apr").val("13");break;case"24":o("#apr").val("13");break;case"36":o("#apr").val("13")}c(),p()}),o(".J_ui_checkbox").bind("click",function(e){var t=o(e.currentTarget);t.hasClass("uncheck")?(t.removeClass("uncheck"),t.addClass("check"),o("#agree_contract").attr("value","true"),o("#J_error_agree").css("display","none")):(t.removeClass("check"),t.addClass("uncheck"),o("#agree_contract").attr("value","false"),o("#J_error_agree").css("display","block"))});var c=function(){var e,t,a,r={},n=function(e){return Number(e).toFixed(2)};e=o.trim(o("#borrowAmount").val()),a=o("#repayTime").val(),e&&a&&(r={amount:e,apr:t,repayTime:a},o.ajax({url:"/borrow/getMonthlyInterest.action",data:o.param(r),type:"POST",dataType:"json",success:function(e){o("#monthRepayMoney").html("￥"+n(e.monthlyRepay)),o("#managerFee").html("￥"+n(e.manageFee)),o("#monthRepayAccont").html("￥"+n(e.totalMonthlyRepay)),o("#guaranteeFee").html("￥"+n(e.guaranteeFee))}}))},u=function(){var e,t,a,r;t=o("#ratetable tr"),e=o.trim(o("#borrowAmount").val()),a=t.eq(1).find("td").filter(function(){return"服务费率"!=o(this).text()}),r=t.eq(2).find("td").filter(function(){return"服务费"!=o(this).text()}),!e||e%50!==0||e>1e6?o.each(a,function(e){r.eq(e).html("")}):o.each(a,function(t){var a=parseFloat(o(this).text().replace("%",""));r.eq(t).html((a*e*.01).toFixed(0))})};o("#borrowAmount,#apr").keyup(function(){c(),p(),u()});var p=function(){for(var e=o("#productId").val(),t=o("#repayTime").val(),a=0;a<s.length;a++)if(e==s[a].id){for(var r=s[a].monthInte,n=0,i=r.length;i>n;n++)t==r[n].month&&(o("#minRate").html(r[n].minInterest+"%"),o("#maxRate").html(r[n].maxInterest+"%"));break}},d=o("#borrowAmount").data("range").split(","),m=i.validate({showTip:!0,tip:{borrowTitle:"不超过14字"},before:function(e){a(e)}});o("#repayTimeul").each(function(e,t){var a=o(t).parent(),r=o("#repayTime"),n=o(".J_txt",a),i=r&&r.val();i.length||(i=3,r.val(i)),o("li",t).each(function(e,t){return o(t).attr("datavalue")==i?void n.text(o(t).text()):void 0}),c(),p(),u()}),o("form").submit(function(){var e=r();return m.valid()&&e?"true"!=o("#agree_contract").attr("value")?(o("#J_error_agree").css("display","block"),!1):(this.submit(),o(this).find(":submit").attr("disabled","disabled"),!1):!1})});
;define("common:widget/oui/pages/borrow/uploads",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/plupload/1.5.7/jquery.plupload.queue"],function(e){var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),l=[];e("common:widget/oui/lib/plupload/1.5.7/jquery.plupload.queue"),t(function(){var e=!1,i=t(t("#uploader").length>0?"#uploader":".uploader");i.pluploadQueue({runtimes:"html5,flash,silverlight",url:"/upload/uploadCreditMaterial_upload.action",max_file_size:"3mb",chunk_size:"1mb",mutlipart:!0,unique_names:!0,file_data_name:"upload",filters:[{title:"Image files",extensions:"jpg,gif,png,pdf"}],flash_swf_url:"../static/js/lib/plupload/1.5.7/plupload.flash.swf",silverlight_xap_url:"../static/js/lib/plupload/1.5.7/plupload.silverlight.xap",multipart_params:{},preinit:{FilesAdded:function(e,i){for(var o=0;o<i.length;o++){if(-1!=t.inArray(i[o].name,l))return alert("不允许上传同名文件或不允许上传该类型文件"),!1;l.push(i[o].name)}if(e.files.length>=30){for(alert("最多只能上传30个文件"),o=0;o<i.length;o++)e.removeFile(i[o]);return!1}return i.length>30?(alert("最多只能上传30个文件"),!1):void 0},FilesRemoved:function(e,t){for(var i=0;i<t.length;i++)l.splice(t[i].name,1)}},init:{UploadComplete:function(){l=[],e=!0}}}),t(".saveSettingBnt").click(function(){return"网商"==jQuery("#jobType").val()||e?void 0:(alert("请完成文件上传后提交审核。"),!1)})}),Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var l in t)new RegExp("("+l+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[l]:("00"+t[l]).substr((""+t[l]).length)));return e}});
;define("common:widget/oui/pages/borrow/verify",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(t,e,o){function i(t){var e=function(t){return Math.floor(Number(t))},o=function(t){return("00"+t).slice(-2)},i=e(t),n=e(i%60),a=e(i/60%60),r=e(i/3600%3600),m=[];m.push(r>99?"<em>"+r+"</em>时":"<em>"+o(r)+"</em>时"),m.push("<em>"+o(a)+"</em>分"),m.push("<em>"+o(n)+"</em>秒"),u("#J_count_time").html(m.join(""))}function n(){var t,e=function(){i(l),0>=l&&(clearInterval(t),u("#J_count-down-tip-div").html("<span class='dot'>●</span>补充上传资料时间已截止，我们将尽快检查您的资料，请耐心等待。"),u(".icon-noload ~ .auth, .icon-verify ~ .auth").addClass("hide")),l-=1};t=setInterval(e,1e3),e()}function a(){var t="hide";u(".extra-div-a").on("mouseenter",function(){var e=u(this).next(".ui-poptip-bx").removeClass(t),o=u(this).position();e.css({left:o.left+30,top:o.top-10,width:290})}),u(".extra-div-a").on("mouseleave",function(){u(this).next(".ui-poptip-bx").addClass(t)})}var r,u=t("common:widget/oui/lib/jquery/1.9.1/jquery"),m=t("common:widget/oui/arale/dialog/1.3.3/dialog"),l=0,c=function(){new m({trigger:".auth",width:"600px",align:{baseXY:["50%",0],selfXY:["50%",0]},hasMask:{hideOnClick:!1}}).before("show",function(){this.set("content","/upload/uploadMaterial!uploadPage.action?"+this.activeTrigger.attr("href"))}).after("hide",function(){})},d=function(){var t,e,o,i;e=u("#ratetable tr"),t=u.trim(u("#borrowAmount").text()),o=e.eq(1).find("td").filter(function(){return"服务费率"!=u(this).text()}),i=e.eq(2).find("td").filter(function(){return"服务费用"!=u(this).text()}),!t||t%50!==0||t>1e6?u.each(o,function(t){i.eq(t).html("")}):u.each(o,function(e){var o=parseFloat(u(this).text().replace("%",""));i.eq(e).html((o*t*.01).toFixed(0))})},s=function(){var t,e,o,i,n={};t=u.trim(u("#borrowAmount").text()),e=u.trim(u("#apr").text()),e=""===e?"":parseFloat(e),o=u.trim(u("#repayTime").text()),i=u.trim(u("#J_productid").text()),t&&e&&o&&i&&(n={amount:t,apr:e,repayTime:o,productId:i},u.ajax({url:"/borrow/getMonthlyInterest.action",data:u.param(n),type:"POST",dataType:"json",success:function(t){u("#monthRepayMoney").html("￥"+Number(t.monthlyRepay).toFixed(2)+" "),u("#managerFee").html("￥"+Number(t.manageFee).toFixed(2)+" "),u("#J_monthPay").html("￥"+Number(t.totalMonthlyRepay).toFixed(2)+" "),u("#J_origin_fee").html("￥"+Number(t.guaranteeFee).toFixed(2)+" ")}}))},h={init:function(t){r||(r=!0,c(),d(),s(),t&&(l=t),n(),a())}};o.exports=h});
;define("common:widget/oui/pages/borrow/zh-cn",function(){plupload.addI18n({"Select files":"选择文件","Add files to the upload queue and click the start button.":"将文件添加到上传队列，然后点击”开始上传“按钮。",Filename:"文件名",Status:"状态",Size:"大小","Add Files":"添加文件","Stop Upload":"停止上传","Start Upload":"开始上传","Add files":"添加文件","Add files.":"添加文件","Stop current upload":"停止当前文件的上传","Start uploading queue":"开始上传队列","Stop upload":"停止上传","Start upload":"开始上传","Uploaded %d/%d files":"开始上传第 %d/%d 个文件","N/A":"N/A","Drag files here.":"将文件在这里","File extension error.":"文件扩展名错误","File size error.":"文件大小错误","File count error.":"文件计数错误","Init error.":"初始化错误","HTTP Error.":"HTTP 错误","Security error.":"安全错误","Generic error.":"一般错误","IO error.":"IO 错误","File: %s":"文件: %s",Close:"关闭","%d files queued":"%d 个文件排队","Using runtime: ":"使用运行时: ","File: %f, size: %s, max file size: %m":"文件: %f, 大小: %s, 最大文件大小: %m","Upload element accepts only %d file(s) at a time. Extra files were stripped.":"上传的列表中只接受 %d 文件的时间。多余的文件被取消了","Upload URL might be wrong or doesn't exist":"上传的URL可能是错误的或不存在","Error: File too large: ":"错误：文件太大: ","Error: Invalid file extension: ":"错误：无效的文件扩展名: "})});
;(function(){define("common:widget/oui/pages/borrow/zion_index",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e,t,n){var i,o,r,a,s,l,u,d,f;return i=e("common:widget/oui/lib/jquery/1.9.1/jquery"),a=e("common:widget/oui/lib/handlebars/1.0.0/handlebars"),d=window.userFeeRate||"HR",s=window.allFeeRate||{},o={},r={0:3e3,126:1e4,444:1e5,622:2e5,728:5e5},l={def:{offset:55,minoffset:0,maxoffset:728,min:3e3,max:5e5,step:1e3,delay:200,text:"#J_text_borrow-amount",holder:"#J_borrow-amount-slider",line:"#J_borrow-slider-line",trigger:"#J_borrow-slider-trigger",up:"#J_borrow-slider-right",down:"#J_borrow-slider-left"},increaseVal:function(){var e,t,n;return e=this,t=e.option,n=t.text.val()-0,n=e.sanitizeVal(n+t.step),e.setVal(n),e.money2silder()},decreaseVal:function(){var e,t,n;return e=this,t=e.option,n=t.text.val()-0,n=e.sanitizeVal(n-t.step),e.setVal(n),e.money2silder()},sanitizeVal:function(e){var t,n,i,o,r,a;return n=this,o=n.option,r=e,i=o.min,t=o.max,e=parseInt("0"+e,10),i>e&&(e=i),e>t&&(e=t),1e4>=e&&(o.step=1e3),e>1e4&&(o.step=5e3),e>1e5&&(o.step=1e4),e>2e5&&(o.step=5e4),a=o.step,e%a!==0&&(e=e-e%a+a),e},setVal:function(e){var t;return t=this,t.option.text.val(e)},setOffset:function(e){var t,n,i,o,r,a,s;return n=this,a=n.option,o=a.offset,r=36,t=a.maxoffset,i=a.minoffset,s=parseInt("0"+e,10),s-=o,s>t&&(s=t),i>s&&(s=i),a.line.css({width:s}),a.trigger.css({left:s+r})},silder2money:function(e){var t,n,i,o,a,s,l,u,d,f,c,h;a=this,d=a.option,u=d.offset,o=d.maxoffset,s=d.minoffset,e-=u,e>o&&(e=o),s>e&&(e=s),i=d.min,l=d.max,t=r,e===s&&a.setVal(a.sanitizeVal(d.min)),e===o&&a.setVal(a.sanitizeVal(d.max));for(n in t)if(c=t[n],e>=n&&(i=n),n>=e){l=n;break}return l===i?(a.setVal(a.sanitizeVal(t[l])),a.renderTable(),a):(f=(t[l]-t[i])/(l-i),h=(e-i)*f+t[i],a.setVal(a.sanitizeVal(h)),a.renderTable(),a)},money2silder:function(e){var t,n,i,o,a,s,l,u,d,f,c;o=this,l=o.option,s=l.offset,a=l.minoffset,i=l.maxoffset,t=r,f=parseInt("0"+l.text.val(),10),e&&(f%100!==0&&(f=100*Math.ceil(f/100)),f<l.min&&(f=3e3),f>l.max&&(f=5e5),o.setVal(f)),f=o.sanitizeVal(l.text.val());for(n in t)if(d=t[n],f>d&&(a=n),d>=f){i=n;break}return u=(t[i]-t[a])/(i-a),c=a,c=c-0+(f-t[a])/u,c+=s,o.setOffset(c),o.renderTable()},renderTable:function(){var e,t,n,r,l,u,f,c,h,m,p,v,b,g,x,w,_,y,V,C,k;u="J_borrow-table-tr",f=this,h=f.option,r=h.table,n=s,b=i(".icon-cash",r.parent("table")),v=i(".ui-poptip-content","#J_borrow-month-fee-rate"),m=parseInt("0"+i("#J_text_borrow-amount").val(),10),p={},e=function(e,t){var n;return n=100*m,n=parseInt(Math.round(n/e+m*t),10)/100,n.toFixed(2)},t=function(t,n){var i;return i=e(t,n),i=100*i*t/100,i.toFixed(2)},g=o[u]?o[u]:o[u]=a.compile(i("#"+u).html()),c=i(":radio:checked",r).val();for(l in n)w=n[l],-1!==l.indexOf(d+"_")&&(p[w.month]=w);for(r.html(""),y=!1,_=0,k=[3,6,12,24],V=0,C=k.length;C>V;V++)l=k[V],w=p[l],w&&(w.hasDiscount=y=w.discountRadio<100?!0:!1,w.monthFeeRate=w.finalMonthlyComprehensiveFeeRate,w.payment=m,w.monthPay=e(w.month,w.monthFeeRate),w.totalPay=t(w.month,w.monthFeeRate),w.monthFeeRate=w.monthFeeRate.toFixed(2),x=g(w),_=w.monthlyComprehensiveFeeRate,r.append(x));return y?(v.html(["借款费率大优惠。原始月综合费率为",_,"%。"].join("")),b.removeClass("fn-hide")):b.addClass("fn-hide")},_bindClickAndHold:function(e,t,n){var i,o;return o=null,i=function(){return o=setTimeout(function(){return t(),i()},n)},e.on("mousedown",function(){return i(),!1}).on("mouseup mouseout",function(){return clearTimeout(o),!1}).on("click dbclick",function(){return t(),!1})},_bindWheelEvent:function(){var e,t,n;return t=this,n=t.option,e=0},_bindTableEvent:function(){var e,t,n;return e=this,t=e.option,n=t.table=i("#J_borrow-table"),n.on("click","tr",function(){return i(":radio",this).get(0).checked=!0,i(this).addClass("active").siblings().removeClass("active")}).on("mouseenter","tr",function(){return i(this).addClass("active")}).on("mouseleave","tr",function(){return i(":radio",this).get(0).checked?void 0:i(this).removeClass("active")})},_bindDragEvent:function(){var e,t,n,o,r,a,s;return o=this,a=o.option,e=a.holder,s=a.trigger,n=a.line,t=0,r=function(n){var i;if(t)return i=n.pageX-e.offset().left,o.setOffset(i),o.silder2money(i)},s.on("mousedown",function(){return t=1,!1}).on("mouseup mouseout",function(){return t=0,!1}),e.on("mousedown",function(e){var t;return t=e.offsetX,o.setOffset(t),o.silder2money(t)}),i(document).on("mousemove",r)},bindEvent:function(){var e,t;return e=this,t=e.option,e._bindClickAndHold(t.up,function(){return e.increaseVal()},t.delay),e._bindClickAndHold(t.down,function(){return e.decreaseVal()},t.delay),e._bindDragEvent(),e._bindWheelEvent(),e._bindTableEvent(),t.text.on("keyup",function(){return e.money2silder()}),t.text.on("blur",function(){return e.money2silder(!0)}),e},init:function(e){var t,n,o,r,a;for(n=this,n.option=i.extend({},n.def,e),a=["text","line","holder","trigger","up","down"],o=0,r=a.length;r>o;o++)t=a[o],n.option[t]=i(n.option[t]);return n.bindEvent(),n.money2silder(),n}},u={def:{idx:0,trigger:"#J_borrow-step-trigger",holder:"#J_borrow-step-holder"},next:function(){var e,t;return e=this,t=e.option,e.switchTo(++t.idx)},last:function(){var e,t;return e=this,t=e.option,e.switchTo(--t.idx)},switchTo:function(e){var t,n,o,r,a,s,l;return o=this,r=o.option,s=r.trigger,l=i("li",s),n=l.length,t=r.holder,a=i("div:lt("+n+")",r.holder),e>=n&&(e=n-1),0>=e&&(e=0),r.idx=e,l.removeClass("ui-step-active ui-step-pass").filter(":lt("+e+")").addClass("ui-step-pass").end().eq(e).addClass("ui-step-active"),a.addClass("hide").eq(e).removeClass("hide"),o},bindEvent:function(){var e,t,n,o;return t=this,n=t.option,o=n.trigger,e=n.holder,o.on("click","li",function(){return t.switchTo(i("li",o).index(this))}),e.on("click",".arrow-left",function(){return t.last()}).on("click",".arrow-right",function(){return t.next()})},init:function(e){var t,n,o,r,a;for(n=this,n.option=i.extend({},n.def,e),a=["trigger","holder"],o=0,r=a.length;r>o;o++)t=a[o],n.option[t]=i(n.option[t]);return n.bindEvent(),n}},f=function(){return l.init(),u.init()},n.exports={init:f}})}).call(this);
;define("common:widget/oui/pages/help",["require","common:widget/oui/lib/jquery/1.9.1/jquery"],function(e){function i(){for(var e,i,s=t(".pg-help-list-box a[href*=#]"),o=0;o<s.length;o++)i=s.eq(o).attr("href"),e=i.substring(i.lastIndexOf("#")),i==e&&a.push(t(e).offset().top)}function s(e,i){for(var s=0,t=i.length;t>s;s++)if(e<i[s])return 0===s?1:s}var t=e("common:widget/oui/lib/jquery/1.9.1/jquery"),o={title:t(".pg-help-list-box ul>li h5"),snowTop:t(".pg-help-list-box .icon-snow-top")};o.title.hover(function(){"none"==t(this).siblings().css("display")&&t(this).parent("li").addClass("hover")},function(){t(this).parent("li").removeClass("hover")}).on("click",function(){var e=t(this);e.hasClass("active")?e.removeClass("active"):e.addClass("active"),e.siblings().toggle(),e.parent().removeClass("hover"),"none"==e.siblings().css("display")&&e.parent().addClass("hover")}),o.snowTop.on("click",function(){t(this).parents(".help-list-item").hide()});var n,l=t(".pg-help-list-box a[href*=#]"),a=[];l.click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname&&(n=t(this.hash),n=n.length&&n||t("[name="+this.hash.slice(1)+"]"),n.length)){var e=n.offset().top;return t("html,body").animate({scrollTop:e},500),n.parent().siblings().show(),!1}}),i(),t(window).scroll(function(){{var e=t(this).scrollTop();s(e,a)}});var h=window.location.hash;t(h).hasClass("active")||t(h).click()});
;define("common:widget/oui/pages/index",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/arale/dialog/1.3.3/dialog"],function(e){function t(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(i){e=""}}return""===e&&(e=document.referrer),e}function i(e,t,i,n){var r=parseInt(e,10),a=0,l=0,s=0;r>60&&(a=parseInt(r/60,0),r=parseInt(r%60,0),a>60&&(l=parseInt(a/60,0),a=parseInt(a%60,0)),l>24&&(s=parseInt(l/24,0),l=parseInt(l%24,0)));var c;c=s>0?parseInt(s,0)+"天"+parseInt(l,0)+"时":l>0?parseInt(l,0)+"时"+parseInt(a,0)+"分":parseInt(a,0)+"分"+parseInt(r,0)+"秒",0===i&&(c+="XJH"==n?"后加入":"后预定"),3===i&&(c+="后加入"),o(t).html(c)}function n(e){var t,n=o(e),r=parseInt(n.data("status"),10),a=n.data("wait")-0||0,l=n.data("type"),s=function(){a-=1,i(a,e,r,l),0>=a&&(clearInterval(t),location.reload())};return n.length<=0||-1===r||0>=a||3!==r&&0!==r?!1:(t=setInterval(s,1e3),void s.call(this))}var o=e("common:widget/oui/lib/jquery/1.9.1/jquery"),r=e("common:widget/oui/common"),a=e("common:widget/oui/protocol"),l=e("common:widget/oui/widgets/widgets"),s=e("common:widget/oui/arale/dialog/1.3.3/dialog");if(window.parent!=window){var c=t();-1==c.indexOf("tongji.baidu.com")&&(window.top.location.href=location.href)}o(function(){var e=o("#plan-status-open");new l.Slider,o("#openweixin").length&&o("#weixin").length&&new s({trigger:"#openweixin",width:"350px",content:o("#weixin")}),e.is(":visible")&&o(".ui-plan-latest ").on("mouseenter",function(){e.find(".plan-progress").hide(),e.find("a").show()}).on("mouseleave",function(){e.find(".plan-progress").show(),e.find("a").hide()})}),o("#notice-title").length>0&&o("#notice-title").click(function(e){var t=o("#notice-content");t.is(":visible")?(o(this).removeClass("rrdcolor-blue-text"),t.slideUp(200)):(o(this).addClass("rrdcolor-blue-text"),t.slideDown(200)),e.preventDefault()}),new l.List({name:"loan-list",api:a.API.getLoans,header:!0,more:!0,rendered:function(){this.container.find(".ui-list-item.last").removeClass("last"),this.container.find(".ui-list-title").removeClass("ui-list-title-sortable").removeClass("ui-list-title-sortable-1").removeClass("ui-list-title-sortable-2").removeClass("ui-list-title-sortable-3").removeClass("ui-list-title-sortable-4"),this.container.find(".ui-list-title").attr("next","-1"),this.container.find(".ui-list-title").children("em").remove(),this.container.find(".ui-list-title-refresh").text("").removeClass("ui-list-title-refresh")}}).init(r.loadJSON("#loan-list-rsp",!0)),r.initPoptips();var u=function(){o(".register-box-inner .btn-a, .intro-link").on("click",d),o(".index-fixed-item a").on("click",function(){m("000025")}),o(".plan-item-a .btn-link").on("click",function(){m("000026")}),o(".plan-item-b .btn-link").on("click",function(){m("000027")}),o(".plan-item-c .btn-link").on("click",function(){m("000028")})},d=function(e){var t,i=e.currentTarget,n=o(i).attr("href");switch(n){case"/regPage.action?registerSource=web_banner":t="000020",m(t);break;case"/account/index.action":t="000021",m(t);break;case"/guide":t="000022",m(t);break;case"/guide/borrow.action":t="000023",m(t);break;case"/guide/investSecurity.action":t="000024",m(t)}},m=function(e){o.get("../html/blank/blank.html?tag="+e,function(){})};n("#J_count_time_fixed"),n("#J_count_time_a"),n("#J_count_time_b"),n("#J_count_time_c"),u()});
;define("common:widget/oui/pages/invest/autoinvestdetails",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(t){function e(t,e,a){var n=parseInt(t,10),o=0,s=0,r=0;n>60&&(o=parseInt(n/60,10),n=parseInt(n%60,10),o>60&&(s=parseInt(o/60,10),o=parseInt(o%60,10)),s>24&&(r=parseInt(s/24,10),s=parseInt(s%24,10)));var l="";l=r>0?""+parseInt(r,10)+"天"+parseInt(s,10)+"时":s>0?""+parseInt(s,10)+"时"+parseInt(o,10)+"分":parseInt(o,10)+"分"+parseInt(n,10)+"秒","#J_WAIT_BUTTON"==e?(l="",l=r>0?""+parseInt(r,10)+"天"+parseInt(s,10)+"时"+parseInt(o,10)+"分":""+parseInt(s,10)+"时"+parseInt(o,10)+"分"+parseInt(n,10)+"秒",i(e).css("letter-spacing","0"),"0"===a&&(l+="后开始加入")):("0"===a&&(l+="后预定"),"3"===a&&(l+="后加入")),i(e).html(l)}function a(t){if(i(t).length<=0||"3"!==i(t).attr("data2")&&"0"!==i(t).attr("data2")||"-1"===i(t).attr("data1"))return!1;var a=i(t).attr("data1"),n=setInterval(function(){a-=1,e(a,t,i(t).attr("data2")),0>=a&&(clearInterval(n),location.reload())},1e3)}function n(){var t="#J_WAIT_BUTTON";if(i(t).length<=0||"3"!==i(t).attr("data")&&"0"!==i(t).attr("data")||"-1"===i(t).attr("data1"))return!1;var a=i(t).attr("data1"),n=setInterval(function(){a-=1,e(a,"#J_WAIT_BUTTON",i("#J_WAIT_BUTTON").attr("data")),0>=a&&(clearInterval(n),location.reload())},1e3)}var i=t("common:widget/oui/lib/jquery/1.9.1/jquery");i(function(){var e=t("common:widget/oui/arale/tip/1.1.4/tip"),a=t("common:widget/oui/common"),n=t("common:widget/oui/protocol"),o=t("common:widget/oui/widgets/widgets"),s=t("common:widget/oui/components/components.jscomponents"),r=t("common:widget/oui/arale/dialog/1.3.3/dialog"),l=(t("common:widget/oui/lib/handlebars/1.0.0/handlebars"),o.GoTop(),{isIE6:function(){var t=(window.navigator.userAgent||"").toLowerCase();return-1!==t.indexOf("msie 6")},succeeMsg:function(t,e,n){var o,s=i("#joined-succee-message");s.length<1||(t="string"==typeof t?{message:t}:t,o=a.fillTemplate({template:s,data:t}),this.isIE6()?(i(".pg-container-content").prepend(o),i(".ui-message-close-button").click(function(){i(".ui-message-content").remove()})):new r({content:o}).after("hide",function(){this.destroy(),e&&i.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;i(".ui-message-close-button").click(function(){t.hide()}),n&&i.isFunction(n)&&n.call(this)}).show())},failedMsg:function(t,e,n){var o,s=i("#joined-failed-message");s.length<1||(t="string"==typeof t?{message:t}:t,o=a.fillTemplate({template:s,data:t}),this.isIE6()?(i(".pg-container-content").prepend(o),i(".ui-message-close-button").click(function(){i(".ui-message-content").remove()})):new r({content:o}).after("hide",function(){this.destroy(),e&&i.isFunction(e)&&e.call(this)}).after("show",function(){var t=this;i(".ui-message-close-button").click(function(){t.hide()}),n&&i.isFunction(n)&&n.call(this)}).show())}}),u=i("#pg-helper-success-hint").html(),c=i("#pg-helper-fail-hint").html();if(u){var d=i.parseJSON(u);d&&(l.succeeMsg({title:"加入成功",planName:d.data.planName,lockPeriod:d.data.lockPeriod,finalAmount:d.data.finalAmount,labels:d.data.labels}),i(".J_target-list li").not(".target-ipt").on("click",function(){i(".J_target-list li").not(".target-ipt").removeClass("active"),i(this).addClass("active"),i("input[name='tagStr']").val(i(this).text()),i(this).hasClass("J_author-target")?i(".target-ipt").removeClass("fn-hide"):i(".target-ipt").addClass("fn-hide")}),i(".ui-message-sure-button").click(function(){if(i(".J_author-target").hasClass("active"))if(""==i(".target-ipt input").val())i("input[name='tagStr']").val("薪");else{if(i(".target-ipt input").val().length>64)return void i(".target-error").text("标签不能超过64个字").show();i("input[name='tagStr']").val(i(".target-ipt input").val())}i("input[name='tagStr']").val()?i.ajax({url:"/autoinvestplan/customNameAutoInvestPlan.action",type:"POST",data:{autoInvestPlanIdStr:i("input[name='autoInvestPlanSubPointIdStr']").val(),tagStr:i("input[name='tagStr']").val()},success:function(t){1==t.status?i(".target-error").text(t.message).show():location.reload()}}):location.reload()}))}if(c){var m=i.parseJSON(c);m&&l.failedMsg({title:"失败",failMsg:m.data.message})}var p,g="true"==i("#authenticated").text(),h="true"==i("#pg-helper-is-investor").text(),v=i("#pg-helper-be-investor-message").html(),f=i("#fullTime"),w=i("#university");if(f.length){var I=f.data("time"),_=I.match(/(\d+)天/);_=null!==_?Number(_[1]):_,f.html(_>0?I.split("分")[0]+"分":I.split("天")[1])}if(w.length){var b=w.data("data");w.html(b.length?b.length>6?b.substring(0,6)+"...":b:"--")}var T=i("#counter");T.length>0&&(new o.Counter({container:T,delta:parseInt(T.data("delta"),10)}).init(),i("#counter").hasClass("ui-counter-seconds")||i("#counter").parent().children(".suffix").show());parseFloat(i("#max-account").data("account"),10);if(i("#pg-helper-has-withdraw-password").length>0){var j="true"==i("#pg-helper-has-withdraw-password").text();h=j&&h}var J,x,C={container:i("#investment-terminal"),authenticated:g,qualified:h,qualifiedMessage:v},A=i("#plan-status").text(),J=parseInt(i("#max-amount-1").data("amount"),10),N=parseInt(i("#min-amount-1").data("amount"),10);if(x=i("#share-amount").attr("data-share-amount"),i.extend(C,{plan:{status:A},page:"autoinvest-join",unit:"amount",template:i("#confirm-autoinvest-in-template"),amountPerShare:x,maxAmount:J,minAmount:N}),new s.InvestmentTerminal(C).init(),i("#autoinvest-basic").length>0){var P=i("#autoinvest-basic-products").data("products").split(","),S={};i.each(P,function(t,e){e=i.trim(e),"信用认证标"==e||"信用标"==e?S.XYRZ="信用认证标":"机构担保标"==e?S.JGDB=e:"实地认证标"==e?S.SDRZ=e:"智能理财标"==e&&(S.ZNLC=e)}),p={products:[]},i.each(S,function(t,e){p.products.push({product:t,productName:e})}),a.fillTemplate({container:i("#autoinvest-basic-products"),template:i("#autoinvest-basic-products-template"),data:p});var k=i("#plan-begin-selling-time").data("time");k&&i("#plan-begin-selling-time").text(k.substring(0,19))}var y=function(t,e,a){var s=new o.List({name:t,api:e,title:!0,params:a,container:i("#"+t+"-records"),rendered:function(t){{var a=t.status,o=t.data;n.translator}if(0===a&&e==n.API.getAutoinvestJoinedRecords){i("#joined-count").text(o.jsonList.length);var s=0;i.each(o.jsonList,function(t,e){s+=Number(e.amount.replace(/,/g,""))});var r=Math.round(100*s/o.jsonList.length)/100;0==o.jsonList.length&&(r=0),i("#reserve-had-pay-amount").html(r)}}}).init();return s._update(s.getParams()),s};if(i("#autoinvest-basic").length>0){var O=i("#pg-helper-plan-id").text(),q=null,L=null;new o.Tab({name:"autoinvest",switched:function(t,e,a){return a?!0:("joined"==e&&(q=y("joined",n.API.getAutoinvestJoinedRecords,{autoInvestPlanId:O})),!0)},clicked:function(t,e){L||"joined"==t&&e&&q&&q._update(q.getParams()),L=window.setTimeout(function(){window.clearTimeout(L),L=null},750)}}).init()}i("#tipCon").length&&i("#tips").length&&new e({element:"#tipCon",trigger:"#tips",direction:"right"}),i("#tipCon_0").length&&i("#tips_0").length&&new e({element:"#tipCon_0",trigger:"#tips_0",direction:"right"}),i("#tipCon_1").length&&i("#tips_1").length&&new e({element:"#tipCon_1",trigger:"#tips_1",direction:"right"})}),a("#J_count_time_a"),a("#J_count_time_b"),a("#J_count_time_c"),n(),i(".J_click_p").on("click",function(t){var e="P"==i(t.target).get(0).tagName?i(t.target).attr("data"):i(t.target).parent(".J_click_p").attr("data");location.href="/financeplan/"+e})});
;define("common:widget/oui/pages/invest/autoinvestlist",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(o){var i,e,t=(o("common:widget/oui/lib/jquery/1.9.1/jquery"),o("common:widget/oui/common"),o("common:widget/oui/protocol")),n=o("common:widget/oui/widgets/widgets"),m=!0,u=null;i="autoinvest-list",e=t.API.getAutoinvestPlans,m=!1,new n.List({name:i,api:e,filter:m,header:!0,pagination:!0,rendered:u}).init()._update()});
;define("common:widget/oui/pages/invest/details",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/tip/1.1.4/tip","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets","common:widget/oui/components/components.jscomponents","common:widget/oui/arale/dialog/1.3.3/dialog","common:widget/oui/lib/handlebars/1.0.0/handlebars"],function(e){function t(e,t,n){var o=parseInt(e,10),i=0,r=0,s=0;o>60&&(i=parseInt(o/60,10),o=parseInt(o%60,10),i>60&&(r=parseInt(i/60,10),i=parseInt(i%60,10)),r>24&&(s=parseInt(r/24,10),r=parseInt(r%24,10)));var m="",l="";m=s>0?""+parseInt(s,10)+"天"+parseInt(r,10)+"时":r>0?""+parseInt(r,10)+"时"+parseInt(i,10)+"分":parseInt(i,10)+"分"+parseInt(o,10)+"秒","#J_WAIT_BUTTON"==t?(m="",m=s>0?""+parseInt(s,10)+"天"+parseInt(r,10)+"时"+parseInt(i,10)+"分":""+parseInt(r,10)+"时"+parseInt(i,10)+"分"+parseInt(o,10)+"秒",a(t).css("letter-spacing","0"),"0"===n&&(l="后开始预定"),"3"===n&&(l="开始加入")):("0"===n&&(l="后开始预定"),"3"===n&&(l="开始加入")),m=trueTime.replace(/(\d)+/g,function(e){return"<i class='num-family font-30px'>"+e+"</i>"}),a(t).html(m),a("#J_WAIT_BUTTON_TEXT")&&a("#J_WAIT_BUTTON_TEXT").html(l)}function n(){var e="#J_WAIT_BUTTON";if(a(e).length<=0||"3"!==a(e).attr("data")&&"0"!==a(e).attr("data")||"-1"===a(e).attr("data1"))return!1;var n=a(e).attr("data1"),o=setInterval(function(){n-=1,t(n,"#J_WAIT_BUTTON",a("#J_WAIT_BUTTON").attr("data")),0>=n&&(clearInterval(o),location.reload())},1e3)}var a=e("common:widget/oui/lib/jquery/1.9.1/jquery");a(function(){{var t=e("common:widget/oui/arale/tip/1.1.4/tip"),n=e("common:widget/oui/common"),o=e("common:widget/oui/protocol"),i=e("common:widget/oui/widgets/widgets"),r=e("common:widget/oui/components/components.jscomponents");e("common:widget/oui/arale/dialog/1.3.3/dialog"),e("common:widget/oui/lib/handlebars/1.0.0/handlebars")}e("common:widget/oui/lib/handlebars/1.0.0/handlebars");var s=a("#pg-helper-success-hint").html();if(s){var m=a.parseJSON(s);m&&n.showMessage2({title:"U计划预定成功！",depositAmount:m.data.depositAmount,endPaymentTime:m.data.endPaymentTime,overplusAmount:m.data.overplusAmount,button:{link:"/account/invest!plan.action?planTab=RESERVATIONS",text:"立即支付"}})}var l,c=(i.GoTop(),"true"==a("#authenticated").text()),d="true"==a("#pg-helper-is-investor").text(),p=a("#pg-helper-be-investor-message").html(),u=a("#fullTime"),g=a("#university");if(u.length){var f=u.data("time"),h=f.match(/(\d+)天/);h=null!==h?Number(h[1]):h;var v=f;v=h>0?f.split("分")[0]+"分":f.split("天")[1],v=v.replace(/(\d)+/g,function(e){return"<i class='num-family font-30px'>"+e+"</i>"}),u.html(v)}if(g.length){var I=g.data("data");g.html(I.length?I.length>6?I.substring(0,6)+"...":I:"--")}var w=a("#counter");w.length>0&&(new i.Counter({container:w,delta:parseInt(w.data("delta"),10)}).init(),a("#counter").hasClass("ui-counter-seconds")||a("#counter").parent().children(".suffix").show());parseFloat(a("#max-account").data("account"),10);if(a("#pg-helper-has-withdraw-password").length>0){var b="true"==a("#pg-helper-has-withdraw-password").text();d=b&&d}var x,T,A,y={container:a("#investment-terminal"),authenticated:c,qualified:d,qualifiedMessage:p};if(a("#pg-loan-invest").length>0)x=parseInt(a("#max-amount").data("amount"),10),a.extend(y,{page:"loan-invest",unit:"amount",template:a("#confirm-loan-template"),amountPerShare:"cf"==a("#loan-type").val()?1e3:50,maxAmount:x,maxShares:x/A});else if(a("#pg-loan-transfer").length>0)T=parseInt(a("#max-shares").data("shares"),10),A=parseFloat(a("#amount-per-share").data("amount-per-share"),10),a.extend(y,{page:"loan-transfer",unit:"shares",template:a("#confirm-transfer-in-template"),amountPerShare:A,maxAmount:T*A,maxShares:T,utmSourceTransfer:"cf"==a("#loan-type-tr").val()?!0:!1});else if(a("#pg-plan-join, #pg-plan-index").length>0){var P=a("#plan-status").text(),_=parseInt(a("#max-amount-1").data("amount"),10),R=parseInt(a("#max-amount-2").data("amount"),10);x=_>R?R:_,A=a("#share-amount").attr("data-share-amount");var L=parseFloat(a("#fee-rate").data("fee-rate"),10)/100,C=parseFloat(a("#deposit-rate").data("deposit-rate"),10)/100,k=Number(a("#J_thisMaxDepositAmount").attr("data")),N=Number(a("#J_maxDepositAmount").attr("data"));C>k?C=k:C>N&&(C=N),a.extend(y,{plan:{status:P},page:"plan-join",unit:"amount",template:a("RSV"==P?"#confirm-plan-reserve-template":"#confirm-plan-join-template"),amountPerShare:A,maxAmount:x,maxShares:x/A,fee:L,deposit:C})}if(new r.InvestmentTerminal(y).init(),a("#plan-basic").length>0){var S=a("#plan-basic-products").data("products").split(","),J={};if(a.each(S,function(e,t){t=a.trim(t),"信用认证标"==t||"信用标"==t?J.XYRZ="信用认证标":"机构担保标"==t?J.JGDB=t:"实地认证标"==t?J.SDRZ=t:"智能理财标"==t&&(J.ZNLC=t)}),l={products:[]},a.each(J,function(e,t){l.products.push({product:e,productName:t})}),n.fillTemplate({container:a("#plan-basic-products"),template:a("#plan-basic-products-template"),data:l}),c){var j=o.translator.translate(o.API.getUserBankInfo,n.loadJSON("#account-info-rsp",!0).data);n.fillTemplate({container:a("#select-bank-accounts"),template:a("#select-bank-accounts-template"),data:j})}var O=a("#plan-begin-selling-time").data("time");O&&a("#plan-begin-selling-time").text(O.substring(0,19))}var F=function(e,t,n){var r=new i.List({name:e,api:t,title:!0,params:n,container:a("#"+e+"-records"),rendered:function(e){var n=e.status,i=e.data,r=o.translator;if(0===n&&t==o.API.getLoanInvestmentRecords&&a("#investor-count").text(i.lenderRecords.length),0===n&&t==o.API.getLoanLenderRecords&&a("#loan-buyer-count").text(i.lenders.length),0===n&&t==o.API.getLoanTransferRecords&&(a("#loan-done-amount").text(r._commaFloat(i.account)),a("#loan-left-amount").text(r._commaFloat(i.noAccount))),0===n&&t==o.API.getLoanCollectionRecords&&0===i.dunInfoList.length&&a("#collection-records").parent().remove(),0===n&&t==o.API.getLoanRepaymentRecords&&(a("#repayment-done-amount").text(r._commaFloat(i.repaid)),a("#repayment-left-amount").text(r._commaFloat(i.unRepaid))),0===n&&t==o.API.getPlanJoinedRecords){a("#joined-count").text(i.jsonList.length);var s=0;a.each(i.jsonList,function(e,t){s+=Number(t.amount.replace(/,/g,""))}),a("#reserve-had-pay-amount").html(s)}if(0===n&&t==o.API.getPlanReserveRecords){var m=0;a.each(i.rsvList,function(e,t){"未支付"==t.status&&(m+=t.planAmountNotComma)}),a("#reserve-not-pay-amount").html(m),a("#reserve-count").text(i.rsvList.length)}}}).init();return r._update(r.getParams()),r};if(a("#loan-details").length>0){var M=a("#pg-helper-loan-id").text();a.each(a(".pg-helper.large-number"),function(e,t){var n=a("#"+a(t).data("name")),i=a(t).text(),r=n.children("em"),s=n.children(".prefix"),m=n.children(".suffix");if(i){var l=parseFloat(i,10),c=parseInt(100*o.translator._bankersRound(l/100),10);(c!=l||l>=1e5)&&s.text("约"),c>=1e5?(s.length>0?(c=Math.floor(c/1e4),r.text(c)):r.text(o.translator._fixedFloat2(c/1e4)),m.text("万元")):r.text(c)}else r.text("0")}),a.each(a(".maybe-empty"),function(e,t){a(t).text()||a(t).text("-")}),n.fillTemplate({container:a("#verification-container"),template:a("#credit-info-template"),data:a("#credit-info-data"),api:o.API.getCreditInfo,isResponse:!0}),n.fillTemplate({container:a("#verification-container2"),template:a("#credit-info-template2"),data:a("#credit-info-data"),api:o.API.getCreditInfo,isResponse:!0});var B,U;B=n.loadJSON("#comments-data",!0),U=a("#comments").length?new i.List({api:o.API.getCommentsOnLoan,name:"comments",container:a("#comments"),template:a("#comments-template"),params:{loanId:M},pagination:!0}).init(B):new i.List({api:o.API.getCommentsOnLoan,name:"comment",container:a("#comments2"),template:a("#comments-template2"),params:{loanId:M},pagination:!0}).init(B);var q=a("#comment-post"),W=a("#comment-content");W.focus(function(){a(".comment-msg").empty()}),q.click(function(){var e=W.val(),t=a(this).siblings(".comment-msg");if(!q.hasClass("disabled")){if(!d)return void n.showMessage({info:!0,title:"请完善安全设置",message:"在使用该功能前，请先完成<em>实名认证</em>和<em>交易密码</em>设置。",button:{link:"/account/info!security.action",text:"去设置"}});if(!e)return void t.text("留言内容不能为空！");if(e.length>500)return void t.text("留言字数不能超过500字！");var i={id:M,threadId:"0",comment:e};q.addClass("disabled");var r=a('<li><img src="images/loading.gif" /> </li>');a("#comments").prepend(r),o.postCommentOnLoan(i,function(e,t,o){0===e?(U.add(o.comment,!0,a("#comment-template")),W.val("")):n.showMessage(t),r.remove(),q.removeClass("disabled")})}});var D=a("#comment-post2"),$=a("#comment-content2");D.click(function(){var e=$.val();if(!D.hasClass("disabled")){if(!d)return void n.showMessage({info:!0,title:"请完善安全设置",message:"在使用该功能前，请先完成<em>实名认证</em>和<em>交易密码</em>设置。",button:{link:"/account/info!security.action",text:"去设置"}});if(e){var t={id:M,threadId:"0",comment:e};q.addClass("disabled"),o.postCommentOnLoan(t,function(e,t,o){0===e?(U.add(o.comment,!0,a("#comment-template2")),$.val("")):n.showMessage(t),D.removeClass("disabled")})}}}),a(document).on("focus",".ui-reply-textarea",function(){a(".msg").empty()}),a(document).on("click",".ui-comments-reply",function(){if(!d)return void n.showMessage({info:!0,title:"请完善安全设置",message:"在使用该功能前，请先完成<em>实名认证</em>和<em>交易密码</em>设置。",button:{link:"/account/info!security.action",text:"去设置"}});var e=a(this).data("commentid");a(this).hide().siblings(".ui-comments-cancel").show(),$form=a(this).parents(".comments-message-info").find("form").show(),$form.find(".replaybt").unbind().on("click",function(t){var i=a(this),r=a.trim($form.find("textarea").val());if(t.preventDefault(),!r)return void i.siblings(".msg").html("回复不能为空！");if(r.length>500)return void i.siblings(".msg").html("回复字数不能超过500字！");i.attr("disabled","disabled");var s={id:M,threadId:e,comment:r},m=a('<li><img src="images/loading.gif" /> </li>'),l=$form.parents(".comments-message-info").find("dl").prepend(m);o.postCommentOnLoan(s,function(e,t,o){if(0===e){var r=n.fillTemplate({data:o.comment,template:a("#replay-template")});l.prepend(r)}else n.showMessage(t);m.remove(),a(".ui-reply-textarea").val(""),i.removeAttr("disabled").siblings(".msg").empty(),$form.hide().parent().find(".ui-comments-cancel").hide().end().find(".ui-comments-reply").show()})})}),a(document).on("click",".ui-comments-cancel",function(){a(this).hide().siblings(".ui-comments-reply").show().parent().siblings("form").hide()}),new i.Tab({name:"loan",switched:function(e,t,n){return n?!0:("investment"==t&&F("investment",o.API.getLoanInvestmentRecords,{loanId:M}),"repayment"==t&&(F("repayment",o.API.getLoanRepaymentRecords,{loanId:M}),F("collection",o.API.getLoanCollectionRecords,{loanId:M})),"transferred"==t&&F("lender",o.API.getLoanLenderRecords,{loanId:M}),"transfer"==t&&F("transferred",o.API.getLoanTransferRecords,{loanId:M}),!0)}}).init(),new i.Tab({name:"loan",switched:function(e,t,n){return n?!0:("investment2"==t&&F("investment2",o.API.getLoanInvestmentRecords,{loanId:M}),"repayment2"==t&&(F("repayment2",o.API.getLoanRepaymentRecords,{loanId:M}),F("collection2",o.API.getLoanCollectionRecords,{loanId:M})),"transferred2"==t&&(F("lender2",o.API.getLoanLenderRecords,{loanId:M}),F("transferred2",o.API.getLoanTransferRecords,{loanId:M}),a(".transfer-info-switch").click(function(){a(this).children("span").toggle(),a(".summary-lenders, .summary-transrec").toggle(),a("#lender2-records, #transferred2-records").toggle()})),!0)}}).init()}if(a("#plan-details").length>0){var E=a("#pg-helper-plan-id").text(),X=null,Z=null;new i.Tab({name:"plan",switched:function(e,t,n){return n?!0:("reserve"==t&&(X=F("reserve",o.API.getPlanReserveRecords,{financePlanStr:E})),"joined"==t&&(X=F("joined",o.API.getPlanJoinedRecords,{financePlanStr:E})),"performance"==t&&new r.PlanPerformance({name:"performance",planId:E}).init(),!0)},clicked:function(e,t){Z||"joined"==e&&t&&X&&X._update(X.getParams()),Z=window.setTimeout(function(){window.clearTimeout(Z),Z=null},750)}}).init()}a("#tipCon").length&&a("#tips").length&&new t({element:"#tipCon",trigger:"#tips",direction:"right"}),a("#tipCon_0").length&&a("#tips_0").length&&new t({element:"#tipCon_0",trigger:"#tips_0",direction:"right"}),a("#tipCon_1").length&&a("#tips_1").length&&new t({element:"#tipCon_1",trigger:"#tips_1",direction:"right"}),a("#tipCon_2").length&&a("#tips_2").length&&new t({element:"#tipCon_2",trigger:"#tips_2",direction:"down",arrowShift:-22})}),n(),a(".J_click_p").on("click",function(e){var t="P"==a(e.target).get(0).tagName?a(e.target).attr("data"):a(e.target).parent(".J_click_p").attr("data");location.href="/financeplan/"+t})});
;define("common:widget/oui/pages/invest/investlist",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/arale/dialog/1.3.3/dialog"],function(t){var e,n=t("common:widget/oui/lib/jquery/1.9.1/jquery"),a=t("common:widget/oui/arale/dialog/1.3.3/dialog"),s=function(t,e){return e.test(t)?unescape(RegExp.$2.replace(/\+/g," ")):null},i=function(t,e,n){var a=new Date;a.setDate(a.getDate()+n),document.cookie=t+"="+escape(e)+(null==n?"":";expires="+a.toGMTString()+";path=/")},l=function(){var t=new RegExp("(^|\\s|;)tested=([^;]*)(\\s|;|$)","i"),e=s(document.cookie,t);return e},c=function(t){i("tested",t,365)},o=function(t){var e,a,s="ui-tab-item-current",i=n("#calcu-tab li"),l=n("#J_tab_uplan,#J_tab_loan,#J_tab_fixed"),c="#calcResult_u",o="#calcResult_fixed",u="#calcResult,#J_calculator-article",r=[c,o,u].join(","),d=function(t){n(t).css("display","none")},h=function(t){n(t).css("display","block")};e=i.filter("."+s),t&&(e=n(t.currentTarget)),i.removeClass(s),e.addClass(s),a=e.attr("data-name"),d(l),h("#"+a),d(r),n(".ui-tab-items [data-name='"+a+"']").addClass(s),"J_tab_uplan"==a&&h(c),"J_tab_loan"==a&&h(u),"J_tab_fixed"==a&&h(o)},u=n("span.A").text(),r=n("span.B").text(),d=n("span.C").text(),h={A:{name:"U计划-A",text:"U计划-A是一款3个月投资期限的理财产品，1000元起投，符合您现阶段“小有盈余”的资金状态，同时达到您短期理财的个人预期。加入U计划-A，实现财富快速增值！",button:"去加入",href:"/financeplan/"+u,cl:"u"},B:{name:"U计划-B",text:"U计划-B是一款6个月投资期限的理财产品，10000元起投，将充裕资金最大化运转实现资金高效增值，同时契合您理财规划的时间范围。加入U计划-B，半年就有好收益！",button:"去加入",href:"/financeplan/"+r,cl:"u"},C:{name:"U计划-C",text:"U计划-C是一款12个月投资期限的理财产品，10000元起投，在满足您长期投资需求的同时，带来稳定高额收益。加入U计划-C，您财富增值的快车道！",button:"去加入",href:"/financeplan/"+d,cl:"u"},X:{name:"薪计划",text:"薪计划是一款12个月投资期限的定投产品，500元起投，每月固定日期加入固定金额，符合您现在每月有所盈余的资金状态。每月攒小钱，年底变大钱，薪计划帮您快速攒钱，助您实现每个心愿！",button:"去加入",href:"/autoinvestplan",cl:"x"},S:{name:"散标",text:"散标是将资金出借给真实的借款需求以获取利息回报，50元起投，灵活便捷，更契合还在积累初始资产阶段的您，同时满足您对对资金流动性的诉求。投资散标，加速财富原始积累！",button:"去投资",href:"/loan",cl:"s"}},f=function(){var t=n("#test-02 input:checked").closest("p").index()+n("#test-03 input:checked").closest("p").index(),a=n("#test-01 input:checked").closest("p").index();switch(a){case 1:e=t>2?"A":"S";break;case 2:e=t>=4?"B":"A";break;case 3:e=t>=4?"C":"X"}if(h[e]){var s=h[e].name,i=h[e].text,l=h[e].button,o=h[e].href,u=h[e].cl;n("#testresult .title").text(s),n("#testresult .text p").text(i),n("#testresult a.ui-button-blue").text(l),n("#testresult a.ui-button-blue").attr("href",o),n("#testresult a.ui-button-blue").attr("t",u),n(".tested .test-left span").text(s),n(".tested .test-right p").html(i+"<a t='"+u+"' href='"+o+"'>"+l+" ></a>"),n(".tested").removeClass("hide"),n(".untest").addClass("hide"),c(e)}else resultdialog.hide()},b=function(t){var e=t.currentTarget,a=n(e).attr("t");switch(a){case"u":n.get("../html/blank/blank.html?tag=000002",function(){});break;case"x":n.get("../html/blank/blank.html?tag=000001",function(){});break;case"s":n.get("../html/blank/blank.html?tag=000003",function(){});break;case"z":n.get("../html/blank/blank.html?tag=000004",function(){})}};n(function(){var t=l();if(t&&h[t]){var e=h[t].name,s=h[t].text,i=h[t].button,c=h[t].href,u=h[t].cl;n(".tested .test-left span").text(e),n(".tested .test-right p").html(s+"<a t='"+u+"' href='"+c+"'>"+i+" ></a>"),n(".tested").removeClass("hide"),n(".untest").addClass("hide")}else n(".untest").removeClass("hide"),n(".tested").addClass("hide");n(".procategories-list a[data-name]").on("click",o),n(".untest .test-left a").on("click",function(){n.get("../html/blank/blank.html?tag=000005",function(){})}),n(".tested .test-left a").on("click",function(){n.get("../html/blank/blank.html?tag=000006",function(){})}),n(".tested .test-right p a").on("click",b),n("#testresult a").on("click",b),n(".products-link .review-button a").on("click",b);var r=new a({trigger:".test-left a",content:n("#test-01"),width:"580px"}),d=new a({content:n("#test-02"),width:"580px"}),m=new a({content:n("#test-03"),width:"580px"}),p=new a({content:n("#testresult"),width:"580px"});n("#test-01 a").on("click",function(){r.hide(),d.show()}),n("#test-02 a.w7").on("click",function(){d.hide(),r.show()}),n("#test-02 .ui-button-blue").on("click",function(){d.hide(),m.show()}),n("#test-03 a.w7").on("click",function(){m.hide(),d.show()}),n("#test-03 .ui-button-blue").on("click",function(){m.hide(),p.show(),f()})})});
;define("common:widget/oui/pages/invest/list",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(o){var i,e,t=o("common:widget/oui/lib/jquery/1.9.1/jquery"),n=o("common:widget/oui/common"),l=o("common:widget/oui/protocol"),s=o("common:widget/oui/widgets/widgets"),m=!0,r=null;t("#pg-loan-list").length>0?(i="loan-list",e=l.API.getLoans):t("#pg-loan-list-transfer").length>0?(i="transfer-list",e=l.API.getLoansTransfer):(i="plan-list",e=l.API.getPlans,m=!1,t(".ui-plan-latest").length<1&&t("#plan-latest-container").remove()),rsp=n.loadJSON("#"+i+"-rsp",!0),new s.List({name:i,api:e,filter:m,header:!0,pagination:!0,rendered:r}).init(rsp),n.initPoptips()});
;define("common:widget/oui/pages/invest/ulist",["require","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/oui/common","common:widget/oui/protocol","common:widget/oui/widgets/widgets"],function(i){var e,t,n,o=i("common:widget/oui/lib/jquery/1.9.1/jquery"),a=(i("common:widget/oui/common"),i("common:widget/oui/protocol")),m=i("common:widget/oui/widgets/widgets"),u=!0,c=null;e="uplan-list-a",t=a.API.getPlans,u=!1,new m.List({name:e,api:t,filter:u,header:!0,pagination:!0,rendered:c,params:{category:"A"}}).init()._update({category:"A"}),o("#pg-plan-list").length>0&&new m.Tab({name:"uplan",switched:function(i,e,t){return t?!0:("UB"==e&&new m.List({name:"uplan-list-b",api:a.API.getPlans,title:!0,pagination:!0,params:{category:"B"}}).init()._update({category:"B"}),"UC"==e&&new m.List({name:"uplan-list-c",api:a.API.getPlans,title:!0,pagination:!0,params:{category:"C"}}).init()._update({category:"C"}),!0)},clicked:function(){n=window.setTimeout(function(){window.clearTimeout(n),n=null},750)}}).init()});
;define("common:widget/oui/rsa/RSAencript",function(){document.write('<script type="text/javascript" src="/static/js/rsa/pidcrypt.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/pidcrypt_util.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/asn1.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/jsbn.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/rng.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/prng4.js"></script>'),document.write('<script type="text/javascript" src="/static/js/rsa/rsa.js"></script>')});
;define("common:widget/oui/rsa/asn1",function(){function t(e,r){e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=r)}t.prototype.parseStringHex=function(t,e){"undefined"==typeof e&&(e=this.enc.length);for(var r="",s=t;e>s;++s){var n=this.get(s);r+=this.hexDigits.charAt(n>>4)+this.hexDigits.charAt(15&n)}return r},t.prototype.get=function(t){if(void 0==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},t.prototype.hexDigits="0123456789ABCDEF",t.prototype.hexDump=function(t,e){for(var r="",s=t;e>s;++s){var n=this.get(s);r+=this.hexDigits.charAt(n>>4)+this.hexDigits.charAt(15&n),7==(15&s)&&(r+=" "),r+=15==(15&s)?"\n":" "}return r},t.prototype.parseStringISO=function(t,e){for(var r="",s=t;e>s;++s)r+=String.fromCharCode(this.get(s));return r},t.prototype.parseStringUTF=function(t,e){for(var r="",s=0,n=t;e>n;){var s=this.get(n++);r+=String.fromCharCode(128>s?s:s>191&&224>s?(31&s)<<6|63&this.get(n++):(15&s)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return r},t.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,t.prototype.parseTime=function(t,e){var r=this.parseStringISO(t,e),s=this.reTime.exec(r);return s?(r=s[1]+"-"+s[2]+"-"+s[3]+" "+s[4],s[5]&&(r+=":"+s[5],s[6]&&(r+=":"+s[6],s[7]&&(r+="."+s[7]))),s[8]&&(r+=" UTC","Z"!=s[8]&&(r+=s[8],s[9]&&(r+=":"+s[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){if(e-t>4)return void 0;for(var r=0,s=t;e>s;++s)r=r<<8|this.get(s);return r},t.prototype.parseOID=function(t,e){for(var r,s=0,n=0,i=t;e>i;++i){var a=this.get(i);s=s<<7|127&a,n+=7,128&a||(void 0==r?r=parseInt(s/40)+"."+s%40:r+="."+(n>=31?"big":s),s=n=0),r+=String.fromCharCode()}return r},"undefined"!=typeof pidCrypt&&(pidCrypt.ASN1=function(t,e,r,s,n){this.stream=t,this.header=e,this.length=r,this.tag=s,this.sub=n},pidCrypt.ASN1.prototype.toHexTree=function(){var t={};if(t.type=this.typeName(),"SEQUENCE"!=t.type&&(t.value=this.stream.parseStringHex(this.posContent(),this.posEnd())),null!=this.sub){t.sub=[];for(var e=0,r=this.sub.length;r>e;++e)t.sub[e]=this.sub[e].toHexTree()}return t},pidCrypt.ASN1.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var t=this.tag>>6;1&this.tag>>5;var e=31&this.tag;switch(t){case 0:switch(e){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+e.toString(16)}case 1:return"Application_"+e.toString(16);case 2:return"["+e+"]";case 3:return"Private_"+e.toString(16)}},pidCrypt.ASN1.prototype.content=function(){if(void 0==this.tag)return null;var t=this.tag>>6;if(0!=t)return null;var e=31&this.tag,r=this.posContent(),s=Math.abs(this.length);switch(e){case 1:return 0==this.stream.get(r)?"false":"true";case 2:return this.stream.parseInteger(r,r+s);case 6:return this.stream.parseOID(r,r+s);case 12:return this.stream.parseStringUTF(r,r+s);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(r,r+s);case 23:case 24:return this.stream.parseTime(r,r+s)}return null},pidCrypt.ASN1.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},pidCrypt.ASN1.prototype.print=function(t){if(void 0==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var e=0,r=this.sub.length;r>e;++e)this.sub[e].print(t)}},pidCrypt.ASN1.prototype.toPrettyString=function(t){void 0==t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,32&this.tag?e+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(e+=" (encapsulates)"),e+="\n",null!=this.sub){t+="  ";for(var r=0,s=this.sub.length;s>r;++r)e+=this.sub[r].toPrettyString(t)}return e},pidCrypt.ASN1.prototype.toDOM=function(){var t=document.createElement("div");t.className="node",t.asn1=this;var e=document.createElement("div");e.className="head";var r=this.typeName();e.innerHTML=r,t.appendChild(e),this.head=e;var s=document.createElement("div");s.className="value",r="Offset: "+this.stream.pos+"<br/>",r+="Length: "+this.header+"+",r+=this.length>=0?this.length:-this.length+" (undefined)",32&this.tag?r+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(r+="<br/>(encapsulates)");var n=this.content();if(null!=n&&(r+="<br/>Value:<br/><b>"+n+"</b>","object"==typeof oids&&6==this.tag)){var i=oids[n];i&&(i.d&&(r+="<br/>"+i.d),i.c&&(r+="<br/>"+i.c),i.w&&(r+="<br/>(warning!)"))}s.innerHTML=r,t.appendChild(s);var a=document.createElement("div");if(a.className="sub",null!=this.sub)for(var o=0,h=this.sub.length;h>o;++o)a.appendChild(this.sub[o].toDOM());return t.appendChild(a),e.switchNode=t,e.onclick=function(){var t=this.switchNode;t.className="node collapsed"==t.className?"node":"node collapsed"},t},pidCrypt.ASN1.prototype.posStart=function(){return this.stream.pos},pidCrypt.ASN1.prototype.posContent=function(){return this.stream.pos+this.header},pidCrypt.ASN1.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},pidCrypt.ASN1.prototype.toHexDOM_sub=function(t,e,r,s,n){if(!(s>=n)){var i=document.createElement("span");i.className=e,i.appendChild(document.createTextNode(r.hexDump(s,n))),t.appendChild(i)}},pidCrypt.ASN1.prototype.toHexDOM=function(){var t=document.createElement("span");if(t.className="hex",this.head.hexNode=t,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},this.toHexDOM_sub(t,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(t,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null==this.sub)t.appendChild(document.createTextNode(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var e=this.sub[0],r=this.sub[this.sub.length-1];this.toHexDOM_sub(t,"intro",this.stream,this.posContent(),e.posStart());for(var s=0,n=this.sub.length;n>s;++s)t.appendChild(this.sub[s].toHexDOM());this.toHexDOM_sub(t,"outro",this.stream,r.posEnd(),this.posEnd())}return t},pidCrypt.ASN1.decodeLength=function(t){var e=t.get(),r=127&e;if(r==e)return r;if(r>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==r)return-1;e=0;for(var s=0;r>s;++s)e=e<<8|t.get();return e},pidCrypt.ASN1.hasContent=function(e,r,s){if(32&e)return!0;if(3>e||e>4)return!1;var n=new t(s);3==e&&n.get();var i=n.get();if(1&i>>6)return!1;try{var a=pidCrypt.ASN1.decodeLength(n);return n.pos-s.pos+a==r}catch(o){return!1}},pidCrypt.ASN1.decode=function(e){e instanceof t||(e=new t(e,0));var r=new t(e),s=e.get(),n=pidCrypt.ASN1.decodeLength(e),i=e.pos-r.pos,a=null;if(pidCrypt.ASN1.hasContent(s,n,e)){var o=e.pos;if(3==s&&e.get(),a=[],n>=0){for(var h=o+n;e.pos<h;)a[a.length]=pidCrypt.ASN1.decode(e);if(e.pos!=h)throw"Content size is not correct for container starting at offset "+o}else try{for(;;){var p=pidCrypt.ASN1.decode(e);if(0==p.tag)break;a[a.length]=p}n=o-e.pos}catch(u){throw"Exception while decoding undefined length content: "+u}}else e.pos+=n;return new pidCrypt.ASN1(r,i,n,s,a)},pidCrypt.ASN1.test=function(){for(var e=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],r=0,s=e.length;s>r;++r){var n=new t(e[r].value,0),i=pidCrypt.ASN1.decodeLength(n);i!=e[r].expected&&document.write("In test["+r+"] expected "+e[r].expected+" got "+i+"\n")}})});
;define("common:widget/oui/rsa/jsbn",function(){function t(t,i,o){null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function o(t,i,o,r,s,h){for(;--h>=0;){var e=i*this[t++]+o[r]+s;s=Math.floor(e/67108864),o[r++]=67108863&e}return s}function r(t,i,o,r,s,h){for(var e=32767&i,n=i>>15;--h>=0;){var u=32767&this[t],f=this[t++]>>15,p=n*u+f*e;u=e*u+((32767&p)<<15)+o[r]+(1073741823&s),s=(u>>>30)+(p>>>15)+n*f+(s>>>30),o[r++]=1073741823&u}return s}function s(t,i,o,r,s,h){for(var e=16383&i,n=i>>14;--h>=0;){var u=16383&this[t],f=this[t++]>>14,p=n*u+f*e;u=e*u+((16383&p)<<14)+o[r]+s,s=(u>>28)+(p>>14)+n*f,o[r++]=268435455&u}return s}function h(t){return ro.charAt(t)}function e(t,i){var o=so[t.charCodeAt(i)];return null==o?-1:o}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var o=i();return o.fromInt(t),o}function p(i,o){var r;if(16==o)r=4;else if(8==o)r=3;else if(256==o)r=8;else if(2==o)r=1;else if(32==o)r=5;else{if(4!=o)return void this.fromRadix(i,o);r=2}this.t=0,this.s=0;for(var s=i.length,h=!1,n=0;--s>=0;){var u=8==r?255&i[s]:e(i,s);0>u?"-"==i.charAt(s)&&(h=!0):(h=!1,0==n?this[this.t++]=u:n+r>this.DB?(this[this.t-1]|=(u&(1<<this.DB-n)-1)<<n,this[this.t++]=u>>this.DB-n):this[this.t-1]|=u<<n,n+=r,n>=this.DB&&(n-=this.DB))}8==r&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),h&&t.ZERO.subTo(this,this)}function a(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,e="",n=this.t,u=this.DB-n*this.DB%i;if(n-->0)for(u<this.DB&&(o=this[n]>>u)>0&&(s=!0,e=h(o));n>=0;)i>u?(o=(this[n]&(1<<u)-1)<<i-u,o|=this[--n]>>(u+=this.DB-i)):(o=this[n]>>(u-=i)&r,0>=u&&(u+=this.DB,--n)),o>0&&(s=!0),s&&(e+=h(o));return s?e:"0"}function m(){var o=i();return t.ZERO.subTo(this,o),o}function l(){return this.s<0?this.negate():this}function T(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(i=o-t.t,0!=i)return i;for(;--o>=0;)if(0!=(i=this[o]-t[o]))return i;return 0}function v(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function y(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)}function d(t,i){var o;for(o=this.t-1;o>=0;--o)i[o+t]=this[o];for(o=t-1;o>=0;--o)i[o]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var o=t;o<this.t;++o)i[o-t]=this[o];i.t=Math.max(this.t-t,0),i.s=this.s}function b(t,i){var o,r=t%this.DB,s=this.DB-r,h=(1<<s)-1,e=Math.floor(t/this.DB),n=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i[o+e+1]=this[o]>>s|n,n=(this[o]&h)<<r;for(o=e-1;o>=0;--o)i[o]=0;i[e]=n,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)return void(i.t=0);var r=t%this.DB,s=this.DB-r,h=(1<<r)-1;i[0]=this[o]>>r;for(var e=o+1;e<this.t;++e)i[e-o-1]|=(this[e]&h)<<s,i[e-o]=this[e]>>r;r>0&&(i[this.t-o-1]|=(this.s&h)<<s),i.t=this.t-o,i.clamp()}function g(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);s>o;)r+=this[o]-t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t[o],i[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=0>r?-1:0,-1>r?i[o++]=this.DV+r:r>0&&(i[o++]=r),i.t=o,i.clamp()}function S(i,o){var r=this.abs(),s=i.abs(),h=r.t;for(o.t=h+s.t;--h>=0;)o[h]=0;for(h=0;h<s.t;++h)o[h+r.t]=r.am(0,s[h],o,h,0,r.t);o.s=0,o.clamp(),this.s!=i.s&&t.ZERO.subTo(o,o)}function M(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i[o],t,2*o,0,1);(t[o+i.t]+=i.am(o+1,2*i[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t[o+i.t]-=i.DV,t[o+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(o,i[o],t,2*o,0,1)),t.s=0,t.clamp()}function w(o,r,s){var h=o.abs();if(!(h.t<=0)){var e=this.abs();if(e.t<h.t)return null!=r&&r.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),u=this.s,f=o.s,p=this.DB-v(h[h.t-1]);p>0?(h.lShiftTo(p,n),e.lShiftTo(p,s)):(h.copyTo(n),e.copyTo(s));var a=n.t,c=n[a-1];if(0!=c){var m=c*(1<<this.F1)+(a>1?n[a-2]>>this.F2:0),l=this.FV/m,T=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-a,b=null==r?i():r;for(n.dlShiftTo(D,b),s.compareTo(b)>=0&&(s[s.t++]=1,s.subTo(b,s)),t.ONE.dlShiftTo(a,b),b.subTo(n,n);n.t<a;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*T);if((s[d]+=n.am(0,B,s,D,0,a))<B)for(n.dlShiftTo(D,b),s.subTo(b,s);s[d]<--B;)s.subTo(b,s)}null!=r&&(s.drShiftTo(a,r),u!=f&&t.ZERO.subTo(r,r)),s.t=a,s.clamp(),p>0&&s.rShiftTo(p,s),0>u&&t.ZERO.subTo(s,s)}}}function E(o){var r=i();return this.abs().divRemTo(o,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&o.subTo(r,r),r}function R(t){this.m=t}function O(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function V(t){return t}function A(t){t.divRemTo(this.m,null,t)}function q(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function N(t,i){t.squareTo(i),this.reduce(i)}function L(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=15&i*(2-(15&t)*i),i=255&i*(2-(255&t)*i),i=65535&i*(2-(65535&(65535&t)*i)),i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function x(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function I(o){var r=i();return o.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),o.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function Z(t){var o=i();return t.copyTo(o),this.reduce(o),o}function F(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t[i],r=o*this.mpl+((o*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=i+this.m.t,t[o]+=this.m.am(0,r,t,i,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function P(t,i){t.squareTo(i),this.reduce(i)}function C(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function k(){return 0==(this.t>0?1&this[0]:this.s)}function z(o,r){if(o>4294967295||1>o)return t.ONE;var s=i(),h=i(),e=r.convert(this),n=v(o)-1;for(e.copyTo(s);--n>=0;)if(r.sqrTo(s,h),(o&1<<n)>0)r.mulTo(h,e,s);else{var u=s;s=h,h=u}return r.revert(s)}function j(t,i){var o;return o=256>t||i.isEven()?new R(i):new x(i),this.exp(t,o)}function U(){var t=i();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function J(){return 0==this.t?this.s:this[0]<<16>>16}function K(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var o=this.chunkSize(t),r=Math.pow(t,o),s=f(r),h=i(),e=i(),n="";for(this.divRemTo(s,h,e);h.signum()>0;)n=(r+e.intValue()).toString(t).substr(1)+n,h.divRemTo(s,h,e);return e.intValue().toString(t)+n}function X(i,o){this.fromInt(0),null==o&&(o=10);for(var r=this.chunkSize(o),s=Math.pow(o,r),h=!1,n=0,u=0,f=0;f<i.length;++f){var p=e(i,f);0>p?"-"==i.charAt(f)&&0==this.signum()&&(h=!0):(u=o*u+p,++n>=r&&(this.dMultiply(s),this.dAddOffset(u,0),n=0,u=0))}n>0&&(this.dMultiply(Math.pow(o,n)),this.dAddOffset(u,0)),h&&t.ZERO.subTo(this,this)}function Y(i,o,r){if("number"==typeof o)if(2>i)this.fromInt(1);else for(this.fromNumber(i,r),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),hi,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,h=7&i;s.length=(i>>3)+1,o.nextBytes(s),h>0?s[0]&=(1<<h)-1:s[0]=0,this.fromString(s,256)}}function $(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-->0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=255&this[t]>>(r-=8),0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function _(t){return 0==this.compareTo(t)}function ti(t){return this.compareTo(t)<0?this:t}function ii(t){return this.compareTo(t)>0?this:t}function oi(t,i,o){var r,s,h=Math.min(t.t,this.t);for(r=0;h>r;++r)o[r]=i(this[r],t[r]);if(t.t<this.t){for(s=t.s&this.DM,r=h;r<this.t;++r)o[r]=i(this[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=h;r<t.t;++r)o[r]=i(s,t[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()}function ri(t,i){return t&i}function si(t){var o=i();return this.bitwiseTo(t,ri,o),o}function hi(t,i){return t|i}function ei(t){var o=i();return this.bitwiseTo(t,hi,o),o}function ni(t,i){return t^i}function ui(t){var o=i();return this.bitwiseTo(t,ni,o),o}function fi(t,i){return t&~i}function pi(t){var o=i();return this.bitwiseTo(t,fi,o),o}function ai(){for(var t=i(),o=0;o<this.t;++o)t[o]=this.DM&~this[o];return t.t=this.t,t.s=~this.s,t}function ci(t){var o=i();return 0>t?this.rShiftTo(-t,o):this.lShiftTo(t,o),o}function mi(t){var o=i();return 0>t?this.lShiftTo(-t,o):this.rShiftTo(t,o),o}function li(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function Ti(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+li(this[t]);return this.s<0?this.t*this.DB:-1}function vi(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yi(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=vi(this[o]^i);return t}function di(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Di(i,o){var r=t.ONE.shiftLeft(i);return this.bitwiseTo(r,o,r),r}function bi(t){return this.changeBit(t,hi)}function Bi(t){return this.changeBit(t,fi)}function gi(t){return this.changeBit(t,ni)}function Si(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);s>o;)r+=this[o]+t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t[o],i[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=0>r?-1:0,r>0?i[o++]=r:-1>r&&(i[o++]=this.DV+r),i.t=o,i.clamp()}function Mi(t){var o=i();return this.addTo(t,o),o}function wi(t){var o=i();return this.subTo(t,o),o}function Ei(t){var o=i();return this.multiplyTo(t,o),o}function Ri(t){var o=i();return this.divRemTo(t,o,null),o}function Oi(t){var o=i();return this.divRemTo(t,null,o),o}function Vi(t){var o=i(),r=i();return this.divRemTo(t,o,r),new Array(o,r)}function Ai(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function qi(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Ni(){}function Li(t){return t}function xi(t,i,o){t.multiplyTo(i,o)}function Ii(t,i){t.squareTo(i)}function Zi(t){return this.exp(t,new Ni)}function Fi(t,i,o){var r=Math.min(this.t+t.t,i);for(o.s=0,o.t=r;r>0;)o[--r]=0;var s;for(s=o.t-this.t;s>r;++r)o[r+this.t]=this.am(0,t[r],o,r,0,this.t);for(s=Math.min(t.t,i);s>r;++r)this.am(0,t[r],o,r,0,i-r);o.clamp()}function Pi(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o[this.t+r-i]=this.am(i-r,t[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)}function Ci(o){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*o.t,this.r2),this.mu=this.r2.divide(o),this.m=o}function ki(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var o=i();return t.copyTo(o),this.reduce(o),o}function zi(t){return t}function ji(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Ui(t,i){t.squareTo(i),this.reduce(i)}function Gi(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function Hi(t,o){var r,s,h=t.bitLength(),e=f(1);if(0>=h)return e;r=18>h?1:48>h?3:144>h?4:768>h?5:6,s=8>h?new R(o):o.isEven()?new Ci(o):new x(o);var n=new Array,u=3,p=r-1,a=(1<<r)-1;if(n[1]=s.convert(this),r>1){var c=i();for(s.sqrTo(n[1],c);a>=u;)n[u]=i(),s.mulTo(c,n[u-2],n[u]),u+=2}var m,l,T=t.t-1,y=!0,d=i();for(h=v(t[T])-1;T>=0;){for(h>=p?m=t[T]>>h-p&a:(m=(t[T]&(1<<h+1)-1)<<p-h,T>0&&(m|=t[T-1]>>this.DB+h-p)),u=r;0==(1&m);)m>>=1,--u;if((h-=u)<0&&(h+=this.DB,--T),y)n[m].copyTo(e),y=!1;else{for(;u>1;)s.sqrTo(e,d),s.sqrTo(d,e),u-=2;u>0?s.sqrTo(e,d):(l=e,e=d,d=l),s.mulTo(d,n[m],e)}for(;T>=0&&0==(t[T]&1<<h);)s.sqrTo(e,d),l=e,e=d,d=l,--h<0&&(h=this.DB-1,--T)}return s.revert(e)}function Ji(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),h=o.getLowestSetBit();if(0>h)return i;for(h>s&&(h=s),h>0&&(i.rShiftTo(h,i),o.rShiftTo(h,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return h>0&&o.lShiftTo(h,o),o}function Ki(t){if(0>=t)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this[r])%t;return o}function Qi(i){var o=i.isEven();if(this.isEven()&&o||0==i.signum())return t.ZERO;for(var r=i.clone(),s=this.clone(),h=f(1),e=f(0),n=f(0),u=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),o?(h.isEven()&&e.isEven()||(h.addTo(this,h),e.subTo(i,e)),h.rShiftTo(1,h)):e.isEven()||e.subTo(i,e),e.rShiftTo(1,e);for(;s.isEven();)s.rShiftTo(1,s),o?(n.isEven()&&u.isEven()||(n.addTo(this,n),u.subTo(i,u)),n.rShiftTo(1,n)):u.isEven()||u.subTo(i,u),u.rShiftTo(1,u);r.compareTo(s)>=0?(r.subTo(s,r),o&&h.subTo(n,h),e.subTo(u,e)):(s.subTo(r,s),o&&n.subTo(h,n),u.subTo(e,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:u.compareTo(i)>=0?u.subtract(i):u.signum()<0?(u.addTo(i,u),u.signum()<0?u.add(i):u):u}function Wi(t){var i,o=this.abs();if(1==o.t&&o[0]<=ho[ho.length-1]){for(i=0;i<ho.length;++i)if(o[0]==ho[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<ho.length;){for(var r=ho[i],s=i+1;s<ho.length&&eo>r;)r*=ho[s++];for(r=o.modInt(r);s>i;)if(0==r%ho[i++])return!1}return o.millerRabin(t)}function Xi(o){var r=this.subtract(t.ONE),s=r.getLowestSetBit();if(0>=s)return!1;var h=r.shiftRight(s);o=o+1>>1,o>ho.length&&(o=ho.length);for(var e=i(),n=0;o>n;++n){e.fromInt(ho[n]);var u=e.modPow(h,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(r)){for(var f=1;f++<s&&0!=u.compareTo(r);)if(u=u.modPowInt(2,this),0==u.compareTo(t.ONE))return!1;if(0!=u.compareTo(r))return!1}}return!0}var Yi,$i=0xdeadbeefcafe,_i=15715070==(16777215&$i);_i&&"Microsoft Internet Explorer"==navigator.appName?(t.prototype.am=r,Yi=30):_i&&"Netscape"!=navigator.appName?(t.prototype.am=o,Yi=26):(t.prototype.am=s,Yi=28),t.prototype.DB=Yi,t.prototype.DM=(1<<Yi)-1,t.prototype.DV=1<<Yi;var to=52;t.prototype.FV=Math.pow(2,to),t.prototype.F1=to-Yi,t.prototype.F2=2*Yi-to;var io,oo,ro="0123456789abcdefghijklmnopqrstuvwxyz",so=new Array;for(io="0".charCodeAt(0),oo=0;9>=oo;++oo)so[io++]=oo;for(io="a".charCodeAt(0),oo=10;36>oo;++oo)so[io++]=oo;for(io="A".charCodeAt(0),oo=10;36>oo;++oo)so[io++]=oo;R.prototype.convert=O,R.prototype.revert=V,R.prototype.reduce=A,R.prototype.mulTo=q,R.prototype.sqrTo=N,x.prototype.convert=I,x.prototype.revert=Z,x.prototype.reduce=F,x.prototype.mulTo=C,x.prototype.sqrTo=P,t.prototype.copyTo=n,t.prototype.fromInt=u,t.prototype.fromString=p,t.prototype.clamp=a,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=b,t.prototype.rShiftTo=B,t.prototype.subTo=g,t.prototype.multiplyTo=S,t.prototype.squareTo=M,t.prototype.divRemTo=w,t.prototype.invDigit=L,t.prototype.isEven=k,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=T,t.prototype.bitLength=y,t.prototype.mod=E,t.prototype.modPowInt=j,t.ZERO=f(0),t.ONE=f(1),Ni.prototype.convert=Li,Ni.prototype.revert=Li,Ni.prototype.mulTo=xi,Ni.prototype.sqrTo=Ii,Ci.prototype.convert=ki,Ci.prototype.revert=zi,Ci.prototype.reduce=ji,Ci.prototype.mulTo=Gi,Ci.prototype.sqrTo=Ui;var ho=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],eo=(1<<26)/ho[ho.length-1];t.prototype.chunkSize=K,t.prototype.toRadix=W,t.prototype.fromRadix=X,t.prototype.fromNumber=Y,t.prototype.bitwiseTo=oi,t.prototype.changeBit=Di,t.prototype.addTo=Si,t.prototype.dMultiply=Ai,t.prototype.dAddOffset=qi,t.prototype.multiplyLowerTo=Fi,t.prototype.multiplyUpperTo=Pi,t.prototype.modInt=Ki,t.prototype.millerRabin=Xi,t.prototype.clone=U,t.prototype.intValue=G,t.prototype.byteValue=H,t.prototype.shortValue=J,t.prototype.signum=Q,t.prototype.toByteArray=$,t.prototype.equals=_,t.prototype.min=ti,t.prototype.max=ii,t.prototype.and=si,t.prototype.or=ei,t.prototype.xor=ui,t.prototype.andNot=pi,t.prototype.not=ai,t.prototype.shiftLeft=ci,t.prototype.shiftRight=mi,t.prototype.getLowestSetBit=Ti,t.prototype.bitCount=yi,t.prototype.testBit=di,t.prototype.setBit=bi,t.prototype.clearBit=Bi,t.prototype.flipBit=gi,t.prototype.add=Mi,t.prototype.subtract=wi,t.prototype.multiply=Ei,t.prototype.divide=Ri,t.prototype.remainder=Oi,t.prototype.divideAndRemainder=Vi,t.prototype.modPow=Hi,t.prototype.modInverse=Qi,t.prototype.pow=Zi,t.prototype.gcd=Ji,t.prototype.isProbablePrime=Wi});
;define("common:widget/oui/rsa/pidcrypt",function(){});
;define("common:widget/oui/rsa/pidcrypt_util",function(){pidCryptUtil={},pidCryptUtil.encodeBase64=function(r,t){r||(r="");var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t="undefined"==typeof t?!1:t;var n,o,i,a,d,f,c,u,C,h,p,l=[],g="";if(h=t?pidCryptUtil.encodeUTF8(r):r,C=h.length%3,C>0)for(;C++<3;)g+="=",h+="\x00";for(C=0;C<h.length;C+=3)n=h.charCodeAt(C),o=h.charCodeAt(C+1),i=h.charCodeAt(C+2),a=n<<16|o<<8|i,d=63&a>>18,f=63&a>>12,c=63&a>>6,u=63&a,l[C/3]=e.charAt(d)+e.charAt(f)+e.charAt(c)+e.charAt(u);return p=l.join(""),p=p.slice(0,p.length-g.length)+g},pidCryptUtil.decodeBase64=function(r,t){r||(r="");var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t="undefined"==typeof t?!1:t;var n,o,i,a,d,f,c,u,C,h,p=[];h=t?pidCryptUtil.decodeUTF8(r):r;for(var l=0;l<h.length;l+=4)a=e.indexOf(h.charAt(l)),d=e.indexOf(h.charAt(l+1)),f=e.indexOf(h.charAt(l+2)),c=e.indexOf(h.charAt(l+3)),u=a<<18|d<<12|f<<6|c,n=255&u>>>16,o=255&u>>>8,i=255&u,p[l/4]=String.fromCharCode(n,o,i),64==c&&(p[l/4]=String.fromCharCode(n,o)),64==f&&(p[l/4]=String.fromCharCode(n));return C=p.join(""),C=t?pidCryptUtil.decodeUTF8(C):C},pidCryptUtil.encodeUTF8=function(r){return r||(r=""),r=r.replace(/[\u0080-\u07ff]/g,function(r){var t=r.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}),r=r.replace(/[\u0800-\uffff]/g,function(r){var t=r.charCodeAt(0);return String.fromCharCode(224|t>>12,128|63&t>>6,128|63&t)})},pidCryptUtil.decodeUTF8=function(r){return r||(r=""),r=r.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(r){var t=(31&r.charCodeAt(0))<<6|63&r.charCodeAt(1);return String.fromCharCode(t)}),r=r.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(r){var t=(15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2);return String.fromCharCode(t)})},pidCryptUtil.convertToHex=function(r){r||(r="");for(var t="",e="",n=0;n<r.length;n++)e=r.charCodeAt(n).toString(16),t+=1==e.length?"0"+e:e;return t},pidCryptUtil.convertFromHex=function(r){r||(r="");for(var t="",e=0;e<r.length;e+=2)t+=String.fromCharCode(parseInt(r.substring(e,e+2),16));return t},pidCryptUtil.stripLineFeeds=function(r){r||(r="");var t="";return t=r.replace(/\n/g,""),t=t.replace(/\r/g,"")},pidCryptUtil.toByteArray=function(r){r||(r="");for(var t=[],e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t},pidCryptUtil.fragment=function(r,t,e){if(r||(r=""),!t||t>=r.length)return r;e||(e="\n");for(var n="",o=0;o<r.length;o+=t)n+=r.substr(o,t)+e;return n},pidCryptUtil.formatHex=function(r,t){r||(r=""),t||(t=45);for(var e="",n=r.toLowerCase(),o=0;o<n.length;o+=2)e+=n.substr(o,2)+":";return n=this.fragment(e,t)},pidCryptUtil.byteArray2String=function(r){for(var t="",e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t}});
;define("common:widget/oui/rsa/prng4",function(){function i(){this.i=0,this.j=0,this.S=new Array}function t(i){var t,h,s;for(t=0;256>t;++t)this.S[t]=t;for(h=0,t=0;256>t;++t)h=255&h+this.S[t]+i[t%i.length],s=this.S[t],this.S[t]=this.S[h],this.S[h]=s;this.i=0,this.j=0}function h(){var i;return this.i=255&this.i+1,this.j=255&this.j+this.S[this.i],i=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=i,this.S[255&i+this.S[this.i]]}i.prototype.init=t,i.prototype.next=h});
;define("common:widget/oui/rsa/rng",function(){});
;define("common:widget/oui/rsa/rsa",function(){function t(t,e){return new BigInteger(t,e)}function e(t,e){for(var i=t.toByteArray(),r=0;r<i.length&&0==i[r];)++r;if(i.length-r!=e-1||2!=i[r])return null;for(++r;0!=i[r];)if(++r>=i.length)return null;for(var n="";++r<i.length;)n+=String.fromCharCode(i[r]);return n}function i(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,r=t.length-1;r>=0&&e>0;)i[--e]=t.charCodeAt(r--);i[--e]=0;for(var n=new SecureRandom,o=new Array;e>2;){for(o[0]=0;0==o[0];)n.nextBytes(o);i[--e]=o[0]}return i[--e]=2,i[--e]=0,new BigInteger(i)}"undefined"!=typeof pidCrypt&&"undefined"!=typeof BigInteger&&"undefined"!=typeof SecureRandom&&"undefined"!=typeof Arcfour&&(pidCrypt.RSA=function(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null},pidCrypt.RSA.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),i=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(i)<0;)e=e.add(this.p);return e.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},pidCrypt.RSA.prototype.setPublic=function(e,i,r){"undefined"==typeof r&&(r=16),null!=e&&null!=i&&e.length>0&&i.length>0?(this.n=t(e,r),this.e=parseInt(i,r)):alert("Invalid RSA public key")},pidCrypt.RSA.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},pidCrypt.RSA.prototype.encryptRaw=function(t){var e=i(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},pidCrypt.RSA.prototype.encrypt=function(t){return t=pidCryptUtil.encodeBase64(t),this.encryptRaw(t)},pidCrypt.RSA.prototype.decryptRaw=function(i){var r=t(i,16),n=this.doPrivate(r);return null==n?null:e(n,this.n.bitLength()+7>>3)},pidCrypt.RSA.prototype.decrypt=function(t){var e=this.decryptRaw(t);return e=e?pidCryptUtil.decodeBase64(e):""},pidCrypt.RSA.prototype.setPrivate=function(e,i,r,n){"undefined"==typeof n&&(n=16),null!=e&&null!=i&&e.length>0&&i.length>0?(this.n=t(e,n),this.e=parseInt(i,n),this.d=t(r,n)):alert("Invalid RSA private key")},pidCrypt.RSA.prototype.setPrivateEx=function(e,i,r,n,o,s,p,h,l){"undefined"==typeof l&&(l=16),null!=e&&null!=i&&e.length>0&&i.length>0?(this.n=t(e,l),this.e=parseInt(i,l),this.d=t(r,l),this.p=t(n,l),this.q=t(o,l),this.dmp1=t(s,l),this.dmq1=t(p,l),this.coeff=t(h,l)):alert("Invalid RSA private key")},pidCrypt.RSA.prototype.generate=function(t,e){var i=new SecureRandom,r=t>>1;this.e=parseInt(e,16);for(var n=new BigInteger(e,16);;){for(;this.p=new BigInteger(t-r,1,i),0!=this.p.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(r,1,i),0!=this.q.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(BigInteger.ONE),p=this.q.subtract(BigInteger.ONE),h=s.multiply(p);if(0==h.gcd(n).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=n.modInverse(h),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(p),this.coeff=this.q.modInverse(this.p);break}}},pidCrypt.RSA.prototype.getASNData=function(t){var e=[],i=0;if(t.value&&"INTEGER"==t.type&&(e[i++]=t.value),t.sub)for(var r=0;r<t.sub.length;r++)e=e.concat(this.getASNData(t.sub[r]));return e},pidCrypt.RSA.prototype.setKeyFromASN=function(t,e){var i=["N","E","D","P","Q","DP","DQ","C"],r={},n=this.getASNData(e);switch(t){case"Public":case"public":for(var o=0;o<n.length;o++)r[i[o]]=n[o].toLowerCase();this.setPublic(r.N,r.E,16);break;case"Private":case"private":for(var o=1;o<n.length;o++)r[i[o-1]]=n[o].toLowerCase();this.setPrivateEx(r.N,r.E,r.D,r.P,r.Q,r.DP,r.DQ,r.C,16)}},pidCrypt.RSA.prototype.setPublicKeyFromASN=function(t){this.setKeyFromASN("public",t)},pidCrypt.RSA.prototype.setPrivateKeyFromASN=function(t){this.setKeyFromASN("private",t)},pidCrypt.RSA.prototype.getParameters=function(){var t={};return null!=this.n&&(t.n=this.n),t.e=this.e,null!=this.d&&(t.d=this.d),null!=this.p&&(t.p=this.p),null!=this.q&&(t.q=this.q),null!=this.dmp1&&(t.dmp1=this.dmp1),null!=this.dmq1&&(t.dmq1=this.dmq1),null!=this.coeff&&(t.c=this.coeff),t})});
;define("common:widget/oui/seajs/2.0.0/plugin-nocache",function(){!function(e){var n="seajs-nocache="+(new Date).getTime(),i={};e.on("fetch",function(e){var u=e.requestUri||e.uri;-1===u.indexOf("seajs-nocache=")&&(u+=(-1===u.indexOf("?")?"?":"&")+n,i[u]=e.uri,e.requestUri=u)}),e.on("define",function(e){i[e.uri]&&(e.uri=i[e.uri])})}(seajs)});
;define("common:widget/oui/seajs/2.0.0/plugin-shim",function(){!function(n,i){function o(o){if(o){o=o.alias;for(var e in o)(function(o){o.src&&(o.deps&&define(o.src,o.deps),define("common:widget/oui/seajs/2.0.0/plugin-shim",e,[n.resolve(o.src)],function(){var n=o.exports;return"function"==typeof n?n():"string"==typeof n?i[n]:n}))})(o[e])}}n.on("config",o),o(n.config.data)}(seajs,"undefined"==typeof global?this:global)});
;define("common:widget/oui/seajs/2.0.0/sea",function(){!function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(e){for(e=e.replace(N,"/"),e=e.replace(O,"$1/");e.match(U);)e=e.replace(U,"/");return e}function i(e){return e=n(e),_.test(e)?e=e.slice(0,-1):C.test(e)||(e+=".js"),e.replace(":80/","/")}function a(e,t){return D.test(e)?e:K.test(e)?(t||G).match(k)[0]+e:M.test(e)?(G.match(W)||["/"])[0]+e.substring(1):mt.base+e}function s(e,t){if(!e)return"";var r,n=e,s=mt.alias,n=e=s&&q(s[n])?s[n]:n,s=mt.paths;s&&(r=n.match(F))&&q(s[r[1]])&&(n=s[r[1]]+r[2]),r=n;var u=mt.vars;u&&-1<r.indexOf("{")&&(r=r.replace(I,function(e,t){return q(u[t])?u[t]:e})),e=a(r,t),r=e=i(e);var n=mt.map,o=r;if(n)for(s=0;s<n.length&&(o=n[s],o=R(o)?o(r)||r:r.replace(o[0],o[1]),!(o!==r));s++);return o}function u(e,t){var r,n=e.sheet;if(tt)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():u(e,t)},20)}function o(){if(L)return L;if(P&&"interactive"===P.readyState)return P;for(var e=V.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return P=r}}function c(e){this.uri=e,this.dependencies=[],this.exports=null,this.status=0}function f(e,t){if(x(e)){for(var r=[],n=0;n<e.length;n++)r[n]=f(e[n],t);return r}return r={id:e,refUri:t},B("resolve",r),r.uri||s(r.id,t)}function l(t,r){x(t)||(t=[t]),d(t,function(){for(var n=[],i=0;i<t.length;i++)n[i]=y(it[t[i]]);r&&r.apply(e,n)})}function d(e,t){var r=m(e);if(0===r.length)t();else{B("load",r);for(var n=r.length,i=n,a=0;n>a;a++)(function(e){function r(t){t||(t=n);var r=m(a.dependencies);0===r.length?t():b(a)?(r=pt,r.push(r[0]),T("Circular dependencies: "+r.join(" -> ")),pt.length=0,t(!0)):(ot[e]=r,d(r,t))}function n(e){!e&&a.status<lt&&(a.status=lt),0===--i&&t()}var a=it[e];a.dependencies.length?r(function(t){function r(){n(t)}a.status<ft?h(e,r):r()}):a.status<ft?h(e,r):n()})(r[a])}}function h(e,r){function n(){delete at[a],st[a]=!0,Q&&(g(e,Q),Q=t);var r,n=ut[a];for(delete ut[a];r=n.shift();)r()}it[e].status=ct;var i={uri:e};B("fetch",i);var a=i.requestUri||e;if(st[a])r();else if(at[a])ut[a].push(r);else{at[a]=!0,ut[a]=[r];var s=mt.charset;if(B("request",i={uri:e,requestUri:a,callback:n,charset:s}),!i.requested){var i=i.requestUri,o=Z.test(i),c=Y.createElement(o?"link":"script");s&&(s=R(s)?s(i):s)&&(c.charset=s);var f=c;!o||!tt&&"onload"in f?f.onload=f.onerror=f.onreadystatechange=function(){et.test(f.readyState)&&(f.onload=f.onerror=f.onreadystatechange=null,!o&&!mt.debug&&V.removeChild(f),f=t,n())}:setTimeout(function(){u(f,n)},1),o?(c.rel="stylesheet",c.href=i):(c.async=!0,c.src=i),L=c,X?V.insertBefore(c,X):V.appendChild(c),L=t}}}function p(e,r,n){if(1===arguments.length&&(n=e,e=t),!x(r)&&R(n)){var i=[];n.toString().replace(nt,"").replace(rt,function(e,t,r){r&&i.push(r)}),r=i}var a={id:e,uri:f(e),deps:r,factory:n};if(!a.uri&&Y.attachEvent){var s=o();s?a.uri=s.src:T("Failed to derive: "+n)}B("define",a),a.uri?g(a.uri,a):Q=a}function g(e,r){var n=it[e]||(it[e]=new c(e));n.status<ft&&(n.id=r.id||e,n.dependencies=f(r.deps||[],e),n.factory=r.factory,n.factory!==t&&(n.status=ft))}function v(e){function r(t){return f(t,e.uri)}function n(e){return y(it[r(e)])}if(!e)return null;if(e.status>=dt)return e.exports;e.status=dt,n.resolve=r,n.async=function(e,t){return l(r(e),t),n};var i=e.factory,i=R(i)?i(n,e.exports={},e):i;return e.exports=i===t?e.exports:i,e.status=ht,e.exports}function m(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n&&(it[n]||(it[n]=new c(n))).status<lt&&t.push(n)}return t}function y(e){var t=v(e);return null===t&&(!e||!Z.test(e.uri))&&B("error",e),t}function b(e){var t=ot[e.uri]||[];if(0===t.length)return!1;pt.push(e.uri);e:{for(e=0;e<t.length;e++)for(var r=0;r<pt.length;r++)if(pt[r]===t[e]){e=!0;break e}e=!1}if(e){for(e=pt[0],r=t.length-1;r>=0;r--)if(t[r]===e){t.splice(r,1);break}return!0}for(e=0;e<t.length;e++)if(b(it[t[e]]))return!0;return pt.pop(),!1}function j(e){var t=mt.preload,r=t.length;r?l(f(t),function(){t.splice(0,r),j(e)}):e()}function $(e){for(var t in e){var r=e[t];if(r&&"plugins"===t){t="preload";for(var n=[],s=void 0;s=r.shift();)n.push(J+"plugin-"+s);r=n}if((n=mt[t])&&S(n))for(var u in r)n[u]=r[u];else x(n)?r=n.concat(r):"base"===t&&(r=i(a(r+"/"))),mt[t]=r}return B("config",e),A}var E=e.seajs;if(!E||!E.version){var A=e.seajs={version:"2.0.0"},S=r("Object"),q=r("String"),x=Array.isArray||r("Array"),R=r("Function"),T=A.log=function(t,r){e.console&&(r||mt.debug)&&console[r||(r="log")]&&console[r](t)},w=A.events={};A.on=function(e,t){return t?((w[e]||(w[e]=[])).push(t),A):A},A.off=function(e,t){if(!e&&!t)return A.events=w={},A;var r=w[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete w[e];return A};var B=A.emit=function(e,t){var r,n=w[e];if(n)for(n=n.slice();r=n.shift();)r(t);return A},k=/[^?#]*\//,N=/\/\.\//g,O=/([^:\/])\/\/+/g,U=/\/[^/]+\/\.\.\//g,C=/\?|\.(?:css|js)$|\/$/,_=/#$/,F=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,D=/:\//,K=/^\./,M=/^\//,W=/^.*?\/\/.*?\//,Y=document,z=location,G=z.href.match(k)[0],H=Y.getElementsByTagName("script"),H=Y.getElementById("seajsnode")||H[H.length-1],J=(H.hasAttribute?H.src:H.getAttribute("src",4)).match(k)[0]||G;A.cwd=function(e){return e?G=n(e+"/"):G};var L,P,Q,V=Y.getElementsByTagName("head")[0]||Y.documentElement,X=V.getElementsByTagName("base")[0],Z=/\.css(?:\?|$)/i,et=/^(?:loaded|complete|undefined)$/,tt=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),rt=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,nt=/\\\\/g,it=A.cache={},at={},st={},ut={},ot={},ct=1,ft=2,lt=3,dt=4,ht=5;c.prototype.destroy=function(){delete it[this.uri],delete st[this.uri]};var pt=[];A.use=function(e,t){return j(function(){l(f(e),t)}),A},c.load=l,A.resolve=s,e.define=p,A.require=function(e){return(it[s(e)]||{}).exports};var gt=J,vt=gt.match(/^(.+?\/)(?:seajs\/)+(?:\d[^/]+\/)?$/);vt&&(gt=vt[1]);var mt=$.data={base:gt,charset:"utf-8",preload:[]};A.config=$;var yt,z=z.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),z=z+(" "+Y.cookie);if(z.replace(/seajs-(\w+)=1/g,function(e,t){(yt||(yt=[])).push(t)}),$({plugins:yt}),z=H.getAttribute("data-config"),H=H.getAttribute("data-main"),z&&mt.preload.push(z),H&&A.use(H),E&&E.args)for(H=["define","config","use"],E=E.args,z=0;z<E.length;z+=2)A[H[E[z]]].apply(A,E[z+1])}}(this)});
;define("common:widget/oui/seajs/2.1.0/sea-debug",function(){!function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(){return O++}function i(e){return e.match(I)[0]}function a(e){for(e=e.replace(G,"/");e.match(R);)e=e.replace(R,"/");return e}function s(e){var t=e.length-1;return"#"===e.charAt(t)?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)?e:e+".js"}function o(e){var t=T.alias;return t&&D(t[e])?t[e]:e}function u(e){var t,r=T.paths;return r&&(t=e.match($))&&D(r[t[1]])&&(e=r[t[1]]+t[2]),e}function c(e){var t=T.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(k,function(e,r){return D(t[r])?t[r]:e})),e}function f(e){var t=T.map,r=e;if(t)for(var n=0,i=t.length;i>n;n++){var a=t[n];if(r=N(a)?a(e)||e:e.replace(a[0],a[1]),r!==e)break}return r}function l(e,t){var r,n=e.charAt(0);if(L.test(e))r=e;else if("."===n)r=a((t?i(t):T.cwd)+e);else if("/"===n){var s=T.cwd.match(B);r=s?s[0]+e.substring(1):e}else r=T.base+e;return r}function d(e,t){if(!e)return"";e=o(e),e=u(e),e=c(e),e=s(e);var r=l(e,t);return r=f(r)}function v(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function h(e,t,r){var n=Y.test(e),i=X.createElement(n?"link":"script");if(r){var a=N(r)?r(e):r;a&&(i.charset=a)}p(i,t,n),n?(i.rel="stylesheet",i.href=e):(i.async=!0,i.src=e),x=i,W?K.insertBefore(i,W):K.appendChild(i),x=null}function p(e,t,r){var n=r&&(J||!("onload"in e));return n?void setTimeout(function(){g(e,t)},1):void(e.onload=e.onerror=e.onreadystatechange=function(){z.test(e.readyState)&&(e.onload=e.onerror=e.onreadystatechange=null,r||T.debug||K.removeChild(e),e=null,t())})}function g(e,t){var r,n=e.sheet;if(J)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():g(e,t)},20)}function m(){if(x)return x;if(U&&"interactive"===U.readyState)return U;for(var e=K.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return U=r}}function E(e){var t=[];return e.replace(Z,"").replace(Q,function(e,r,n){n&&t.push(n)}),t}function y(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function b(e,t){var r={id:e,refUri:t};return C("resolve",r),r.uri||d(r.id,t)}function _(e,t){var r=y.get(e);r.status<it.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=it.SAVED)}if(!e.seajs){var A=e.seajs={version:"2.1.0"},T=A.data={},w=r("Object"),D=r("String"),S=Array.isArray||r("Array"),N=r("Function"),O=0,j=T.events={};A.on=function(e,t){var r=j[e]||(j[e]=[]);return r.push(t),A},A.off=function(e,t){if(!e&&!t)return j=T.events={},A;var r=j[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete j[e];return A};var x,U,q,C=A.emit=function(e,t){var r,n=j[e];if(n)for(n=n.slice();r=n.shift();)r(t);return A},I=/[^?#]*\//,G=/\/\.\//g,R=/\/[^/]+\/\.\.\//,$=/^([^/:]+)(\/.+)$/,k=/{([^{]+)}/g,L=/^\/\/.|:\//,B=/^.*?\/\/.*?\//,X=document,F=location,V=i(F.href),H=X.getElementsByTagName("script"),M=X.getElementById("seajsnode")||H[H.length-1],P=i(v(M)||V),K=X.getElementsByTagName("head")[0]||X.documentElement,W=K.getElementsByTagName("base")[0],Y=/\.css(?:\?|$)/i,z=/^(?:loaded|complete|undefined)$/,J=1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,Q=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,Z=/\\\\/g,et=A.cache={},tt={},rt={},nt={},it=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var e=this,t=e.dependencies,r=[],n=0,i=t.length;i>n;n++)r[n]=b(t[n],e.uri);return r},y.prototype.load=function(){var e=this;if(!(e.status>=it.LOADING)){e.status=it.LOADING;var t=e.resolve();C("load",t);for(var r,n=e._remain=t.length,i=0;n>i;i++)r=y.get(t[i]),r.status<it.LOADED?r._waitings[e.uri]=(r._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return void e.onload();var a={};for(i=0;n>i;i++)r=et[t[i]],r.status<it.FETCHING?r.fetch(a):r.status===it.SAVED&&r.load();for(var s in a)a.hasOwnProperty(s)&&a[s]()}},y.prototype.onload=function(){var e=this;e.status=it.LOADED,e.callback&&e.callback();var t,r,n=e._waitings;for(t in n)n.hasOwnProperty(t)&&(r=et[t],r._remain-=n[t],0===r._remain&&r.onload());delete e._waitings,delete e._remain},y.prototype.fetch=function(e){function t(){h(a.requestUri,a.onRequest,a.charset)}function r(){delete tt[s],rt[s]=!0,q&&(_(i,q),q=null);var e,t=nt[s];for(delete nt[s];e=t.shift();)e.load()}var n=this,i=n.uri;n.status=it.FETCHING;var a={uri:i};C("fetch",a);var s=a.requestUri||i;return!s||rt[s]?void n.load():tt[s]?void nt[s].push(n):(tt[s]=!0,nt[s]=[n],C("request",a={uri:i,requestUri:s,onRequest:r,charset:T.charset}),void(a.requested||(e?e[a.requestUri]=t:t())))},y.prototype.exec=function(){function e(t){return et[e.resolve(t)].exec()}var r=this;if(r.status>=it.EXECUTING)return r.exports;r.status=it.EXECUTING;var i=r.uri;e.resolve=function(e){return b(e,i)},e.async=function(t,r){return y.use(t,r,i+"_async_"+n()),e};var a=r.factory,s=N(a)?a(e,r.exports={},r):a;return s===t&&(s=r.exports),null!==s||Y.test(i)||C("error",r),delete r.factory,r.exports=s,r.status=it.EXECUTED,C("exec",r),s},y.define=function(e,r,n){var i=arguments.length;1===i?(n=e,e=t):2===i&&(n=r,S(e)?(r=e,e=t):r=t),!S(r)&&N(n)&&(r=E(n.toString()));var a={id:e,uri:b(e),deps:r,factory:n};if(!a.uri&&X.attachEvent){var s=m();s&&(a.uri=s.src)}C("define",a),a.uri?_(a.uri,a):q=a},y.get=function(e,t){return et[e]||(et[e]=new y(e,t))},y.use=function(t,r,n){var i=y.get(n,S(t)?t:[t]);i.callback=function(){for(var t=[],n=i.resolve(),a=0,s=n.length;s>a;a++)t[a]=et[n[a]].exec();r&&r.apply(e,t),delete i.callback},i.load()},y.preload=function(e){var t=T.preload,r=t.length;r?y.use(t,function(){t.splice(0,r),y.preload(e)},T.cwd+"_preload_"+n()):e()},A.use=function(e,t){return y.preload(function(){y.use(e,t,T.cwd+"_use_"+n())}),A},y.define.cmd={},e.define=y.define,A.Module=y,T.fetchedList=rt,T.cid=n,A.resolve=d,A.require=function(e){return(et[b(e)]||{}).exports};var at=/^(.+?\/)(\?\?)?(seajs\/)+/;T.base=(P.match(at)||["",P])[1],T.dir=P,T.cwd=V,T.charset="utf-8",T.preload=function(){var e=[],t=F.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return t+=" "+X.cookie,t.replace(/(seajs-\w+)=1/g,function(t,r){e.push(r)}),e}(),A.config=function(e){for(var t in e){var r=e[t],n=T[t];if(n&&w(n))for(var i in r)n[i]=r[i];else S(n)?r=n.concat(r):"base"===t&&("/"===r.slice(-1)||(r+="/"),r=l(r)),T[t]=r}return C("config",e),A}}}(this)});
;define("common:widget/oui/seajs/2.1.0/sea",function(){!function(e,t){function r(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}function n(){return m++}function i(e,t){var r;if(r=e.charAt(0),O.test(e))r=e;else if("."===r)for(r=(t?t.match(T)[0]:h.cwd)+e,r=r.replace(w,"/");r.match(D);)r=r.replace(D,"/");else r="/"===r?(r=h.cwd.match(j))?r[0]+e.substring(1):e:h.base+e;return r}function s(e,t){if(!e)return"";var r,n=e,s=h.alias,n=e=s&&p(s[n])?s[n]:n,s=h.paths;s&&(r=n.match(S))&&p(s[r[1]])&&(n=s[r[1]]+r[2]),r=n;var a=h.vars;a&&-1<r.indexOf("{")&&(r=r.replace(N,function(e,t){return p(a[t])?a[t]:e})),n=r.length-1,e="#"===r.charAt(n)?r.substring(0,n):".js"===r.substring(n-2)||0<r.indexOf("?")||".css"===r.substring(n-3)?r:r+".js",r=i(e,t);var n=h.map,o=r;if(n)for(var s=0,u=n.length;u>s&&(o=n[s],o=g(o)?o(r)||r:r.replace(o[0],o[1]),!(o!==r));s++);return o}function a(e,t){var r,n=e.sheet;if(L)n&&(r=!0);else if(n)try{n.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?t():a(e,t)},20)}function o(){if(y)return y;if(_&&"interactive"===_.readyState)return _;for(var e=I.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var r=e[t];if("interactive"===r.readyState)return _=r}}function u(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function c(e,t){var r={id:e,refUri:t};return A("resolve",r),r.uri||s(r.id,t)}function f(e,t){var r=u.get(e);r.status<M.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=M.SAVED)}if(!e.seajs){var l=e.seajs={version:"2.1.0"},h=l.data={},d=r("Object"),p=r("String"),v=Array.isArray||r("Array"),g=r("Function"),m=0,E=h.events={};l.on=function(e,t){return(E[e]||(E[e]=[])).push(t),l},l.off=function(e,t){if(!e&&!t)return E=h.events={},l;var r=E[e];if(r)if(t)for(var n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1);else delete E[e];return l};var y,_,b,A=l.emit=function(e,t){var r,n=E[e];if(n)for(n=n.slice();r=n.shift();)r(t);return l},T=/[^?#]*\//,w=/\/\.\//g,D=/\/[^/]+\/\.\.\//,S=/^([^/:]+)(\/.+)$/,N=/{([^{]+)}/g,O=/^\/\/.|:\//,j=/^.*?\/\/.*?\//,x=document,U=location,q=U.href.match(T)[0],C=x.getElementsByTagName("script"),C=x.getElementById("seajsnode")||C[C.length-1],C=((C.hasAttribute?C.src:C.getAttribute("src",4))||q).match(T)[0],I=x.getElementsByTagName("head")[0]||x.documentElement,G=I.getElementsByTagName("base")[0],R=/\.css(?:\?|$)/i,$=/^(?:loaded|complete|undefined)$/,L=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),k=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,B=/\\\\/g,X=l.cache={},F={},V={},H={},M=u.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};u.prototype.resolve=function(){for(var e=this.dependencies,t=[],r=0,n=e.length;n>r;r++)t[r]=c(e[r],this.uri);return t},u.prototype.load=function(){if(!(this.status>=M.LOADING)){this.status=M.LOADING;var e=this.resolve();A("load",e);for(var t,r=this._remain=e.length,n=0;r>n;n++)t=u.get(e[n]),t.status<M.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0===this._remain)this.onload();else{for(var i={},n=0;r>n;n++)t=X[e[n]],t.status<M.FETCHING?t.fetch(i):t.status===M.SAVED&&t.load();for(var s in i)i.hasOwnProperty(s)&&i[s]()}}},u.prototype.onload=function(){this.status=M.LOADED,this.callback&&this.callback();var e,t,r=this._waitings;for(e in r)r.hasOwnProperty(e)&&(t=X[e],t._remain-=r[e],0===t._remain)&&t.onload();delete this._waitings,delete this._remain},u.prototype.fetch=function(e){function t(){var e=i.requestUri,t=i.onRequest,r=i.charset,n=R.test(e),s=x.createElement(n?"link":"script");r&&(r=g(r)?r(e):r)&&(s.charset=r);var o=s;!n||!L&&"onload"in o?o.onload=o.onerror=o.onreadystatechange=function(){$.test(o.readyState)&&(o.onload=o.onerror=o.onreadystatechange=null,!n&&!h.debug&&I.removeChild(o),o=null,t())}:setTimeout(function(){a(o,t)},1),n?(s.rel="stylesheet",s.href=e):(s.async=!0,s.src=e),y=s,G?I.insertBefore(s,G):I.appendChild(s),y=null}function r(){delete F[s],V[s]=!0,b&&(f(n,b),b=null);var e,t=H[s];for(delete H[s];e=t.shift();)e.load()}var n=this.uri;this.status=M.FETCHING;var i={uri:n};A("fetch",i);var s=i.requestUri||n;!s||V[s]?this.load():F[s]?H[s].push(this):(F[s]=!0,H[s]=[this],A("request",i={uri:n,requestUri:s,onRequest:r,charset:h.charset}),i.requested||(e?e[i.requestUri]=t:t()))},u.prototype.exec=function(){function e(t){return X[e.resolve(t)].exec()}if(this.status>=M.EXECUTING)return this.exports;this.status=M.EXECUTING;var r=this.uri;e.resolve=function(e){return c(e,r)},e.async=function(t,n){return u.use(t,n,r+"_async_"+m++),e};var n=this.factory,n=g(n)?n(e,this.exports={},this):n;return n===t&&(n=this.exports),null===n&&!R.test(r)&&A("error",this),delete this.factory,this.exports=n,this.status=M.EXECUTED,A("exec",this),n},u.define=function(e,r,n){var i=arguments.length;if(1===i?(n=e,e=t):2===i&&(n=r,v(e)?(r=e,e=t):r=t),!v(r)&&g(n)){var s=[];n.toString().replace(B,"").replace(k,function(e,t,r){r&&s.push(r)}),r=s}if(i={id:e,uri:c(e),deps:r,factory:n},!i.uri&&x.attachEvent){var a=o();a&&(i.uri=a.src)}A("define",i),i.uri?f(i.uri,i):b=i},u.get=function(e,t){return X[e]||(X[e]=new u(e,t))},u.use=function(t,r,n){var i=u.get(n,v(t)?t:[t]);i.callback=function(){for(var t=[],n=i.resolve(),s=0,a=n.length;a>s;s++)t[s]=X[n[s]].exec();r&&r.apply(e,t),delete i.callback},i.load()},u.preload=function(e){var t=h.preload,r=t.length;r?u.use(t,function(){t.splice(0,r),u.preload(e)},h.cwd+"_preload_"+m++):e()},l.use=function(e,t){return u.preload(function(){u.use(e,t,h.cwd+"_use_"+m++)}),l},u.define.cmd={},e.define=u.define,l.Module=u,h.fetchedList=V,h.cid=n,l.resolve=s,l.require=function(e){return(X[c(e)]||{}).exports},h.base=(C.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",C])[1],h.dir=C,h.cwd=q,h.charset="utf-8";var q=h,P=[],U=U.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),U=U+(" "+x.cookie);U.replace(/(seajs-\w+)=1/g,function(e,t){P.push(t)}),q.preload=P,l.config=function(e){for(var t in e){var r=e[t],n=h[t];if(n&&d(n))for(var s in r)n[s]=r[s];else v(n)?r=n.concat(r):"base"===t&&("/"===r.slice(-1)||(r+="/"),r=i(r)),h[t]=r}return A("config",e),l}}}(this)});
;define("common:widget/oui/seajs/2.1.0/seajs-text",function(){!function(){function e(e){i[e.name]=e}function n(e){return e&&i.hasOwnProperty(e)}function t(e){for(var t in i)if(n(t)){var r=","+i[t].ext.join(",")+",";if(r.indexOf(","+e+",")>-1)return t}}function r(e,n){var t=s.ActiveXObject?new s.ActiveXObject("Microsoft.XMLHTTP"):new s.XMLHttpRequest;return t.open("GET",e,!0),t.onreadystatechange=function(){if(4===t.readyState){if(t.status>399&&t.status<600)throw new Error("Could not load: "+e+", status = "+t.status);n(t.responseText)}},t.send(null)}function a(e){e&&/\S/.test(e)&&(s.execScript||function(e){(s.eval||eval).call(s,e)})(e)}function o(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}var s=window,i={},u={};e({name:"text",ext:[".tpl",".html"],exec:function(e,n){a('define("'+e+'#", [], "'+o(n)+'")')}}),e({name:"json",ext:[".json"],exec:function(e,n){a('define("'+e+'#", [], '+n+")")}}),e({name:"handlebars",ext:[".handlebars"],exec:function(e,n){var t=['define("'+e+'#", ["handlebars"], function(require, exports, module) {','  var source = "'+o(n)+'"','  var Handlebars = require("handlebars")',"  module.exports = function(data, options) {","    options || (options = {})","    options.helpers || (options.helpers = {})","    for (var key in Handlebars.helpers) {","      options.helpers[key] = options.helpers[key] || Handlebars.helpers[key]","    }","    return Handlebars.compile(source)(data, options)","  }","})"].join("\n");a(t)}}),seajs.on("resolve",function(e){var r=e.id;if(!r)return"";var a,o;(o=r.match(/^(\w+)!(.+)$/))&&n(o[1])?(a=o[1],r=o[2]):(o=r.match(/[^?]+(\.\w+)(?:\?|#|$)/))&&(a=t(o[1])),a&&-1===r.indexOf("#")&&(r+="#");var s=seajs.resolve(r,e.refUri);a&&(u[s]=a),e.uri=s}),seajs.on("request",function(e){var n=u[e.uri];n&&(r(e.requestUri,function(t){i[n].exec(e.uri,t),e.onRequest()}),e.requested=!0)}),define("seajs/seajs-text/1.0.2/seajs-text",[],{})}()});
;define("common:widget/ui/lib/eventEmitter",function(t,e,n){function i(){}i.prototype.on=function(t,e,n){this._listeners||(this._listeners={}),this._listeners[t]||(this._listeners[t]=[]);for(var i=!0,r=this._listeners[t],s=0,f=r.length;f>s;s++){var h=r[s];if(h.fn===e){i=!1;break}}return i&&r.push({fn:e,context:n?n:null}),this},i.prototype.off=function(t,e){if(!this._listeners)return this;if(!t)return this._listeners=null,this;var n=this._listeners[t];if(!n||n.length<1)return this;for(var i=0,r=n.length;r>i;i++){var s=n[i];if(s.fn===e)return n.splice(i,1),this}return this},i.prototype.trigger=function(t,e){if(!this._listeners)return this;var n=this._listeners[t];if(!n||n.length<1)return this;n=n.slice();for(var i=0,r=n.length;r>i;i++){var s=n[i];"function"==typeof s.fn&&s.fn.call(s.context,e)}return this},i.eventCenter=new i,n.exports=i});
;define("common:widget/ui/mask/mask",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter"],function(i,t,e){function o(i){var t=n.extend({cssClass:"",width:"100%",height:"100%",zIndex:9888,parentNode:document.body},i||{});this.config=t,this.$el=null}var n=i("common:widget/oui/lib/jquery/1.9.1/jquery"),s=i("common:widget/ui/lib/eventEmitter");n.extend(o.prototype,s.prototype),n.extend(o.prototype,{_setup:function(){var i=this.config,t=n('<div class="j-mask '+i.cssClass+'"></div>').css({width:i.width,height:i.height,"z-index":i.zIndex}),e=this;this.onClick=function(){e.trigger("click")},t.on("click",this.onClick),t.appendTo(i.parentNode),this.$el=t},show:function(){return this.$el||this._setup(),this.$el.show(),this},hide:function(){return this.$el&&this.$el.hide(),this},destroy:function(){this.$el&&(this.$el.off("click",this.onClick),this.onClick=null,this.$el.remove(),this.$el=null)}}),e.exports=o});
;define("common:widget/ui/dialog/dialog",["require","exports","module","common:widget/oui/lib/jquery/1.9.1/jquery","common:widget/ui/lib/eventEmitter","common:widget/ui/mask/mask"],function(i,t,e){function n(i){this.config=l.extend({title:"",header:"",content:"",btnContainer:"",footer:"",cssClass:"",width:"700px",zIndex:9999,autoInit:!0},i||{}),this.$el=null,this.$closeBtn=null,this._destroyed=!1,this.config.autoInit&&this.init()}function s(i){this.config=l.extend(!0,{zIndex:9999,autoInit:!0,clickMaskHide:!0,maskConfig:{}},i||{}),this._dialog=null,this._mask=null,this._destroyed=!1,this.config.autoInit&&this.init()}function o(i){var t=i.contentWindow.document;return t.body.scrollHeight&&t.documentElement.scrollHeight?Math.min(t.body.scrollHeight,t.documentElement.scrollHeight):t.documentElement.scrollHeight?t.documentEle